(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Au={exports:{}},dr={};var vg;function pv(){if(vg)return dr;vg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:s,type:l,key:d,ref:o!==void 0?o:null,props:c}}return dr.Fragment=n,dr.jsx=i,dr.jsxs=i,dr}var bg;function yv(){return bg||(bg=1,Au.exports=pv()),Au.exports}var S=yv(),ku={exports:{}},le={};var _g;function vv(){if(_g)return le;_g=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function z(x,M,G){this.props=x,this.context=M,this.refs=R,this.updater=G||A}z.prototype.isReactComponent={},z.prototype.setState=function(x,M){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,M,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function q(){}q.prototype=z.prototype;function $(x,M,G){this.props=x,this.context=M,this.refs=R,this.updater=G||A}var Y=$.prototype=new q;Y.constructor=$,T(Y,z.prototype),Y.isPureReactComponent=!0;var F=Array.isArray;function P(){}var K={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function ee(x,M,G){var Q=G.ref;return{$$typeof:s,type:x,key:M,ref:Q!==void 0?Q:null,props:G}}function se(x,M){return ee(x.type,M,x.props)}function ve(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function de(x){var M={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(G){return M[G]})}var Ue=/\/+/g;function Ae(x,M){return typeof x=="object"&&x!==null&&x.key!=null?de(""+x.key):M.toString(36)}function Ye(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(P,P):(x.status="pending",x.then(function(M){x.status==="pending"&&(x.status="fulfilled",x.value=M)},function(M){x.status==="pending"&&(x.status="rejected",x.reason=M)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function k(x,M,G,Q,oe){var ge=typeof x;(ge==="undefined"||ge==="boolean")&&(x=null);var Oe=!1;if(x===null)Oe=!0;else switch(ge){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(x.$$typeof){case s:case n:Oe=!0;break;case b:return Oe=x._init,k(Oe(x._payload),M,G,Q,oe)}}if(Oe)return oe=oe(x),Oe=Q===""?"."+Ae(x,0):Q,F(oe)?(G="",Oe!=null&&(G=Oe.replace(Ue,"$&/")+"/"),k(oe,M,G,"",function(bi){return bi})):oe!=null&&(ve(oe)&&(oe=se(oe,G+(oe.key==null||x&&x.key===oe.key?"":(""+oe.key).replace(Ue,"$&/")+"/")+Oe)),M.push(oe)),1;Oe=0;var ft=Q===""?".":Q+":";if(F(x))for(var Ke=0;Ke<x.length;Ke++)Q=x[Ke],ge=ft+Ae(Q,Ke),Oe+=k(Q,M,G,ge,oe);else if(Ke=E(x),typeof Ke=="function")for(x=Ke.call(x),Ke=0;!(Q=x.next()).done;)Q=Q.value,ge=ft+Ae(Q,Ke++),Oe+=k(Q,M,G,ge,oe);else if(ge==="object"){if(typeof x.then=="function")return k(Ye(x),M,G,Q,oe);throw M=String(x),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function V(x,M,G){if(x==null)return x;var Q=[],oe=0;return k(x,Q,"","",function(ge){return M.call(G,ge,oe++)}),Q}function J(x){if(x._status===-1){var M=x._result;M=M(),M.then(function(G){(x._status===0||x._status===-1)&&(x._status=1,x._result=G)},function(G){(x._status===0||x._status===-1)&&(x._status=2,x._result=G)}),x._status===-1&&(x._status=0,x._result=M)}if(x._status===1)return x._result.default;throw x._result}var he=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Se={map:V,forEach:function(x,M,G){V(x,function(){M.apply(this,arguments)},G)},count:function(x){var M=0;return V(x,function(){M++}),M},toArray:function(x){return V(x,function(M){return M})||[]},only:function(x){if(!ve(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return le.Activity=v,le.Children=Se,le.Component=z,le.Fragment=i,le.Profiler=o,le.PureComponent=$,le.StrictMode=l,le.Suspense=g,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return K.H.useMemoCache(x)}},le.cache=function(x){return function(){return x.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(x,M,G){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=T({},x.props),oe=x.key;if(M!=null)for(ge in M.key!==void 0&&(oe=""+M.key),M)!fe.call(M,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&M.ref===void 0||(Q[ge]=M[ge]);var ge=arguments.length-2;if(ge===1)Q.children=G;else if(1<ge){for(var Oe=Array(ge),ft=0;ft<ge;ft++)Oe[ft]=arguments[ft+2];Q.children=Oe}return ee(x.type,oe,Q)},le.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},le.createElement=function(x,M,G){var Q,oe={},ge=null;if(M!=null)for(Q in M.key!==void 0&&(ge=""+M.key),M)fe.call(M,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(oe[Q]=M[Q]);var Oe=arguments.length-2;if(Oe===1)oe.children=G;else if(1<Oe){for(var ft=Array(Oe),Ke=0;Ke<Oe;Ke++)ft[Ke]=arguments[Ke+2];oe.children=ft}if(x&&x.defaultProps)for(Q in Oe=x.defaultProps,Oe)oe[Q]===void 0&&(oe[Q]=Oe[Q]);return ee(x,ge,oe)},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:h,render:x}},le.isValidElement=ve,le.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:J}},le.memo=function(x,M){return{$$typeof:p,type:x,compare:M===void 0?null:M}},le.startTransition=function(x){var M=K.T,G={};K.T=G;try{var Q=x(),oe=K.S;oe!==null&&oe(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(P,he)}catch(ge){he(ge)}finally{M!==null&&G.types!==null&&(M.types=G.types),K.T=M}},le.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},le.use=function(x){return K.H.use(x)},le.useActionState=function(x,M,G){return K.H.useActionState(x,M,G)},le.useCallback=function(x,M){return K.H.useCallback(x,M)},le.useContext=function(x){return K.H.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x,M){return K.H.useDeferredValue(x,M)},le.useEffect=function(x,M){return K.H.useEffect(x,M)},le.useEffectEvent=function(x){return K.H.useEffectEvent(x)},le.useId=function(){return K.H.useId()},le.useImperativeHandle=function(x,M,G){return K.H.useImperativeHandle(x,M,G)},le.useInsertionEffect=function(x,M){return K.H.useInsertionEffect(x,M)},le.useLayoutEffect=function(x,M){return K.H.useLayoutEffect(x,M)},le.useMemo=function(x,M){return K.H.useMemo(x,M)},le.useOptimistic=function(x,M){return K.H.useOptimistic(x,M)},le.useReducer=function(x,M,G){return K.H.useReducer(x,M,G)},le.useRef=function(x){return K.H.useRef(x)},le.useState=function(x){return K.H.useState(x)},le.useSyncExternalStore=function(x,M,G){return K.H.useSyncExternalStore(x,M,G)},le.useTransition=function(){return K.H.useTransition()},le.version="19.2.3",le}var Sg;function al(){return Sg||(Sg=1,ku.exports=vv()),ku.exports}var I=al(),Cu={exports:{}},hr={},Ru={exports:{}},ju={};var wg;function bv(){return wg||(wg=1,(function(s){function n(k,V){var J=k.length;k.push(V);e:for(;0<J;){var he=J-1>>>1,Se=k[he];if(0<o(Se,V))k[he]=V,k[J]=Se,J=he;else break e}}function i(k){return k.length===0?null:k[0]}function l(k){if(k.length===0)return null;var V=k[0],J=k.pop();if(J!==V){k[0]=J;e:for(var he=0,Se=k.length,x=Se>>>1;he<x;){var M=2*(he+1)-1,G=k[M],Q=M+1,oe=k[Q];if(0>o(G,J))Q<Se&&0>o(oe,G)?(k[he]=oe,k[Q]=J,he=Q):(k[he]=G,k[M]=J,he=M);else if(Q<Se&&0>o(oe,J))k[he]=oe,k[Q]=J,he=Q;else break e}}return V}function o(k,V){var J=k.sortIndex-V.sortIndex;return J!==0?J:k.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var g=[],p=[],b=1,v=null,_=3,E=!1,A=!1,T=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Y(k){for(var V=i(p);V!==null;){if(V.callback===null)l(p);else if(V.startTime<=k)l(p),V.sortIndex=V.expirationTime,n(g,V);else break;V=i(p)}}function F(k){if(T=!1,Y(k),!A)if(i(g)!==null)A=!0,P||(P=!0,de());else{var V=i(p);V!==null&&Ye(F,V.startTime-k)}}var P=!1,K=-1,fe=5,ee=-1;function se(){return R?!0:!(s.unstable_now()-ee<fe)}function ve(){if(R=!1,P){var k=s.unstable_now();ee=k;var V=!0;try{e:{A=!1,T&&(T=!1,q(K),K=-1),E=!0;var J=_;try{t:{for(Y(k),v=i(g);v!==null&&!(v.expirationTime>k&&se());){var he=v.callback;if(typeof he=="function"){v.callback=null,_=v.priorityLevel;var Se=he(v.expirationTime<=k);if(k=s.unstable_now(),typeof Se=="function"){v.callback=Se,Y(k),V=!0;break t}v===i(g)&&l(g),Y(k)}else l(g);v=i(g)}if(v!==null)V=!0;else{var x=i(p);x!==null&&Ye(F,x.startTime-k),V=!1}}break e}finally{v=null,_=J,E=!1}V=void 0}}finally{V?de():P=!1}}}var de;if(typeof $=="function")de=function(){$(ve)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ae=Ue.port2;Ue.port1.onmessage=ve,de=function(){Ae.postMessage(null)}}else de=function(){z(ve,0)};function Ye(k,V){K=z(function(){k(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(k){switch(_){case 1:case 2:case 3:var V=3;break;default:V=_}var J=_;_=V;try{return k()}finally{_=J}},s.unstable_requestPaint=function(){R=!0},s.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var J=_;_=k;try{return V()}finally{_=J}},s.unstable_scheduleCallback=function(k,V,J){var he=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,k){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=J+Se,k={id:b++,callback:V,priorityLevel:k,startTime:J,expirationTime:Se,sortIndex:-1},J>he?(k.sortIndex=J,n(p,k),i(g)===null&&k===i(p)&&(T?(q(K),K=-1):T=!0,Ye(F,J-he))):(k.sortIndex=Se,n(g,k),A||E||(A=!0,P||(P=!0,de()))),k},s.unstable_shouldYield=se,s.unstable_wrapCallback=function(k){var V=_;return function(){var J=_;_=V;try{return k.apply(this,arguments)}finally{_=J}}}})(ju)),ju}var Eg;function _v(){return Eg||(Eg=1,Ru.exports=bv()),Ru.exports}var Nu={exports:{}},ct={};var Tg;function Sv(){if(Tg)return ct;Tg=1;var s=al();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ct.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(g,p,null,b)},ct.flushSync=function(g){var p=d.T,b=l.p;try{if(d.T=null,l.p=2,g)return g()}finally{d.T=p,l.p=b,l.d.f()}},ct.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},ct.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},ct.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:E}):b==="script"&&l.d.X(g,{crossOrigin:v,integrity:_,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},ct.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin);l.d.L(g,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=h(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},ct.requestFormReset=function(g){l.d.r(g)},ct.unstable_batchedUpdates=function(g,p){return g(p)},ct.useFormState=function(g,p,b){return d.H.useFormState(g,p,b)},ct.useFormStatus=function(){return d.H.useHostTransitionStatus()},ct.version="19.2.3",ct}var xg;function wv(){if(xg)return Nu.exports;xg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Nu.exports=Sv(),Nu.exports}var Og;function Ev(){if(Og)return hr;Og=1;var s=_v(),n=al(),i=wv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,r=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){a=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),e;if(f===r)return g(u),t;f=f.sibling}throw Error(l(188))}if(a.return!==r.return)a=u,r=f;else{for(var m=!1,y=u.child;y;){if(y===a){m=!0,a=u,r=f;break}if(y===r){m=!0,r=u,a=f;break}y=y.sibling}if(!m){for(y=f.child;y;){if(y===a){m=!0,a=f,r=u;break}if(y===r){m=!0,r=f,a=u;break}y=y.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case $:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var Ye=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},he=[],Se=-1;function x(e){return{current:e}}function M(e){0>Se||(e.current=he[Se],he[Se]=null,Se--)}function G(e,t){Se++,he[Se]=e.current,e.current=t}var Q=x(null),oe=x(null),ge=x(null),Oe=x(null);function ft(e,t){switch(G(ge,t),G(oe,e),G(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$h(t),e=Vh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(Q),G(Q,e)}function Ke(){M(Q),M(oe),M(ge)}function bi(e){e.memoizedState!==null&&G(Oe,e);var t=Q.current,a=Vh(t,e.type);t!==a&&(G(oe,e),G(Q,a))}function kr(e){oe.current===e&&(M(Q),M(oe)),Oe.current===e&&(M(Oe),or._currentValue=J)}var ol,pc;function Qn(e){if(ol===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||"",pc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ol+e+pc}var ul=!1;function cl(e,t){if(!e||ul)return"";ul=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(U){var D=U}Reflect.construct(e,[],H)}else{try{H.call()}catch(U){D=U}e.call(H.prototype)}}else{try{throw Error()}catch(U){D=U}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(U){if(U&&D&&typeof U.stack=="string")return[U.stack,D.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),m=f[0],y=f[1];if(m&&y){var w=m.split(`
`),N=y.split(`
`);for(u=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(r===w.length||u===N.length)for(r=w.length-1,u=N.length-1;1<=r&&0<=u&&w[r]!==N[u];)u--;for(;1<=r&&0<=u;r--,u--)if(w[r]!==N[u]){if(r!==1||u!==1)do if(r--,u--,0>u||w[r]!==N[u]){var L=`
`+w[r].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=r&&0<=u);break}}}finally{ul=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Qn(a):""}function Pm(e,t){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return e.child!==t&&t!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return cl(e.type,!1);case 11:return cl(e.type.render,!1);case 1:return cl(e.type,!0);case 31:return Qn("Activity");default:return""}}function yc(e){try{var t="",a=null;do t+=Pm(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var fl=Object.prototype.hasOwnProperty,dl=s.unstable_scheduleCallback,hl=s.unstable_cancelCallback,Jm=s.unstable_shouldYield,Qm=s.unstable_requestPaint,_t=s.unstable_now,Xm=s.unstable_getCurrentPriorityLevel,vc=s.unstable_ImmediatePriority,bc=s.unstable_UserBlockingPriority,Cr=s.unstable_NormalPriority,Zm=s.unstable_LowPriority,_c=s.unstable_IdlePriority,Fm=s.log,Wm=s.unstable_setDisableYieldValue,_i=null,St=null;function wn(e){if(typeof Fm=="function"&&Wm(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(_i,e)}catch{}}var wt=Math.clz32?Math.clz32:np,ep=Math.log,tp=Math.LN2;function np(e){return e>>>=0,e===0?32:31-(ep(e)/tp|0)|0}var Rr=256,jr=262144,Nr=4194304;function Xn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dr(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=r&134217727;return y!==0?(r=y&~f,r!==0?u=Xn(r):(m&=y,m!==0?u=Xn(m):a||(a=y&~e,a!==0&&(u=Xn(a))))):(y=r&~f,y!==0?u=Xn(y):m!==0?u=Xn(m):a||(a=r&~e,a!==0&&(u=Xn(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function Si(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ap(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(){var e=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),e}function gl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function wi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ip(e,t,a,r,u,f){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,N=e.hiddenUpdates;for(a=m&~a;0<a;){var L=31-wt(a),H=1<<L;y[L]=0,w[L]=-1;var D=N[L];if(D!==null)for(N[L]=null,L=0;L<D.length;L++){var U=D[L];U!==null&&(U.lane&=-536870913)}a&=~H}r!==0&&wc(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~t))}function wc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-wt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Ec(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-wt(a),u=1<<r;u&t|e[r]&t&&(e[r]|=t),a&=~u}}function Tc(e,t){var a=t&-t;return a=(a&42)!==0?1:ml(a),(a&(e.suspendedLanes|t))!==0?0:a}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xc(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:fg(e.type))}function Oc(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var En=Math.random().toString(36).slice(2),nt="__reactFiber$"+En,ht="__reactProps$"+En,Sa="__reactContainer$"+En,yl="__reactEvents$"+En,rp="__reactListeners$"+En,sp="__reactHandles$"+En,Ac="__reactResources$"+En,Ei="__reactMarker$"+En;function vl(e){delete e[nt],delete e[ht],delete e[yl],delete e[rp],delete e[sp]}function wa(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Sa]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Qh(e);e!==null;){if(a=e[nt])return a;e=Qh(e)}return t}e=a,a=e.parentNode}return null}function Ea(e){if(e=e[nt]||e[Sa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ti(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ta(e){var t=e[Ac];return t||(t=e[Ac]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ei]=!0}var kc=new Set,Cc={};function Zn(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(Cc[e]=t,e=0;e<t.length;e++)kc.add(t[e])}var lp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rc={},jc={};function op(e){return fl.call(jc,e)?!0:fl.call(Rc,e)?!1:lp.test(e)?jc[e]=!0:(Rc[e]=!0,!1)}function Ur(e,t,a){if(op(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function zr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function tn(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function up(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){a=""+m,f.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){if(!e._valueTracker){var t=Nc(e)?"checked":"value";e._valueTracker=up(e,t,""+e[t])}}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Nc(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cp=/[\n"\\]/g;function Ut(e){return e.replace(cp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _l(e,t,a,r,u,f,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Sl(e,m,Dt(t)):a!=null?Sl(e,m,Dt(a)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Dt(y):e.removeAttribute("name")}function Uc(e,t,a,r,u,f,m,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){bl(e);return}a=a!=null?""+Dt(a):"",t=t!=null?""+Dt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=y?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),bl(e)}function Sl(e,t,a){t==="number"&&Lr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Oa(e,t,a,r){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Dt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function zc(e,t,a){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Dt(a):""}function Lc(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(l(92));if(Ye(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Dt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),bl(e)}function Aa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var fp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||fp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Bc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in t)r=t[u],t.hasOwnProperty(u)&&a[u]!==r&&Mc(e,u,r)}else for(var f in t)t.hasOwnProperty(f)&&Mc(e,f,t[f])}function wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(e){return hp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var El=null;function Tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,Ca=null;function qc(e){var t=Ea(e);if(t&&(e=t.stateNode)){var a=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(_l(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var u=r[ht]||null;if(!u)throw Error(l(90));_l(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Dc(r)}break e;case"textarea":zc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Oa(e,!!a.multiple,t,!1)}}}var xl=!1;function Hc(e,t,a){if(xl)return e(t,a);xl=!0;try{var r=e(t);return r}finally{if(xl=!1,(ka!==null||Ca!==null)&&(Ts(),ka&&(t=ka,e=Ca,Ca=ka=null,qc(t),e)))for(t=0;t<e.length;t++)qc(e[t])}}function xi(e,t){var a=e.stateNode;if(a===null)return null;var r=a[ht]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=!1;if(an)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Ol=!1}var Tn=null,Al=null,Br=null;function $c(){if(Br)return Br;var e,t=Al,a=t.length,r,u="value"in Tn?Tn.value:Tn.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var m=a-e;for(r=1;r<=m&&t[a-r]===u[f-r];r++);return Br=u.slice(e,1<r?1-r:void 0)}function qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hr(){return!0}function Vc(){return!1}function gt(e){function t(a,r,u,f,m){this._reactName=a,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hr:Vc,this.isPropagationStopped=Vc,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),t}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=gt(Fn),Ai=v({},Fn,{view:0,detail:0}),gp=gt(Ai),kl,Cl,ki,Vr=v({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(kl=e.screenX-ki.screenX,Cl=e.screenY-ki.screenY):Cl=kl=0,ki=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),Kc=gt(Vr),mp=v({},Vr,{dataTransfer:0}),pp=gt(mp),yp=v({},Ai,{relatedTarget:0}),Rl=gt(yp),vp=v({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=gt(vp),_p=v({},Fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sp=gt(_p),wp=v({},Fn,{data:0}),Gc=gt(wp),Ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Op(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xp[e])?!!t[e]:!1}function jl(){return Op}var Ap=v({},Ai,{key:function(e){if(e.key){var t=Ep[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(e){return e.type==="keypress"?qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kp=gt(Ap),Cp=v({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=gt(Cp),Rp=v({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),jp=gt(Rp),Np=v({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dp=gt(Np),Up=v({},Vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zp=gt(Up),Lp=v({},Fn,{newState:0,oldState:0}),Mp=gt(Lp),Bp=[9,13,27,32],Nl=an&&"CompositionEvent"in window,Ci=null;an&&"documentMode"in document&&(Ci=document.documentMode);var qp=an&&"TextEvent"in window&&!Ci,Yc=an&&(!Nl||Ci&&8<Ci&&11>=Ci),Pc=" ",Jc=!1;function Qc(e,t){switch(e){case"keyup":return Bp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function Hp(e,t){switch(e){case"compositionend":return Xc(t);case"keypress":return t.which!==32?null:(Jc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Jc?null:e;default:return null}}function $p(e,t){if(Ra)return e==="compositionend"||!Nl&&Qc(e,t)?(e=$c(),Br=Al=Tn=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yc&&t.locale!=="ko"?null:t.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vp[e.type]:t==="textarea"}function Fc(e,t,a,r){ka?Ca?Ca.push(r):Ca=[r]:ka=r,t=js(t,"onChange"),0<t.length&&(a=new $r("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Ri=null,ji=null;function Kp(e){zh(e,0)}function Kr(e){var t=Ti(e);if(Dc(t))return e}function Wc(e,t){if(e==="change")return t}var ef=!1;if(an){var Dl;if(an){var Ul="oninput"in document;if(!Ul){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),Ul=typeof tf.oninput=="function"}Dl=Ul}else Dl=!1;ef=Dl&&(!document.documentMode||9<document.documentMode)}function nf(){Ri&&(Ri.detachEvent("onpropertychange",af),ji=Ri=null)}function af(e){if(e.propertyName==="value"&&Kr(ji)){var t=[];Fc(t,ji,e,Tl(e)),Hc(Kp,t)}}function Gp(e,t,a){e==="focusin"?(nf(),Ri=t,ji=a,Ri.attachEvent("onpropertychange",af)):e==="focusout"&&nf()}function Ip(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kr(ji)}function Yp(e,t){if(e==="click")return Kr(t)}function Pp(e,t){if(e==="input"||e==="change")return Kr(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Jp;function Ni(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var u=a[r];if(!fl.call(t,u)||!Et(e[u],t[u]))return!1}return!0}function rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sf(e,t){var a=rf(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rf(a)}}function lf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function of(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Lr(e.document)}return t}function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Qp=an&&"documentMode"in document&&11>=document.documentMode,ja=null,Ll=null,Di=null,Ml=!1;function uf(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ml||ja==null||ja!==Lr(r)||(r=ja,"selectionStart"in r&&zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Di&&Ni(Di,r)||(Di=r,r=js(Ll,"onSelect"),0<r.length&&(t=new $r("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=ja)))}function Wn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Na={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},Bl={},cf={};an&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function ea(e){if(Bl[e])return Bl[e];if(!Na[e])return e;var t=Na[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in cf)return Bl[e]=t[a];return e}var ff=ea("animationend"),df=ea("animationiteration"),hf=ea("animationstart"),Xp=ea("transitionrun"),Zp=ea("transitionstart"),Fp=ea("transitioncancel"),gf=ea("transitionend"),mf=new Map,ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ql.push("scrollEnd");function Kt(e,t){mf.set(e,t),Zn(t,[e])}var Gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],Da=0,Hl=0;function Ir(){for(var e=Da,t=Hl=Da=0;t<e;){var a=zt[t];zt[t++]=null;var r=zt[t];zt[t++]=null;var u=zt[t];zt[t++]=null;var f=zt[t];if(zt[t++]=null,r!==null&&u!==null){var m=r.pending;m===null?u.next=u:(u.next=m.next,m.next=u),r.pending=u}f!==0&&pf(a,u,f)}}function Yr(e,t,a,r){zt[Da++]=e,zt[Da++]=t,zt[Da++]=a,zt[Da++]=r,Hl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function $l(e,t,a,r){return Yr(e,t,a,r),Pr(e)}function ta(e,t){return Yr(e,null,null,t),Pr(e)}function pf(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,r=f.alternate,r!==null&&(r.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-wt(a),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[t]:r.push(t),t.lane=a|536870912),f):null}function Pr(e){if(50<tr)throw tr=0,Zo=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ua={};function Wp(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,a,r){return new Wp(e,t,a,r)}function Vl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,t){var a=e.alternate;return a===null?(a=Tt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function yf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Jr(e,t,a,r,u,f){var m=0;if(r=e,typeof e=="function")Vl(e)&&(m=1);else if(typeof e=="string")m=iv(e,a,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Tt(31,a,t,u),e.elementType=ee,e.lanes=f,e;case T:return na(a.children,u,f,t);case R:m=8,u|=24;break;case z:return e=Tt(12,a,t,u|2),e.elementType=z,e.lanes=f,e;case F:return e=Tt(13,a,t,u),e.elementType=F,e.lanes=f,e;case P:return e=Tt(19,a,t,u),e.elementType=P,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:m=10;break e;case q:m=9;break e;case Y:m=11;break e;case K:m=14;break e;case fe:m=16,r=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Tt(m,a,t,u),t.elementType=e,t.type=r,t.lanes=f,t}function na(e,t,a,r){return e=Tt(7,e,r,t),e.lanes=a,e}function Kl(e,t,a){return e=Tt(6,e,null,t),e.lanes=a,e}function vf(e){var t=Tt(18,null,null,0);return t.stateNode=e,t}function Gl(e,t,a){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bf=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=bf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:yc(t)},bf.set(e,t),t)}return{value:e,source:t,stack:yc(t)}}var za=[],La=0,Qr=null,Ui=0,Mt=[],Bt=0,xn=null,Qt=1,Xt="";function sn(e,t){za[La++]=Ui,za[La++]=Qr,Qr=e,Ui=t}function _f(e,t,a){Mt[Bt++]=Qt,Mt[Bt++]=Xt,Mt[Bt++]=xn,xn=e;var r=Qt;e=Xt;var u=32-wt(r)-1;r&=~(1<<u),a+=1;var f=32-wt(t)+u;if(30<f){var m=u-u%5;f=(r&(1<<m)-1).toString(32),r>>=m,u-=m,Qt=1<<32-wt(t)+u|a<<u|r,Xt=f+e}else Qt=1<<f|a<<u|r,Xt=e}function Il(e){e.return!==null&&(sn(e,1),_f(e,1,0))}function Yl(e){for(;e===Qr;)Qr=za[--La],za[La]=null,Ui=za[--La],za[La]=null;for(;e===xn;)xn=Mt[--Bt],Mt[Bt]=null,Xt=Mt[--Bt],Mt[Bt]=null,Qt=Mt[--Bt],Mt[Bt]=null}function Sf(e,t){Mt[Bt++]=Qt,Mt[Bt++]=Xt,Mt[Bt++]=xn,Qt=t.id,Xt=t.overflow,xn=e}var at=null,Le=null,we=!1,On=null,qt=!1,Pl=Error(l(519));function An(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zi(Lt(t,e)),Pl}function wf(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[nt]=e,t[ht]=r,a){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(a=0;a<ar.length;a++)pe(ar[a],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Uc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Lc(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||qh(t.textContent,a)?(r.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),r.onScroll!=null&&pe("scroll",t),r.onScrollEnd!=null&&pe("scrollend",t),r.onClick!=null&&(t.onclick=nn),t=!0):t=!1,t||An(e,!0)}function Ef(e){for(at=e.return;at;)switch(at.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:at=at.return}}function Ma(e){if(e!==at)return!1;if(!we)return Ef(e),we=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||du(e.type,e.memoizedProps)),a=!a),a&&Le&&An(e),Ef(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=Jh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=Jh(e)}else t===27?(t=Le,$n(e.type)?(e=yu,yu=null,Le=e):Le=t):Le=at?$t(e.stateNode.nextSibling):null;return!0}function aa(){Le=at=null,we=!1}function Jl(){var e=On;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),On=null),e}function zi(e){On===null?On=[e]:On.push(e)}var Ql=x(null),ia=null,ln=null;function kn(e,t,a){G(Ql,t._currentValue),t._currentValue=a}function on(e){e._currentValue=Ql.current,M(Ql)}function Xl(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function Zl(e,t,a,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=u;for(var w=0;w<t.length;w++)if(y.context===t[w]){f.lanes|=a,y=f.alternate,y!==null&&(y.lanes|=a),Xl(f.return,a,e),r||(m=null);break e}f=y.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(l(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),Xl(m,a,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function Ba(e,t,a,r){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var y=u.type;Et(u.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(u===Oe.current){if(m=u.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(or):e=[or])}u=u.return}e!==null&&Zl(t,e,a,r),t.flags|=262144}function Xr(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){ia=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Tf(ia,e)}function Zr(e,t){return ia===null&&ra(e),Tf(e,t)}function Tf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ln===null){if(e===null)throw Error(l(308));ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ln=ln.next=t;return a}var ey=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ty=s.unstable_scheduleCallback,ny=s.unstable_NormalPriority,Pe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fl(){return{controller:new ey,data:new Map,refCount:0}}function Li(e){e.refCount--,e.refCount===0&&ty(ny,function(){e.controller.abort()})}var Mi=null,Wl=0,qa=0,Ha=null;function ay(e,t){if(Mi===null){var a=Mi=[];Wl=0,qa=au(),Ha={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Wl++,t.then(xf,xf),t}function xf(){if(--Wl===0&&Mi!==null){Ha!==null&&(Ha.status="fulfilled");var e=Mi;Mi=null,qa=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iy(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(r.status="rejected",r.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),r}var Of=k.S;k.S=function(e,t){uh=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ay(e,t),Of!==null&&Of(e,t)};var sa=x(null);function eo(){var e=sa.current;return e!==null?e:De.pooledCache}function Fr(e,t){t===null?G(sa,sa.current):G(sa,t.pool)}function Af(){var e=eo();return e===null?null:{parent:Pe._currentValue,pool:e}}var $a=Error(l(460)),to=Error(l(474)),Wr=Error(l(542)),es={then:function(){}};function kf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(nn,nn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jf(e),e;default:if(typeof t.status=="string")t.then(nn,nn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=r}},function(r){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jf(e),e}throw oa=t,$a}}function la(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,$a):a}}var oa=null;function Rf(){if(oa===null)throw Error(l(459));var e=oa;return oa=null,e}function jf(e){if(e===$a||e===Wr)throw Error(l(483))}var Va=null,Bi=0;function ts(e){var t=Bi;return Bi+=1,Va===null&&(Va=[]),Cf(Va,e,t)}function qi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ns(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Nf(e){function t(C,O){if(e){var j=C.deletions;j===null?(C.deletions=[O],C.flags|=16):j.push(O)}}function a(C,O){if(!e)return null;for(;O!==null;)t(C,O),O=O.sibling;return null}function r(C){for(var O=new Map;C!==null;)C.key!==null?O.set(C.key,C):O.set(C.index,C),C=C.sibling;return O}function u(C,O){return C=rn(C,O),C.index=0,C.sibling=null,C}function f(C,O,j){return C.index=j,e?(j=C.alternate,j!==null?(j=j.index,j<O?(C.flags|=67108866,O):j):(C.flags|=67108866,O)):(C.flags|=1048576,O)}function m(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function y(C,O,j,B){return O===null||O.tag!==6?(O=Kl(j,C.mode,B),O.return=C,O):(O=u(O,j),O.return=C,O)}function w(C,O,j,B){var te=j.type;return te===T?L(C,O,j.props.children,B,j.key):O!==null&&(O.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===fe&&la(te)===O.type)?(O=u(O,j.props),qi(O,j),O.return=C,O):(O=Jr(j.type,j.key,j.props,null,C.mode,B),qi(O,j),O.return=C,O)}function N(C,O,j,B){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Gl(j,C.mode,B),O.return=C,O):(O=u(O,j.children||[]),O.return=C,O)}function L(C,O,j,B,te){return O===null||O.tag!==7?(O=na(j,C.mode,B,te),O.return=C,O):(O=u(O,j),O.return=C,O)}function H(C,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kl(""+O,C.mode,j),O.return=C,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return j=Jr(O.type,O.key,O.props,null,C.mode,j),qi(j,O),j.return=C,j;case A:return O=Gl(O,C.mode,j),O.return=C,O;case fe:return O=la(O),H(C,O,j)}if(Ye(O)||de(O))return O=na(O,C.mode,j,null),O.return=C,O;if(typeof O.then=="function")return H(C,ts(O),j);if(O.$$typeof===$)return H(C,Zr(C,O),j);ns(C,O)}return null}function D(C,O,j,B){var te=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return te!==null?null:y(C,O,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return j.key===te?w(C,O,j,B):null;case A:return j.key===te?N(C,O,j,B):null;case fe:return j=la(j),D(C,O,j,B)}if(Ye(j)||de(j))return te!==null?null:L(C,O,j,B,null);if(typeof j.then=="function")return D(C,O,ts(j),B);if(j.$$typeof===$)return D(C,O,Zr(C,j),B);ns(C,j)}return null}function U(C,O,j,B,te){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return C=C.get(j)||null,y(O,C,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return C=C.get(B.key===null?j:B.key)||null,w(O,C,B,te);case A:return C=C.get(B.key===null?j:B.key)||null,N(O,C,B,te);case fe:return B=la(B),U(C,O,j,B,te)}if(Ye(B)||de(B))return C=C.get(j)||null,L(O,C,B,te,null);if(typeof B.then=="function")return U(C,O,j,ts(B),te);if(B.$$typeof===$)return U(C,O,j,Zr(O,B),te);ns(O,B)}return null}function X(C,O,j,B){for(var te=null,Ee=null,Z=O,ce=O=0,_e=null;Z!==null&&ce<j.length;ce++){Z.index>ce?(_e=Z,Z=null):_e=Z.sibling;var Te=D(C,Z,j[ce],B);if(Te===null){Z===null&&(Z=_e);break}e&&Z&&Te.alternate===null&&t(C,Z),O=f(Te,O,ce),Ee===null?te=Te:Ee.sibling=Te,Ee=Te,Z=_e}if(ce===j.length)return a(C,Z),we&&sn(C,ce),te;if(Z===null){for(;ce<j.length;ce++)Z=H(C,j[ce],B),Z!==null&&(O=f(Z,O,ce),Ee===null?te=Z:Ee.sibling=Z,Ee=Z);return we&&sn(C,ce),te}for(Z=r(Z);ce<j.length;ce++)_e=U(Z,C,ce,j[ce],B),_e!==null&&(e&&_e.alternate!==null&&Z.delete(_e.key===null?ce:_e.key),O=f(_e,O,ce),Ee===null?te=_e:Ee.sibling=_e,Ee=_e);return e&&Z.forEach(function(Yn){return t(C,Yn)}),we&&sn(C,ce),te}function ne(C,O,j,B){if(j==null)throw Error(l(151));for(var te=null,Ee=null,Z=O,ce=O=0,_e=null,Te=j.next();Z!==null&&!Te.done;ce++,Te=j.next()){Z.index>ce?(_e=Z,Z=null):_e=Z.sibling;var Yn=D(C,Z,Te.value,B);if(Yn===null){Z===null&&(Z=_e);break}e&&Z&&Yn.alternate===null&&t(C,Z),O=f(Yn,O,ce),Ee===null?te=Yn:Ee.sibling=Yn,Ee=Yn,Z=_e}if(Te.done)return a(C,Z),we&&sn(C,ce),te;if(Z===null){for(;!Te.done;ce++,Te=j.next())Te=H(C,Te.value,B),Te!==null&&(O=f(Te,O,ce),Ee===null?te=Te:Ee.sibling=Te,Ee=Te);return we&&sn(C,ce),te}for(Z=r(Z);!Te.done;ce++,Te=j.next())Te=U(Z,C,ce,Te.value,B),Te!==null&&(e&&Te.alternate!==null&&Z.delete(Te.key===null?ce:Te.key),O=f(Te,O,ce),Ee===null?te=Te:Ee.sibling=Te,Ee=Te);return e&&Z.forEach(function(mv){return t(C,mv)}),we&&sn(C,ce),te}function Ne(C,O,j,B){if(typeof j=="object"&&j!==null&&j.type===T&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case E:e:{for(var te=j.key;O!==null;){if(O.key===te){if(te=j.type,te===T){if(O.tag===7){a(C,O.sibling),B=u(O,j.props.children),B.return=C,C=B;break e}}else if(O.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===fe&&la(te)===O.type){a(C,O.sibling),B=u(O,j.props),qi(B,j),B.return=C,C=B;break e}a(C,O);break}else t(C,O);O=O.sibling}j.type===T?(B=na(j.props.children,C.mode,B,j.key),B.return=C,C=B):(B=Jr(j.type,j.key,j.props,null,C.mode,B),qi(B,j),B.return=C,C=B)}return m(C);case A:e:{for(te=j.key;O!==null;){if(O.key===te)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(C,O.sibling),B=u(O,j.children||[]),B.return=C,C=B;break e}else{a(C,O);break}else t(C,O);O=O.sibling}B=Gl(j,C.mode,B),B.return=C,C=B}return m(C);case fe:return j=la(j),Ne(C,O,j,B)}if(Ye(j))return X(C,O,j,B);if(de(j)){if(te=de(j),typeof te!="function")throw Error(l(150));return j=te.call(j),ne(C,O,j,B)}if(typeof j.then=="function")return Ne(C,O,ts(j),B);if(j.$$typeof===$)return Ne(C,O,Zr(C,j),B);ns(C,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(C,O.sibling),B=u(O,j),B.return=C,C=B):(a(C,O),B=Kl(j,C.mode,B),B.return=C,C=B),m(C)):a(C,O)}return function(C,O,j,B){try{Bi=0;var te=Ne(C,O,j,B);return Va=null,te}catch(Z){if(Z===$a||Z===Wr)throw Z;var Ee=Tt(29,Z,null,C.mode);return Ee.lanes=B,Ee.return=C,Ee}}}var ua=Nf(!0),Df=Nf(!1),Cn=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var u=r.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),r.pending=t,t=Pr(e),pf(e,null,a),t}return Yr(e,r,t,a),Pr(e)}function Hi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Ec(e,a)}}function io(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ro=!1;function $i(){if(ro){var e=Ha;if(e!==null)throw e}}function Vi(e,t,a,r){ro=!1;var u=e.updateQueue;Cn=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var w=y,N=w.next;w.next=null,m===null?f=N:m.next=N,m=w;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==m&&(y===null?L.firstBaseUpdate=N:y.next=N,L.lastBaseUpdate=w))}if(f!==null){var H=u.baseState;m=0,L=N=w=null,y=f;do{var D=y.lane&-536870913,U=D!==y.lane;if(U?(be&D)===D:(r&D)===D){D!==0&&D===qa&&(ro=!0),L!==null&&(L=L.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var X=e,ne=y;D=t;var Ne=a;switch(ne.tag){case 1:if(X=ne.payload,typeof X=="function"){H=X.call(Ne,H,D);break e}H=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ne.payload,D=typeof X=="function"?X.call(Ne,H,D):X,D==null)break e;H=v({},H,D);break e;case 2:Cn=!0}}D=y.callback,D!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[D]:U.push(D))}else U={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(N=L=U,w=H):L=L.next=U,m|=D;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;U=y,y=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);L===null&&(w=H),u.baseState=w,u.firstBaseUpdate=N,u.lastBaseUpdate=L,f===null&&(u.shared.lanes=0),Ln|=m,e.lanes=m,e.memoizedState=H}}function Uf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function zf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Uf(a[e],t)}var Ka=x(null),as=x(0);function Lf(e,t){e=yn,G(as,e),G(Ka,t),yn=e|t.baseLanes}function so(){G(as,yn),G(Ka,Ka.current)}function lo(){yn=as.current,M(Ka),M(as)}var xt=x(null),Ht=null;function Nn(e){var t=e.alternate;G(Ge,Ge.current&1),G(xt,e),Ht===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Ht=e)}function oo(e){G(Ge,Ge.current),G(xt,e),Ht===null&&(Ht=e)}function Mf(e){e.tag===22?(G(Ge,Ge.current),G(xt,e),Ht===null&&(Ht=e)):Dn()}function Dn(){G(Ge,Ge.current),G(xt,xt.current)}function Ot(e){M(xt),Ht===e&&(Ht=null),M(Ge)}var Ge=x(0);function is(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mu(a)||pu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,ue=null,Re=null,Je=null,rs=!1,Ga=!1,ca=!1,ss=0,Ki=0,Ia=null,ry=0;function He(){throw Error(l(321))}function uo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Et(e[a],t[a]))return!1;return!0}function co(e,t,a,r,u,f){return un=f,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?_d:Oo,ca=!1,f=a(r,u),ca=!1,Ga&&(f=qf(t,a,r,u)),Bf(e),f}function Bf(e){k.H=Yi;var t=Re!==null&&Re.next!==null;if(un=0,Je=Re=ue=null,rs=!1,Ki=0,Ia=null,t)throw Error(l(300));e===null||Qe||(e=e.dependencies,e!==null&&Xr(e)&&(Qe=!0))}function qf(e,t,a,r){ue=e;var u=0;do{if(Ga&&(Ia=null),Ki=0,Ga=!1,25<=u)throw Error(l(301));if(u+=1,Je=Re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=Sd,f=t(a,r)}while(Ga);return f}function sy(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Gi(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(ue.flags|=1024),t}function fo(){var e=ss!==0;return ss=0,e}function ho(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function go(e){if(rs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rs=!1}un=0,Je=Re=ue=null,Ga=!1,Ki=ss=0,Ia=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ue.memoizedState=Je=e:Je=Je.next=e,Je}function Ie(){if(Re===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Je===null?ue.memoizedState:Je.next;if(t!==null)Je=t,Re=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Je===null?ue.memoizedState=Je=e:Je=Je.next=e}return Je}function ls(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(e){var t=Ki;return Ki+=1,Ia===null&&(Ia=[]),e=Cf(Ia,e,t),t=ue,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?_d:Oo),e}function os(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gi(e);if(e.$$typeof===$)return it(e)}throw Error(l(438,String(e)))}function mo(e){var t=null,a=ue.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ls(),ue.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=se;return t.index++,a}function cn(e,t){return typeof t=="function"?t(e):t}function us(e){var t=Ie();return po(t,Re,e)}function po(e,t,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}t.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var y=m=null,w=null,N=t,L=!1;do{var H=N.lane&-536870913;if(H!==N.lane?(be&H)===H:(un&H)===H){var D=N.revertLane;if(D===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),H===qa&&(L=!0);else if((un&D)===D){N=N.next,D===qa&&(L=!0);continue}else H={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(y=w=H,m=f):w=w.next=H,ue.lanes|=D,Ln|=D;H=N.action,ca&&a(f,H),f=N.hasEagerState?N.eagerState:a(f,H)}else D={lane:H,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(y=w=D,m=f):w=w.next=D,ue.lanes|=H,Ln|=H;N=N.next}while(N!==null&&N!==t);if(w===null?m=f:w.next=y,!Et(f,e.memoizedState)&&(Qe=!0,L&&(a=Ha,a!==null)))throw a;e.memoizedState=f,e.baseState=m,e.baseQueue=w,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function yo(e){var t=Ie(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=e(f,m.action),m=m.next;while(m!==u);Et(f,t.memoizedState)||(Qe=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,r]}function Hf(e,t,a){var r=ue,u=Ie(),f=we;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Et((Re||u).memoizedState,a);if(m&&(u.memoizedState=a,Qe=!0),u=u.queue,_o(Kf.bind(null,r,u,e),[e]),u.getSnapshot!==t||m||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Ya(9,{destroy:void 0},Vf.bind(null,r,u,a,t),null),De===null)throw Error(l(349));f||(un&127)!==0||$f(r,t,a)}return a}function $f(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ue.updateQueue,t===null?(t=ls(),ue.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Vf(e,t,a,r){t.value=a,t.getSnapshot=r,Gf(t)&&If(e)}function Kf(e,t,a){return a(function(){Gf(t)&&If(e)})}function Gf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Et(e,a)}catch{return!0}}function If(e){var t=ta(e,2);t!==null&&bt(t,e,2)}function vo(e){var t=dt();if(typeof e=="function"){var a=e;if(e=a(),ca){wn(!0);try{a()}finally{wn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},t}function Yf(e,t,a,r){return e.baseState=a,po(e,Re,typeof r=="function"?r:cn)}function ly(e,t,a,r,u){if(ds(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};k.T!==null?a(!0):f.isTransition=!1,r(f),a=t.pending,a===null?(f.next=t.pending=f,Pf(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Pf(e,t){var a=t.action,r=t.payload,u=e.state;if(t.isTransition){var f=k.T,m={};k.T=m;try{var y=a(u,r),w=k.S;w!==null&&w(m,y),Jf(e,t,y)}catch(N){bo(e,t,N)}finally{f!==null&&m.types!==null&&(f.types=m.types),k.T=f}}else try{f=a(u,r),Jf(e,t,f)}catch(N){bo(e,t,N)}}function Jf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Qf(e,t,r)},function(r){return bo(e,t,r)}):Qf(e,t,a)}function Qf(e,t,a){t.status="fulfilled",t.value=a,Xf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Pf(e,a)))}function bo(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,Xf(t),t=t.next;while(t!==r)}e.action=null}function Xf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zf(e,t){return t}function Ff(e,t){if(we){var a=De.formState;if(a!==null){e:{var r=ue;if(we){if(Le){t:{for(var u=Le,f=qt;u.nodeType!==8;){if(!f){u=null;break t}if(u=$t(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Le=$t(u.nextSibling),r=u.data==="F!";break e}}An(r)}r=!1}r&&(t=a[0])}}return a=dt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:t},a.queue=r,a=yd.bind(null,ue,r),r.dispatch=a,r=vo(!1),f=xo.bind(null,ue,!1,r.queue),r=dt(),u={state:t,dispatch:null,action:e,pending:null},r.queue=u,a=ly.bind(null,ue,u,f,a),u.dispatch=a,r.memoizedState=e,[t,a,!1]}function Wf(e){var t=Ie();return ed(t,Re,e)}function ed(e,t,a){if(t=po(e,t,Zf)[0],e=us(cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Gi(t)}catch(m){throw m===$a?Wr:m}else r=t;t=Ie();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(ue.flags|=2048,Ya(9,{destroy:void 0},oy.bind(null,u,a),null)),[r,f,e]}function oy(e,t){e.action=t}function td(e){var t=Ie(),a=Re;if(a!==null)return ed(t,a,e);Ie(),t=t.memoizedState,a=Ie();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function Ya(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=ue.updateQueue,t===null&&(t=ls(),ue.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function nd(){return Ie().memoizedState}function cs(e,t,a,r){var u=dt();ue.flags|=e,u.memoizedState=Ya(1|t,{destroy:void 0},a,r===void 0?null:r)}function fs(e,t,a,r){var u=Ie();r=r===void 0?null:r;var f=u.memoizedState.inst;Re!==null&&r!==null&&uo(r,Re.memoizedState.deps)?u.memoizedState=Ya(t,f,a,r):(ue.flags|=e,u.memoizedState=Ya(1|t,f,a,r))}function ad(e,t){cs(8390656,8,e,t)}function _o(e,t){fs(2048,8,e,t)}function uy(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=ls(),ue.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function id(e){var t=Ie().memoizedState;return uy({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function rd(e,t){return fs(4,2,e,t)}function sd(e,t){return fs(4,4,e,t)}function ld(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function od(e,t,a){a=a!=null?a.concat([e]):null,fs(4,4,ld.bind(null,t,e),a)}function So(){}function ud(e,t){var a=Ie();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&uo(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function cd(e,t){var a=Ie();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&uo(t,r[1]))return r[0];if(r=e(),ca){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[r,t],r}function wo(e,t,a){return a===void 0||(un&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=fh(),ue.lanes|=e,Ln|=e,a)}function fd(e,t,a,r){return Et(a,t)?a:Ka.current!==null?(e=wo(e,a,r),Et(e,t)||(Qe=!0),e):(un&42)===0||(un&1073741824)!==0&&(be&261930)===0?(Qe=!0,e.memoizedState=a):(e=fh(),ue.lanes|=e,Ln|=e,t)}function dd(e,t,a,r,u){var f=V.p;V.p=f!==0&&8>f?f:8;var m=k.T,y={};k.T=y,xo(e,!1,t,a);try{var w=u(),N=k.S;if(N!==null&&N(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var L=iy(w,r);Ii(e,t,L,Ct(e))}else Ii(e,t,r,Ct(e))}catch(H){Ii(e,t,{then:function(){},status:"rejected",reason:H},Ct())}finally{V.p=f,m!==null&&y.types!==null&&(m.types=y.types),k.T=m}}function cy(){}function Eo(e,t,a,r){if(e.tag!==5)throw Error(l(476));var u=hd(e).queue;dd(e,u,t,J,a===null?cy:function(){return gd(e),a(r)})}function hd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:J},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gd(e){var t=hd(e);t.next===null&&(t=e.alternate.memoizedState),Ii(e,t.next.queue,{},Ct())}function To(){return it(or)}function md(){return Ie().memoizedState}function pd(){return Ie().memoizedState}function fy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ct();e=Rn(a);var r=jn(t,e,a);r!==null&&(bt(r,t,a),Hi(r,t,a)),t={cache:Fl()},e.payload=t;return}t=t.return}}function dy(e,t,a){var r=Ct();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ds(e)?vd(t,a):(a=$l(e,t,a,r),a!==null&&(bt(a,e,r),bd(a,t,r)))}function yd(e,t,a){var r=Ct();Ii(e,t,a,r)}function Ii(e,t,a,r){var u={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ds(e))vd(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var m=t.lastRenderedState,y=f(m,a);if(u.hasEagerState=!0,u.eagerState=y,Et(y,m))return Yr(e,t,u,0),De===null&&Ir(),!1}catch{}if(a=$l(e,t,u,r),a!==null)return bt(a,e,r),bd(a,t,r),!0}return!1}function xo(e,t,a,r){if(r={lane:2,revertLane:au(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ds(e)){if(t)throw Error(l(479))}else t=$l(e,a,r,2),t!==null&&bt(t,e,2)}function ds(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function vd(e,t){Ga=rs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function bd(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Ec(e,a)}}var Yi={readContext:it,use:os,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Yi.useEffectEvent=He;var _d={readContext:it,use:os,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:ad,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,cs(4194308,4,ld.bind(null,t,e),a)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){cs(4,2,e,t)},useMemo:function(e,t){var a=dt();t=t===void 0?null:t;var r=e();if(ca){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=dt();if(a!==void 0){var u=a(t);if(ca){wn(!0);try{a(t)}finally{wn(!1)}}}else u=t;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=dy.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=vo(e);var t=e.queue,a=yd.bind(null,ue,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:So,useDeferredValue:function(e,t){var a=dt();return wo(a,e,t)},useTransition:function(){var e=vo(!1);return e=dd.bind(null,ue,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=ue,u=dt();if(we){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),De===null)throw Error(l(349));(be&127)!==0||$f(r,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,ad(Kf.bind(null,r,f,e),[e]),r.flags|=2048,Ya(9,{destroy:void 0},Vf.bind(null,r,f,a,t),null),a},useId:function(){var e=dt(),t=De.identifierPrefix;if(we){var a=Xt,r=Qt;a=(r&~(1<<32-wt(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ss++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ry++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:To,useFormState:Ff,useActionState:Ff,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=xo.bind(null,ue,!0,a),a.dispatch=t,[e,t]},useMemoCache:mo,useCacheRefresh:function(){return dt().memoizedState=fy.bind(null,ue)},useEffectEvent:function(e){var t=dt(),a={impl:e};return t.memoizedState=a,function(){if((xe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Oo={readContext:it,use:os,useCallback:ud,useContext:it,useEffect:_o,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:sd,useMemo:cd,useReducer:us,useRef:nd,useState:function(){return us(cn)},useDebugValue:So,useDeferredValue:function(e,t){var a=Ie();return fd(a,Re.memoizedState,e,t)},useTransition:function(){var e=us(cn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Gi(e),t]},useSyncExternalStore:Hf,useId:md,useHostTransitionStatus:To,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,t){var a=Ie();return Yf(a,Re,e,t)},useMemoCache:mo,useCacheRefresh:pd};Oo.useEffectEvent=id;var Sd={readContext:it,use:os,useCallback:ud,useContext:it,useEffect:_o,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:sd,useMemo:cd,useReducer:yo,useRef:nd,useState:function(){return yo(cn)},useDebugValue:So,useDeferredValue:function(e,t){var a=Ie();return Re===null?wo(a,e,t):fd(a,Re.memoizedState,e,t)},useTransition:function(){var e=yo(cn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Gi(e),t]},useSyncExternalStore:Hf,useId:md,useHostTransitionStatus:To,useFormState:td,useActionState:td,useOptimistic:function(e,t){var a=Ie();return Re!==null?Yf(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mo,useCacheRefresh:pd};Sd.useEffectEvent=id;function Ao(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Ct(),u=Rn(r);u.payload=t,a!=null&&(u.callback=a),t=jn(e,u,r),t!==null&&(bt(t,e,r),Hi(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Ct(),u=Rn(r);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=jn(e,u,r),t!==null&&(bt(t,e,r),Hi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ct(),r=Rn(a);r.tag=2,t!=null&&(r.callback=t),t=jn(e,r,a),t!==null&&(bt(t,e,a),Hi(t,e,a))}};function wd(e,t,a,r,u,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,m):t.prototype&&t.prototype.isPureReactComponent?!Ni(a,r)||!Ni(u,f):!0}function Ed(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function fa(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function Td(e){Gr(e)}function xd(e){console.error(e)}function Od(e){Gr(e)}function hs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Ad(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Co(e,t,a){return a=Rn(a),a.tag=3,a.payload={element:null},a.callback=function(){hs(e,t)},a}function kd(e){return e=Rn(e),e.tag=3,e}function Cd(e,t,a,r){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){Ad(t,a,r)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Ad(t,a,r),typeof u!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function hy(e,t,a,r,u){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&Ba(t,a,u,!0),a=xt.current,a!==null){switch(a.tag){case 31:case 13:return Ht===null?xs():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=u,r===es?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),eu(e,r,u)),!1;case 22:return a.flags|=65536,r===es?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),eu(e,r,u)),!1}throw Error(l(435,a.tag))}return eu(e,r,u),xs(),!1}if(we)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,r!==Pl&&(e=Error(l(422),{cause:r}),zi(Lt(e,a)))):(r!==Pl&&(t=Error(l(423),{cause:r}),zi(Lt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Lt(r,a),u=Co(e.stateNode,r,u),io(e,u),$e!==4&&($e=2)),!1;var f=Error(l(520),{cause:r});if(f=Lt(f,a),er===null?er=[f]:er.push(f),$e!==4&&($e=2),t===null)return!0;r=Lt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Co(a.stateNode,r,e),io(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mn===null||!Mn.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=kd(u),Cd(u,e,a,r),io(a,u),!1}a=a.return}while(a!==null);return!1}var Ro=Error(l(461)),Qe=!1;function rt(e,t,a,r){t.child=e===null?Df(t,null,a,r):ua(t,e.child,a,r)}function Rd(e,t,a,r,u){a=a.render;var f=t.ref;if("ref"in r){var m={};for(var y in r)y!=="ref"&&(m[y]=r[y])}else m=r;return ra(t),r=co(e,t,a,m,f,u),y=fo(),e!==null&&!Qe?(ho(e,t,u),fn(e,t,u)):(we&&y&&Il(t),t.flags|=1,rt(e,t,r,u),t.child)}function jd(e,t,a,r,u){if(e===null){var f=a.type;return typeof f=="function"&&!Vl(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Nd(e,t,f,r,u)):(e=Jr(a.type,null,r,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Bo(e,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ni,a(m,r)&&e.ref===t.ref)return fn(e,t,u)}return t.flags|=1,e=rn(f,r),e.ref=t.ref,e.return=t,t.child=e}function Nd(e,t,a,r,u){if(e!==null){var f=e.memoizedProps;if(Ni(f,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=f,Bo(e,u))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,fn(e,t,u)}return jo(e,t,a,r,u)}function Dd(e,t,a,r){var u=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(r=t.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~f}else r=0,t.child=null;return Ud(e,t,f,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fr(t,f!==null?f.cachePool:null),f!==null?Lf(t,f):so(),Mf(t);else return r=t.lanes=536870912,Ud(e,t,f!==null?f.baseLanes|a:a,a,r)}else f!==null?(Fr(t,f.cachePool),Lf(t,f),Dn(),t.memoizedState=null):(e!==null&&Fr(t,null),so(),Dn());return rt(e,t,u,a),t.child}function Pi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ud(e,t,a,r,u){var f=eo();return f=f===null?null:{parent:Pe._currentValue,pool:f},t.memoizedState={baseLanes:a,cachePool:f},e!==null&&Fr(t,null),so(),Mf(t),e!==null&&Ba(e,t,r,!0),t.childLanes=u,null}function gs(e,t){return t=ps({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zd(e,t,a){return ua(t,e.child,null,a),e=gs(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function gy(e,t,a){var r=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(r.mode==="hidden")return e=gs(t,r),t.lanes=536870912,Pi(null,e);if(oo(t),(e=Le)?(e=Ph(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=vf(e),a.return=t,t.child=a,at=t,Le=null)):e=null,e===null)throw An(t);return t.lanes=536870912,null}return gs(t,r)}var f=e.memoizedState;if(f!==null){var m=f.dehydrated;if(oo(t),u)if(t.flags&256)t.flags&=-257,t=zd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Qe||Ba(e,t,a,!1),u=(a&e.childLanes)!==0,Qe||u){if(r=De,r!==null&&(m=Tc(r,a),m!==0&&m!==f.retryLane))throw f.retryLane=m,ta(e,m),bt(r,e,m),Ro;xs(),t=zd(e,t,a)}else e=f.treeContext,Le=$t(m.nextSibling),at=t,we=!0,On=null,qt=!1,e!==null&&Sf(t,e),t=gs(t,r),t.flags|=4096;return t}return e=rn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ms(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function jo(e,t,a,r,u){return ra(t),a=co(e,t,a,r,void 0,u),r=fo(),e!==null&&!Qe?(ho(e,t,u),fn(e,t,u)):(we&&r&&Il(t),t.flags|=1,rt(e,t,a,u),t.child)}function Ld(e,t,a,r,u,f){return ra(t),t.updateQueue=null,a=qf(t,r,a,u),Bf(e),r=fo(),e!==null&&!Qe?(ho(e,t,f),fn(e,t,f)):(we&&r&&Il(t),t.flags|=1,rt(e,t,a,f),t.child)}function Md(e,t,a,r,u){if(ra(t),t.stateNode===null){var f=Ua,m=a.contextType;typeof m=="object"&&m!==null&&(f=it(m)),f=new a(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ko,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},no(t),m=a.contextType,f.context=typeof m=="object"&&m!==null?it(m):Ua,f.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Ao(t,a,m,r),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&ko.enqueueReplaceState(f,f.state,null),Vi(t,r,f,u),$i(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var y=t.memoizedProps,w=fa(a,y);f.props=w;var N=f.context,L=a.contextType;m=Ua,typeof L=="object"&&L!==null&&(m=it(L));var H=a.getDerivedStateFromProps;L=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,L||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||N!==m)&&Ed(t,f,r,m),Cn=!1;var D=t.memoizedState;f.state=D,Vi(t,r,f,u),$i(),N=t.memoizedState,y||D!==N||Cn?(typeof H=="function"&&(Ao(t,a,H,r),N=t.memoizedState),(w=Cn||wd(t,a,w,r,D,N,m))?(L||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=N),f.props=r,f.state=N,f.context=m,r=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,ao(e,t),m=t.memoizedProps,L=fa(a,m),f.props=L,H=t.pendingProps,D=f.context,N=a.contextType,w=Ua,typeof N=="object"&&N!==null&&(w=it(N)),y=a.getDerivedStateFromProps,(N=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==H||D!==w)&&Ed(t,f,r,w),Cn=!1,D=t.memoizedState,f.state=D,Vi(t,r,f,u),$i();var U=t.memoizedState;m!==H||D!==U||Cn||e!==null&&e.dependencies!==null&&Xr(e.dependencies)?(typeof y=="function"&&(Ao(t,a,y,r),U=t.memoizedState),(L=Cn||wd(t,a,L,r,D,U,w)||e!==null&&e.dependencies!==null&&Xr(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,U,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,U,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=U),f.props=r,f.state=U,f.context=w,r=L):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,ms(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=ua(t,e.child,null,u),t.child=ua(t,null,a,u)):rt(e,t,a,u),t.memoizedState=f.state,e=t.child):e=fn(e,t,u),e}function Bd(e,t,a,r){return aa(),t.flags|=256,rt(e,t,a,r),t.child}var No={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Do(e){return{baseLanes:e,cachePool:Af()}}function Uo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=kt),e}function qd(e,t,a){var r=t.pendingProps,u=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(u?Nn(t):Dn(),(e=Le)?(e=Ph(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=vf(e),a.return=t,t.child=a,at=t,Le=null)):e=null,e===null)throw An(t);return pu(e)?t.lanes=32:t.lanes=536870912,null}var y=r.children;return r=r.fallback,u?(Dn(),u=t.mode,y=ps({mode:"hidden",children:y},u),r=na(r,u,a,null),y.return=t,r.return=t,y.sibling=r,t.child=y,r=t.child,r.memoizedState=Do(a),r.childLanes=Uo(e,m,a),t.memoizedState=No,Pi(null,r)):(Nn(t),zo(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(f)t.flags&256?(Nn(t),t.flags&=-257,t=Lo(e,t,a)):t.memoizedState!==null?(Dn(),t.child=e.child,t.flags|=128,t=null):(Dn(),y=r.fallback,u=t.mode,r=ps({mode:"visible",children:r.children},u),y=na(y,u,a,null),y.flags|=2,r.return=t,y.return=t,r.sibling=y,t.child=r,ua(t,e.child,null,a),r=t.child,r.memoizedState=Do(a),r.childLanes=Uo(e,m,a),t.memoizedState=No,t=Pi(null,r));else if(Nn(t),pu(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var N=m.dgst;m=N,r=Error(l(419)),r.stack="",r.digest=m,zi({value:r,source:null,stack:null}),t=Lo(e,t,a)}else if(Qe||Ba(e,t,a,!1),m=(a&e.childLanes)!==0,Qe||m){if(m=De,m!==null&&(r=Tc(m,a),r!==0&&r!==w.retryLane))throw w.retryLane=r,ta(e,r),bt(m,e,r),Ro;mu(y)||xs(),t=Lo(e,t,a)}else mu(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Le=$t(y.nextSibling),at=t,we=!0,On=null,qt=!1,e!==null&&Sf(t,e),t=zo(t,r.children),t.flags|=4096);return t}return u?(Dn(),y=r.fallback,u=t.mode,w=e.child,N=w.sibling,r=rn(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,N!==null?y=rn(N,y):(y=na(y,u,a,null),y.flags|=2),y.return=t,r.return=t,r.sibling=y,t.child=r,Pi(null,r),r=t.child,y=e.child.memoizedState,y===null?y=Do(a):(u=y.cachePool,u!==null?(w=Pe._currentValue,u=u.parent!==w?{parent:w,pool:w}:u):u=Af(),y={baseLanes:y.baseLanes|a,cachePool:u}),r.memoizedState=y,r.childLanes=Uo(e,m,a),t.memoizedState=No,Pi(e.child,r)):(Nn(t),a=e.child,e=a.sibling,a=rn(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function zo(e,t){return t=ps({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ps(e,t){return e=Tt(22,e,null,t),e.lanes=0,e}function Lo(e,t,a){return ua(t,e.child,null,a),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hd(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xl(e.return,t,a)}function Mo(e,t,a,r,u,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:u,treeForkCount:f}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=a,m.tailMode=u,m.treeForkCount=f)}function $d(e,t,a){var r=t.pendingProps,u=r.revealOrder,f=r.tail;r=r.children;var m=Ge.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,G(Ge,m),rt(e,t,r,a),r=we?Ui:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,a,t);else if(e.tag===19)Hd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&is(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Mo(t,!1,u,a,f,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&is(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Mo(t,!0,a,null,f,r);break;case"together":Mo(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function fn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ba(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=rn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=rn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Bo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xr(e)))}function my(e,t,a){switch(t.tag){case 3:ft(t,t.stateNode.containerInfo),kn(t,Pe,e.memoizedState.cache),aa();break;case 27:case 5:bi(t);break;case 4:ft(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,oo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Nn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?qd(e,t,a):(Nn(t),e=fn(e,t,a),e!==null?e.sibling:null);Nn(t);break;case 19:var u=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(Ba(e,t,a,!1),r=(a&t.childLanes)!==0),u){if(r)return $d(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(Ge,Ge.current),r)break;return null;case 22:return t.lanes=0,Dd(e,t,a,t.pendingProps);case 24:kn(t,Pe,e.memoizedState.cache)}return fn(e,t,a)}function Vd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Bo(e,a)&&(t.flags&128)===0)return Qe=!1,my(e,t,a);Qe=(e.flags&131072)!==0}else Qe=!1,we&&(t.flags&1048576)!==0&&_f(t,Ui,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=la(t.elementType),t.type=e,typeof e=="function")Vl(e)?(r=fa(e,r),t.tag=1,t=Md(null,t,e,r,a)):(t.tag=0,t=jo(null,t,e,r,a));else{if(e!=null){var u=e.$$typeof;if(u===Y){t.tag=11,t=Rd(null,t,e,r,a);break e}else if(u===K){t.tag=14,t=jd(null,t,e,r,a);break e}}throw t=Ae(e)||e,Error(l(306,t,""))}}return t;case 0:return jo(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,u=fa(r,t.pendingProps),Md(e,t,r,u,a);case 3:e:{if(ft(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var f=t.memoizedState;u=f.element,ao(e,t),Vi(t,r,null,a);var m=t.memoizedState;if(r=m.cache,kn(t,Pe,r),r!==f.cache&&Zl(t,[Pe],a,!0),$i(),r=m.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Bd(e,t,r,a);break e}else if(r!==u){u=Lt(Error(l(424)),t),zi(u),t=Bd(e,t,r,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=$t(e.firstChild),at=t,we=!0,On=null,qt=!0,a=Df(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(aa(),r===u){t=fn(e,t,a);break e}rt(e,t,r,a)}t=t.child}return t;case 26:return ms(e,t),e===null?(a=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=a:we||(a=t.type,e=t.pendingProps,r=Ns(ge.current).createElement(a),r[nt]=t,r[ht]=e,st(r,a,e),et(r),t.stateNode=r):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bi(t),e===null&&we&&(r=t.stateNode=Xh(t.type,t.pendingProps,ge.current),at=t,qt=!0,u=Le,$n(t.type)?(yu=u,Le=$t(r.firstChild)):Le=u),rt(e,t,t.pendingProps.children,a),ms(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((u=r=Le)&&(r=Iy(r,t.type,t.pendingProps,qt),r!==null?(t.stateNode=r,at=t,Le=$t(r.firstChild),qt=!1,u=!0):u=!1),u||An(t)),bi(t),u=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,r=f.children,du(u,f)?r=null:m!==null&&du(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=co(e,t,sy,null,null,a),or._currentValue=u),ms(e,t),rt(e,t,r,a),t.child;case 6:return e===null&&we&&((e=a=Le)&&(a=Yy(a,t.pendingProps,qt),a!==null?(t.stateNode=a,at=t,Le=null,e=!0):e=!1),e||An(t)),null;case 13:return qd(e,t,a);case 4:return ft(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ua(t,null,r,a):rt(e,t,r,a),t.child;case 11:return Rd(e,t,t.type,t.pendingProps,a);case 7:return rt(e,t,t.pendingProps,a),t.child;case 8:return rt(e,t,t.pendingProps.children,a),t.child;case 12:return rt(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,kn(t,t.type,r.value),rt(e,t,r.children,a),t.child;case 9:return u=t.type._context,r=t.pendingProps.children,ra(t),u=it(u),r=r(u),t.flags|=1,rt(e,t,r,a),t.child;case 14:return jd(e,t,t.type,t.pendingProps,a);case 15:return Nd(e,t,t.type,t.pendingProps,a);case 19:return $d(e,t,a);case 31:return gy(e,t,a);case 22:return Dd(e,t,a,t.pendingProps);case 24:return ra(t),r=it(Pe),e===null?(u=eo(),u===null&&(u=De,f=Fl(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:r,cache:u},no(t),kn(t,Pe,u)):((e.lanes&a)!==0&&(ao(e,t),Vi(t,null,null,a),$i()),u=e.memoizedState,f=t.memoizedState,u.parent!==r?(u={parent:r,cache:r},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),kn(t,Pe,r)):(r=f.cache,kn(t,Pe,r),r!==u.cache&&Zl(t,[Pe],a,!0))),rt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function dn(e){e.flags|=4}function qo(e,t,a,r,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(mh())e.flags|=8192;else throw oa=es,to}else e.flags&=-16777217}function Kd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ig(t))if(mh())e.flags|=8192;else throw oa=es,to}function ys(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sc():536870912,e.lanes|=t,Xa|=t)}function Ji(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function py(e,t,a){var r=t.pendingProps;switch(Yl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),on(Pe),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ma(t)?dn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jl())),Me(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(dn(t),f!==null?(Me(t),Kd(t,f)):(Me(t),qo(t,u,null,r,a))):f?f!==e.memoizedState?(dn(t),Me(t),Kd(t,f)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&dn(t),Me(t),qo(t,u,e,r,a)),null;case 27:if(kr(t),a=ge.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&dn(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Me(t),null}e=Q.current,Ma(t)?wf(t):(e=Xh(u,r,a),t.stateNode=e,dn(t))}return Me(t),null;case 5:if(kr(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&dn(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Me(t),null}if(f=Q.current,Ma(t))wf(t);else{var m=Ns(ge.current);switch(f){case 1:f=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=m.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?m.createElement(u,{is:r.is}):m.createElement(u)}}f[nt]=t,f[ht]=r;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)f.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=f;e:switch(st(f,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&dn(t)}}return Me(t),qo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&dn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=ge.current,Ma(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,u=at,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||qh(e.nodeValue,a)),e||An(t,!0)}else e=Ns(e).createTextNode(r),e[nt]=t,t.stateNode=e}return Me(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ma(t),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[nt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else a=Jl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Me(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ma(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[nt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),u=!1}else u=Jl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ys(t,t.updateQueue),Me(t),null);case 4:return Ke(),e===null&&lu(t.stateNode.containerInfo),Me(t),null;case 10:return on(t.type),Me(t),null;case 19:if(M(Ge),r=t.memoizedState,r===null)return Me(t),null;if(u=(t.flags&128)!==0,f=r.rendering,f===null)if(u)Ji(r,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=is(e),f!==null){for(t.flags|=128,Ji(r,!1),e=f.updateQueue,t.updateQueue=e,ys(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)yf(a,e),a=a.sibling;return G(Ge,Ge.current&1|2),we&&sn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&_t()>ws&&(t.flags|=128,u=!0,Ji(r,!1),t.lanes=4194304)}else{if(!u)if(e=is(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,ys(t,e),Ji(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!we)return Me(t),null}else 2*_t()-r.renderingStartTime>ws&&a!==536870912&&(t.flags|=128,u=!0,Ji(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=_t(),e.sibling=null,a=Ge.current,G(Ge,u?a&1|2:a&1),we&&sn(t,r.treeForkCount),e):(Me(t),null);case 22:case 23:return Ot(t),lo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),a=t.updateQueue,a!==null&&ys(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&M(sa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),on(Pe),Me(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function yy(e,t){switch(Yl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(Pe),Ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kr(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(l(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ge),null;case 4:return Ke(),null;case 10:return on(t.type),null;case 22:case 23:return Ot(t),lo(),e!==null&&M(sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return on(Pe),null;case 25:return null;default:return null}}function Gd(e,t){switch(Yl(t),t.tag){case 3:on(Pe),Ke();break;case 26:case 27:case 5:kr(t);break;case 4:Ke();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:M(Ge);break;case 10:on(t.type);break;case 22:case 23:Ot(t),lo(),e!==null&&M(sa);break;case 24:on(Pe)}}function Qi(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var u=r.next;a=u;do{if((a.tag&e)===e){r=void 0;var f=a.create,m=a.inst;r=f(),m.destroy=r}a=a.next}while(a!==u)}}catch(y){Ce(t,t.return,y)}}function Un(e,t,a){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var m=r.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,u=t;var w=a,N=y;try{N()}catch(L){Ce(u,w,L)}}}r=r.next}while(r!==f)}}catch(L){Ce(t,t.return,L)}}function Id(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{zf(t,a)}catch(r){Ce(e,e.return,r)}}}function Yd(e,t,a){a.props=fa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Ce(e,t,r)}}function Xi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(u){Ce(e,t,u)}}function Zt(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(u){Ce(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ce(e,t,u)}else a.current=null}function Pd(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(u){Ce(e,e.return,u)}}function Ho(e,t,a){try{var r=e.stateNode;qy(r,e.type,a,t),r[ht]=t}catch(u){Ce(e,e.return,u)}}function Jd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$n(e.type)||e.tag===4}function $o(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$n(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vo(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=nn));else if(r!==4&&(r===27&&$n(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Vo(e,t,a),e=e.sibling;e!==null;)Vo(e,t,a),e=e.sibling}function vs(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&$n(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vs(e,t,a),e=e.sibling;e!==null;)vs(e,t,a),e=e.sibling}function Qd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);st(t,r,a),t[nt]=e,t[ht]=a}catch(f){Ce(e,e.return,f)}}var hn=!1,Xe=!1,Ko=!1,Xd=typeof WeakSet=="function"?WeakSet:Set,tt=null;function vy(e,t){if(e=e.containerInfo,cu=qs,e=of(e),zl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var m=0,y=-1,w=-1,N=0,L=0,H=e,D=null;t:for(;;){for(var U;H!==a||u!==0&&H.nodeType!==3||(y=m+u),H!==f||r!==0&&H.nodeType!==3||(w=m+r),H.nodeType===3&&(m+=H.nodeValue.length),(U=H.firstChild)!==null;)D=H,H=U;for(;;){if(H===e)break t;if(D===a&&++N===u&&(y=m),D===f&&++L===r&&(w=m),(U=H.nextSibling)!==null)break;H=D,D=H.parentNode}H=U}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(fu={focusedElem:e,selectionRange:a},qs=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,r=a.stateNode;try{var X=fa(a.type,u);e=r.getSnapshotBeforeUpdate(X,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Ce(a,a.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)gu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Zd(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:mn(e,a),r&4&&Qi(5,a);break;case 1:if(mn(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ce(a,a.return,m)}else{var u=fa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ce(a,a.return,m)}}r&64&&Id(a),r&512&&Xi(a,a.return);break;case 3:if(mn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zf(e,t)}catch(m){Ce(a,a.return,m)}}break;case 27:t===null&&r&4&&Qd(a);case 26:case 5:mn(e,a),t===null&&r&4&&Pd(a),r&512&&Xi(a,a.return);break;case 12:mn(e,a);break;case 31:mn(e,a),r&4&&eh(e,a);break;case 13:mn(e,a),r&4&&th(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ay.bind(null,a),Py(e,a))));break;case 22:if(r=a.memoizedState!==null||hn,!r){t=t!==null&&t.memoizedState!==null||Xe,u=hn;var f=Xe;hn=r,(Xe=t)&&!f?pn(e,a,(a.subtreeFlags&8772)!==0):mn(e,a),hn=u,Xe=f}break;case 30:break;default:mn(e,a)}}function Fd(e){var t=e.alternate;t!==null&&(e.alternate=null,Fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,mt=!1;function gn(e,t,a){for(a=a.child;a!==null;)Wd(e,t,a),a=a.sibling}function Wd(e,t,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(_i,a)}catch{}switch(a.tag){case 26:Xe||Zt(a,t),gn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||Zt(a,t);var r=Be,u=mt;$n(a.type)&&(Be=a.stateNode,mt=!1),gn(e,t,a),rr(a.stateNode),Be=r,mt=u;break;case 5:Xe||Zt(a,t);case 6:if(r=Be,u=mt,Be=null,gn(e,t,a),Be=r,mt=u,Be!==null)if(mt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(f){Ce(a,t,f)}else try{Be.removeChild(a.stateNode)}catch(f){Ce(a,t,f)}break;case 18:Be!==null&&(mt?(e=Be,Ih(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ii(e)):Ih(Be,a.stateNode));break;case 4:r=Be,u=mt,Be=a.stateNode.containerInfo,mt=!0,gn(e,t,a),Be=r,mt=u;break;case 0:case 11:case 14:case 15:Un(2,a,t),Xe||Un(4,a,t),gn(e,t,a);break;case 1:Xe||(Zt(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Yd(a,t,r)),gn(e,t,a);break;case 21:gn(e,t,a);break;case 22:Xe=(r=Xe)||a.memoizedState!==null,gn(e,t,a),Xe=r;break;default:gn(e,t,a)}}function eh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(a){Ce(t,t.return,a)}}}function th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(a){Ce(t,t.return,a)}}function by(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xd),t;default:throw Error(l(435,e.tag))}}function bs(e,t){var a=by(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var u=ky.bind(null,e,r);r.then(u,u)}})}function pt(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var u=a[r],f=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if($n(y.type)){Be=y.stateNode,mt=!1;break e}break;case 5:Be=y.stateNode,mt=!1;break e;case 3:case 4:Be=y.stateNode.containerInfo,mt=!0;break e}y=y.return}if(Be===null)throw Error(l(160));Wd(f,m,u),Be=null,mt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nh(t,e),t=t.sibling}var Gt=null;function nh(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),yt(e),r&4&&(Un(3,e,e.return),Qi(3,e),Un(5,e,e.return));break;case 1:pt(t,e),yt(e),r&512&&(Xe||a===null||Zt(a,a.return)),r&64&&hn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var u=Gt;if(pt(t,e),yt(e),r&512&&(Xe||a===null||Zt(a,a.return)),r&4){var f=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ei]||f[nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),st(f,r,a),f[nt]=e,et(f),r=f;break e;case"link":var m=ng("link","href",u).get(r+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(f=m[y],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}f=u.createElement(r),st(f,r,a),u.head.appendChild(f);break;case"meta":if(m=ng("meta","content",u).get(r+(a.content||""))){for(y=0;y<m.length;y++)if(f=m[y],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}f=u.createElement(r),st(f,r,a),u.head.appendChild(f);break;default:throw Error(l(468,r))}f[nt]=e,et(f),r=f}e.stateNode=r}else ag(u,e.type,e.stateNode);else e.stateNode=tg(u,r,e.memoizedProps);else f!==r?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,r===null?ag(u,e.type,e.stateNode):tg(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ho(e,e.memoizedProps,a.memoizedProps)}break;case 27:pt(t,e),yt(e),r&512&&(Xe||a===null||Zt(a,a.return)),a!==null&&r&4&&Ho(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pt(t,e),yt(e),r&512&&(Xe||a===null||Zt(a,a.return)),e.flags&32){u=e.stateNode;try{Aa(u,"")}catch(X){Ce(e,e.return,X)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,Ho(e,u,a!==null?a.memoizedProps:u)),r&1024&&(Ko=!0);break;case 6:if(pt(t,e),yt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(X){Ce(e,e.return,X)}}break;case 3:if(zs=null,u=Gt,Gt=Ds(t.containerInfo),pt(t,e),Gt=u,yt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(X){Ce(e,e.return,X)}Ko&&(Ko=!1,ah(e));break;case 4:r=Gt,Gt=Ds(e.stateNode.containerInfo),pt(t,e),yt(e),Gt=r;break;case 12:pt(t,e),yt(e);break;case 31:pt(t,e),yt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,bs(e,r)));break;case 13:pt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ss=_t()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,bs(e,r)));break;case 22:u=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,N=hn,L=Xe;if(hn=N||u,Xe=L||w,pt(t,e),Xe=L,hn=N,yt(e),r&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||w||hn||Xe||da(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(f=w.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var H=w.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(X){Ce(w,w.return,X)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=u?"":w.memoizedProps}catch(X){Ce(w,w.return,X)}}}else if(t.tag===18){if(a===null){w=t;try{var U=w.stateNode;u?Yh(U,!0):Yh(w.stateNode,!1)}catch(X){Ce(w,w.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,bs(e,a))));break;case 19:pt(t,e),yt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,bs(e,r)));break;case 30:break;case 21:break;default:pt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(Jd(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,f=$o(e);vs(e,f,u);break;case 5:var m=a.stateNode;a.flags&32&&(Aa(m,""),a.flags&=-33);var y=$o(e);vs(e,y,m);break;case 3:case 4:var w=a.stateNode.containerInfo,N=$o(e);Vo(e,N,w);break;default:throw Error(l(161))}}catch(L){Ce(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ah(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ah(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function mn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zd(e,t.alternate,t),t=t.sibling}function da(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Un(4,t,t.return),da(t);break;case 1:Zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Yd(t,t.return,a),da(t);break;case 27:rr(t.stateNode);case 26:case 5:Zt(t,t.return),da(t);break;case 22:t.memoizedState===null&&da(t);break;case 30:da(t);break;default:da(t)}e=e.sibling}}function pn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,u=e,f=t,m=f.flags;switch(f.tag){case 0:case 11:case 15:pn(u,f,a),Qi(4,f);break;case 1:if(pn(u,f,a),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Ce(r,r.return,N)}if(r=f,u=r.updateQueue,u!==null){var y=r.stateNode;try{var w=u.shared.hiddenCallbacks;if(w!==null)for(u.shared.hiddenCallbacks=null,u=0;u<w.length;u++)Uf(w[u],y)}catch(N){Ce(r,r.return,N)}}a&&m&64&&Id(f),Xi(f,f.return);break;case 27:Qd(f);case 26:case 5:pn(u,f,a),a&&r===null&&m&4&&Pd(f),Xi(f,f.return);break;case 12:pn(u,f,a);break;case 31:pn(u,f,a),a&&m&4&&eh(u,f);break;case 13:pn(u,f,a),a&&m&4&&th(u,f);break;case 22:f.memoizedState===null&&pn(u,f,a),Xi(f,f.return);break;case 30:break;default:pn(u,f,a)}t=t.sibling}}function Go(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Li(a))}function Io(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Li(e))}function It(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ih(e,t,a,r),t=t.sibling}function ih(e,t,a,r){var u=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,r),u&2048&&Qi(9,t);break;case 1:It(e,t,a,r);break;case 3:It(e,t,a,r),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Li(e)));break;case 12:if(u&2048){It(e,t,a,r),e=t.stateNode;try{var f=t.memoizedProps,m=f.id,y=f.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ce(t,t.return,w)}}else It(e,t,a,r);break;case 31:It(e,t,a,r);break;case 13:It(e,t,a,r);break;case 23:break;case 22:f=t.stateNode,m=t.alternate,t.memoizedState!==null?f._visibility&2?It(e,t,a,r):Zi(e,t):f._visibility&2?It(e,t,a,r):(f._visibility|=2,Pa(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Go(m,t);break;case 24:It(e,t,a,r),u&2048&&Io(t.alternate,t);break;default:It(e,t,a,r)}}function Pa(e,t,a,r,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,m=t,y=a,w=r,N=m.flags;switch(m.tag){case 0:case 11:case 15:Pa(f,m,y,w,u),Qi(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?Pa(f,m,y,w,u):Zi(f,m):(L._visibility|=2,Pa(f,m,y,w,u)),u&&N&2048&&Go(m.alternate,m);break;case 24:Pa(f,m,y,w,u),u&&N&2048&&Io(m.alternate,m);break;default:Pa(f,m,y,w,u)}t=t.sibling}}function Zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,u=r.flags;switch(r.tag){case 22:Zi(a,r),u&2048&&Go(r.alternate,r);break;case 24:Zi(a,r),u&2048&&Io(r.alternate,r);break;default:Zi(a,r)}t=t.sibling}}var Fi=8192;function Ja(e,t,a){if(e.subtreeFlags&Fi)for(e=e.child;e!==null;)rh(e,t,a),e=e.sibling}function rh(e,t,a){switch(e.tag){case 26:Ja(e,t,a),e.flags&Fi&&e.memoizedState!==null&&rv(a,Gt,e.memoizedState,e.memoizedProps);break;case 5:Ja(e,t,a);break;case 3:case 4:var r=Gt;Gt=Ds(e.stateNode.containerInfo),Ja(e,t,a),Gt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Fi,Fi=16777216,Ja(e,t,a),Fi=r):Ja(e,t,a));break;default:Ja(e,t,a)}}function sh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];tt=r,oh(r,e)}sh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lh(e),e=e.sibling}function lh(e){switch(e.tag){case 0:case 11:case 15:Wi(e),e.flags&2048&&Un(9,e,e.return);break;case 3:Wi(e);break;case 12:Wi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_s(e)):Wi(e);break;default:Wi(e)}}function _s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];tt=r,oh(r,e)}sh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Un(8,t,t.return),_s(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,_s(t));break;default:_s(t)}e=e.sibling}}function oh(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Un(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Li(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,tt=r;else e:for(a=e;tt!==null;){r=tt;var u=r.sibling,f=r.return;if(Fd(r),r===a){tt=null;break e}if(u!==null){u.return=f,tt=u;break e}tt=f}}}var _y={getCacheForType:function(e){var t=it(Pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return it(Pe).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,xe=0,De=null,me=null,be=0,ke=0,At=null,zn=!1,Qa=!1,Yo=!1,yn=0,$e=0,Ln=0,ha=0,Po=0,kt=0,Xa=0,er=null,vt=null,Jo=!1,Ss=0,uh=0,ws=1/0,Es=null,Mn=null,Fe=0,Bn=null,Za=null,vn=0,Qo=0,Xo=null,ch=null,tr=0,Zo=null;function Ct(){return(xe&2)!==0&&be!==0?be&-be:k.T!==null?au():xc()}function fh(){if(kt===0)if((be&536870912)===0||we){var e=jr;jr<<=1,(jr&3932160)===0&&(jr=262144),kt=e}else kt=536870912;return e=xt.current,e!==null&&(e.flags|=32),kt}function bt(e,t,a){(e===De&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),qn(e,be,kt,!1)),wi(e,a),((xe&2)===0||e!==De)&&(e===De&&((xe&2)===0&&(ha|=a),$e===4&&qn(e,be,kt,!1)),Ft(e))}function dh(e,t,a){if((xe&6)!==0)throw Error(l(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Si(e,t),u=r?Ty(e,t):Wo(e,t,!0),f=r;do{if(u===0){Qa&&!r&&qn(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!wy(a)){u=Wo(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;u=er;var w=y.current.memoizedState.isDehydrated;if(w&&(Fa(y,m).flags|=256),m=Wo(y,m,!1),m!==2){if(Yo&&!w){y.errorRecoveryDisabledLanes|=f,ha|=f,u=4;break e}f=vt,vt=u,f!==null&&(vt===null?vt=f:vt.push.apply(vt,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){Fa(e,0),qn(e,t,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:qn(r,t,kt,!zn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Ss+300-_t(),10<u)){if(qn(r,t,kt,!zn),Dr(r,0,!0)!==0)break e;vn=t,r.timeoutHandle=Kh(hh.bind(null,r,a,vt,Es,Jo,t,kt,ha,Xa,zn,f,"Throttled",-0,0),u);break e}hh(r,a,vt,Es,Jo,t,kt,ha,Xa,zn,f,null,-0,0)}}break}while(!0);Ft(e)}function hh(e,t,a,r,u,f,m,y,w,N,L,H,D,U){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},rh(t,f,H);var X=(f&62914560)===f?Ss-_t():(f&4194048)===f?uh-_t():0;if(X=sv(H,X),X!==null){vn=f,e.cancelPendingCommit=X(Sh.bind(null,e,t,f,a,r,u,m,y,w,L,H,null,D,U)),qn(e,f,m,!N);return}}Sh(e,t,f,a,r,u,m,y,w)}function wy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var u=a[r],f=u.getSnapshot;u=u.value;try{if(!Et(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t,a,r){t&=~Po,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var u=t;0<u;){var f=31-wt(u),m=1<<f;r[f]=-1,u&=~m}a!==0&&wc(e,a,t)}function Ts(){return(xe&6)===0?(nr(0),!1):!0}function Fo(){if(me!==null){if(ke===0)var e=me.return;else e=me,ln=ia=null,go(e),Va=null,Bi=0,e=me;for(;e!==null;)Gd(e.alternate,e),e=e.return;me=null}}function Fa(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Vy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vn=0,Fo(),De=e,me=a=rn(e.current,null),be=t,ke=0,At=null,zn=!1,Qa=Si(e,t),Yo=!1,Xa=kt=Po=ha=Ln=$e=0,vt=er=null,Jo=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var u=31-wt(r),f=1<<u;t|=e[u],r&=~f}return yn=t,Ir(),a}function gh(e,t){ue=null,k.H=Yi,t===$a||t===Wr?(t=Rf(),ke=3):t===to?(t=Rf(),ke=4):ke=t===Ro?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,me===null&&($e=1,hs(e,Lt(t,e.current)))}function mh(){var e=xt.current;return e===null?!0:(be&4194048)===be?Ht===null:(be&62914560)===be||(be&536870912)!==0?e===Ht:!1}function ph(){var e=k.H;return k.H=Yi,e===null?Yi:e}function yh(){var e=k.A;return k.A=_y,e}function xs(){$e=4,zn||(be&4194048)!==be&&xt.current!==null||(Qa=!0),(Ln&134217727)===0&&(ha&134217727)===0||De===null||qn(De,be,kt,!1)}function Wo(e,t,a){var r=xe;xe|=2;var u=ph(),f=yh();(De!==e||be!==t)&&(Es=null,Fa(e,t)),t=!1;var m=$e;e:do try{if(ke!==0&&me!==null){var y=me,w=At;switch(ke){case 8:Fo(),m=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var N=ke;if(ke=0,At=null,Wa(e,y,w,N),a&&Qa){m=0;break e}break;default:N=ke,ke=0,At=null,Wa(e,y,w,N)}}Ey(),m=$e;break}catch(L){gh(e,L)}while(!0);return t&&e.shellSuspendCounter++,ln=ia=null,xe=r,k.H=u,k.A=f,me===null&&(De=null,be=0,Ir()),m}function Ey(){for(;me!==null;)vh(me)}function Ty(e,t){var a=xe;xe|=2;var r=ph(),u=yh();De!==e||be!==t?(Es=null,ws=_t()+500,Fa(e,t)):Qa=Si(e,t);e:do try{if(ke!==0&&me!==null){t=me;var f=At;t:switch(ke){case 1:ke=0,At=null,Wa(e,t,f,1);break;case 2:case 9:if(kf(f)){ke=0,At=null,bh(t);break}t=function(){ke!==2&&ke!==9||De!==e||(ke=7),Ft(e)},f.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:kf(f)?(ke=0,At=null,bh(t)):(ke=0,At=null,Wa(e,t,f,7));break;case 5:var m=null;switch(me.tag){case 26:m=me.memoizedState;case 5:case 27:var y=me;if(m?ig(m):y.stateNode.complete){ke=0,At=null;var w=y.sibling;if(w!==null)me=w;else{var N=y.return;N!==null?(me=N,Os(N)):me=null}break t}}ke=0,At=null,Wa(e,t,f,5);break;case 6:ke=0,At=null,Wa(e,t,f,6);break;case 8:Fo(),$e=6;break e;default:throw Error(l(462))}}xy();break}catch(L){gh(e,L)}while(!0);return ln=ia=null,k.H=r,k.A=u,xe=a,me!==null?0:(De=null,be=0,Ir(),$e)}function xy(){for(;me!==null&&!Jm();)vh(me)}function vh(e){var t=Vd(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?Os(e):me=t}function bh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ld(a,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Ld(a,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:go(t);default:Gd(a,t),t=me=yf(t,yn),t=Vd(a,t,yn)}e.memoizedProps=e.pendingProps,t===null?Os(e):me=t}function Wa(e,t,a,r){ln=ia=null,go(t),Va=null,Bi=0;var u=t.return;try{if(hy(e,u,t,a,be)){$e=1,hs(e,Lt(a,e.current)),me=null;return}}catch(f){if(u!==null)throw me=u,f;$e=1,hs(e,Lt(a,e.current)),me=null;return}t.flags&32768?(we||r===1?e=!0:Qa||(be&536870912)!==0?e=!1:(zn=e=!0,(r===2||r===9||r===3||r===6)&&(r=xt.current,r!==null&&r.tag===13&&(r.flags|=16384))),_h(t,e)):Os(t)}function Os(e){var t=e;do{if((t.flags&32768)!==0){_h(t,zn);return}e=t.return;var a=py(t.alternate,t,yn);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);$e===0&&($e=5)}function _h(e,t){do{var a=yy(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);$e=6,me=null}function Sh(e,t,a,r,u,f,m,y,w){e.cancelPendingCommit=null;do As();while(Fe!==0);if((xe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=Hl,ip(e,a,f,m,y,w),e===De&&(me=De=null,be=0),Za=t,Bn=e,vn=a,Qo=f,Xo=u,ch=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cy(Cr,function(){return Oh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=k.T,k.T=null,u=V.p,V.p=2,m=xe,xe|=4;try{vy(e,t,a)}finally{xe=m,V.p=u,k.T=r}}Fe=1,wh(),Eh(),Th()}}function wh(){if(Fe===1){Fe=0;var e=Bn,t=Za,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var r=V.p;V.p=2;var u=xe;xe|=4;try{nh(t,e);var f=fu,m=of(e.containerInfo),y=f.focusedElem,w=f.selectionRange;if(m!==y&&y&&y.ownerDocument&&lf(y.ownerDocument.documentElement,y)){if(w!==null&&zl(y)){var N=w.start,L=w.end;if(L===void 0&&(L=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(L,y.value.length);else{var H=y.ownerDocument||document,D=H&&H.defaultView||window;if(D.getSelection){var U=D.getSelection(),X=y.textContent.length,ne=Math.min(w.start,X),Ne=w.end===void 0?ne:Math.min(w.end,X);!U.extend&&ne>Ne&&(m=Ne,Ne=ne,ne=m);var C=sf(y,ne),O=sf(y,Ne);if(C&&O&&(U.rangeCount!==1||U.anchorNode!==C.node||U.anchorOffset!==C.offset||U.focusNode!==O.node||U.focusOffset!==O.offset)){var j=H.createRange();j.setStart(C.node,C.offset),U.removeAllRanges(),ne>Ne?(U.addRange(j),U.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),U.addRange(j))}}}}for(H=[],U=y;U=U.parentNode;)U.nodeType===1&&H.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<H.length;y++){var B=H[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}qs=!!cu,fu=cu=null}finally{xe=u,V.p=r,k.T=a}}e.current=t,Fe=2}}function Eh(){if(Fe===2){Fe=0;var e=Bn,t=Za,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var r=V.p;V.p=2;var u=xe;xe|=4;try{Zd(e,t.alternate,t)}finally{xe=u,V.p=r,k.T=a}}Fe=3}}function Th(){if(Fe===4||Fe===3){Fe=0,Qm();var e=Bn,t=Za,a=vn,r=ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,Za=Bn=null,xh(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Mn=null),pl(a),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(_i,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=k.T,u=V.p,V.p=2,k.T=null;try{for(var f=e.onRecoverableError,m=0;m<r.length;m++){var y=r[m];f(y.value,{componentStack:y.stack})}}finally{k.T=t,V.p=u}}(vn&3)!==0&&As(),Ft(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Zo?tr++:(tr=0,Zo=e):tr=0,nr(0)}}function xh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Li(t)))}function As(){return wh(),Eh(),Th(),Oh()}function Oh(){if(Fe!==5)return!1;var e=Bn,t=Qo;Qo=0;var a=pl(vn),r=k.T,u=V.p;try{V.p=32>a?32:a,k.T=null,a=Xo,Xo=null;var f=Bn,m=vn;if(Fe=0,Za=Bn=null,vn=0,(xe&6)!==0)throw Error(l(331));var y=xe;if(xe|=4,lh(f.current),ih(f,f.current,m,a),xe=y,nr(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(_i,f)}catch{}return!0}finally{V.p=u,k.T=r,xh(e,t)}}function Ah(e,t,a){t=Lt(a,t),t=Co(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(wi(e,2),Ft(e))}function Ce(e,t,a){if(e.tag===3)Ah(e,e,a);else for(;t!==null;){if(t.tag===3){Ah(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=Lt(a,e),a=kd(2),r=jn(t,a,2),r!==null&&(Cd(a,r,t,e),wi(r,2),Ft(r));break}}t=t.return}}function eu(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new Sy;var u=new Set;r.set(t,u)}else u=r.get(t),u===void 0&&(u=new Set,r.set(t,u));u.has(a)||(Yo=!0,u.add(a),e=Oy.bind(null,e,t,a),t.then(e,e))}function Oy(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(be&a)===a&&($e===4||$e===3&&(be&62914560)===be&&300>_t()-Ss?(xe&2)===0&&Fa(e,0):Po|=a,Xa===be&&(Xa=0)),Ft(e)}function kh(e,t){t===0&&(t=Sc()),e=ta(e,t),e!==null&&(wi(e,t),Ft(e))}function Ay(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),kh(e,a)}function ky(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),kh(e,a)}function Cy(e,t){return dl(e,t)}var ks=null,ei=null,tu=!1,Cs=!1,nu=!1,Hn=0;function Ft(e){e!==ei&&e.next===null&&(ei===null?ks=ei=e:ei=ei.next=e),Cs=!0,tu||(tu=!0,jy())}function nr(e,t){if(!nu&&Cs){nu=!0;do for(var a=!1,r=ks;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var m=r.suspendedLanes,y=r.pingedLanes;f=(1<<31-wt(42|e)+1)-1,f&=u&~(m&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Nh(r,f))}else f=be,f=Dr(r,r===De?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Si(r,f)||(a=!0,Nh(r,f));r=r.next}while(a);nu=!1}}function Ry(){Ch()}function Ch(){Cs=tu=!1;var e=0;Hn!==0&&$y()&&(e=Hn);for(var t=_t(),a=null,r=ks;r!==null;){var u=r.next,f=Rh(r,t);f===0?(r.next=null,a===null?ks=u:a.next=u,u===null&&(ei=a)):(a=r,(e!==0||(f&3)!==0)&&(Cs=!0)),r=u}Fe!==0&&Fe!==5||nr(e),Hn!==0&&(Hn=0)}function Rh(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-wt(f),y=1<<m,w=u[m];w===-1?((y&a)===0||(y&r)!==0)&&(u[m]=ap(y,t)):w<=t&&(e.expiredLanes|=y),f&=~y}if(t=De,a=be,a=Dr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&hl(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Si(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&hl(r),pl(a)){case 2:case 8:a=bc;break;case 32:a=Cr;break;case 268435456:a=_c;break;default:a=Cr}return r=jh.bind(null,e),a=dl(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&hl(r),e.callbackPriority=2,e.callbackNode=null,2}function jh(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(As()&&e.callbackNode!==a)return null;var r=be;return r=Dr(e,e===De?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(dh(e,r,t),Rh(e,_t()),e.callbackNode!=null&&e.callbackNode===a?jh.bind(null,e):null)}function Nh(e,t){if(As())return null;dh(e,t,!0)}function jy(){Ky(function(){(xe&6)!==0?dl(vc,Ry):Ch()})}function au(){if(Hn===0){var e=qa;e===0&&(e=Rr,Rr<<=1,(Rr&261888)===0&&(Rr=256)),Hn=e}return Hn}function Dh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mr(""+e)}function Uh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ny(e,t,a,r,u){if(t==="submit"&&a&&a.stateNode===u){var f=Dh((u[ht]||null).action),m=r.submitter;m&&(t=(t=m[ht]||null)?Dh(t.formAction):m.getAttribute("formAction"),t!==null&&(f=t,m=null));var y=new $r("action","action",null,r,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Hn!==0){var w=m?Uh(u,m):new FormData(u);Eo(a,{pending:!0,data:w,method:u.method,action:f},null,w)}}else typeof f=="function"&&(y.preventDefault(),w=m?Uh(u,m):new FormData(u),Eo(a,{pending:!0,data:w,method:u.method,action:f},f,w))},currentTarget:u}]})}}for(var iu=0;iu<ql.length;iu++){var ru=ql[iu],Dy=ru.toLowerCase(),Uy=ru[0].toUpperCase()+ru.slice(1);Kt(Dy,"on"+Uy)}Kt(ff,"onAnimationEnd"),Kt(df,"onAnimationIteration"),Kt(hf,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(Xp,"onTransitionRun"),Kt(Zp,"onTransitionStart"),Kt(Fp,"onTransitionCancel"),Kt(gf,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ar));function zh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],u=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var m=r.length-1;0<=m;m--){var y=r[m],w=y.instance,N=y.currentTarget;if(y=y.listener,w!==f&&u.isPropagationStopped())break e;f=y,u.currentTarget=N;try{f(u)}catch(L){Gr(L)}u.currentTarget=null,f=w}else for(m=0;m<r.length;m++){if(y=r[m],w=y.instance,N=y.currentTarget,y=y.listener,w!==f&&u.isPropagationStopped())break e;f=y,u.currentTarget=N;try{f(u)}catch(L){Gr(L)}u.currentTarget=null,f=w}}}}function pe(e,t){var a=t[yl];a===void 0&&(a=t[yl]=new Set);var r=e+"__bubble";a.has(r)||(Lh(t,e,2,!1),a.add(r))}function su(e,t,a){var r=0;t&&(r|=4),Lh(a,e,r,t)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function lu(e){if(!e[Rs]){e[Rs]=!0,kc.forEach(function(a){a!=="selectionchange"&&(zy.has(a)||su(a,!1,e),su(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rs]||(t[Rs]=!0,su("selectionchange",!1,t))}}function Lh(e,t,a,r){switch(fg(t)){case 2:var u=uv;break;case 8:u=cv;break;default:u=wu}a=u.bind(null,t,a,e),u=void 0,!Ol||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function ou(e,t,a,r,u){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var y=r.stateNode.containerInfo;if(y===u)break;if(m===4)for(m=r.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;y!==null;){if(m=wa(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){r=f=m;continue e}y=y.parentNode}}r=r.return}Hc(function(){var N=f,L=Tl(a),H=[];e:{var D=mf.get(e);if(D!==void 0){var U=$r,X=e;switch(e){case"keypress":if(qr(a)===0)break e;case"keydown":case"keyup":U=kp;break;case"focusin":X="focus",U=Rl;break;case"focusout":X="blur",U=Rl;break;case"beforeblur":case"afterblur":U=Rl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=jp;break;case ff:case df:case hf:U=bp;break;case gf:U=Dp;break;case"scroll":case"scrollend":U=gp;break;case"wheel":U=zp;break;case"copy":case"cut":case"paste":U=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ic;break;case"toggle":case"beforetoggle":U=Mp}var ne=(t&4)!==0,Ne=!ne&&(e==="scroll"||e==="scrollend"),C=ne?D!==null?D+"Capture":null:D;ne=[];for(var O=N,j;O!==null;){var B=O;if(j=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||j===null||C===null||(B=xi(O,C),B!=null&&ne.push(ir(O,B,j))),Ne)break;O=O.return}0<ne.length&&(D=new U(D,X,null,a,L),H.push({event:D,listeners:ne}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",D&&a!==El&&(X=a.relatedTarget||a.fromElement)&&(wa(X)||X[Sa]))break e;if((U||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,U?(X=a.relatedTarget||a.toElement,U=N,X=X?wa(X):null,X!==null&&(Ne=c(X),ne=X.tag,X!==Ne||ne!==5&&ne!==27&&ne!==6)&&(X=null)):(U=null,X=N),U!==X)){if(ne=Kc,B="onMouseLeave",C="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Ic,B="onPointerLeave",C="onPointerEnter",O="pointer"),Ne=U==null?D:Ti(U),j=X==null?D:Ti(X),D=new ne(B,O+"leave",U,a,L),D.target=Ne,D.relatedTarget=j,B=null,wa(L)===N&&(ne=new ne(C,O+"enter",X,a,L),ne.target=j,ne.relatedTarget=Ne,B=ne),Ne=B,U&&X)t:{for(ne=Ly,C=U,O=X,j=0,B=C;B;B=ne(B))j++;B=0;for(var te=O;te;te=ne(te))B++;for(;0<j-B;)C=ne(C),j--;for(;0<B-j;)O=ne(O),B--;for(;j--;){if(C===O||O!==null&&C===O.alternate){ne=C;break t}C=ne(C),O=ne(O)}ne=null}else ne=null;U!==null&&Mh(H,D,U,ne,!1),X!==null&&Ne!==null&&Mh(H,Ne,X,ne,!0)}}e:{if(D=N?Ti(N):window,U=D.nodeName&&D.nodeName.toLowerCase(),U==="select"||U==="input"&&D.type==="file")var Ee=Wc;else if(Zc(D))if(ef)Ee=Pp;else{Ee=Ip;var Z=Gp}else U=D.nodeName,!U||U.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?N&&wl(N.elementType)&&(Ee=Wc):Ee=Yp;if(Ee&&(Ee=Ee(e,N))){Fc(H,Ee,a,L);break e}Z&&Z(e,D,N),e==="focusout"&&N&&D.type==="number"&&N.memoizedProps.value!=null&&Sl(D,"number",D.value)}switch(Z=N?Ti(N):window,e){case"focusin":(Zc(Z)||Z.contentEditable==="true")&&(ja=Z,Ll=N,Di=null);break;case"focusout":Di=Ll=ja=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,uf(H,a,L);break;case"selectionchange":if(Qp)break;case"keydown":case"keyup":uf(H,a,L)}var ce;if(Nl)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ra?Qc(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Yc&&a.locale!=="ko"&&(Ra||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ra&&(ce=$c()):(Tn=L,Al="value"in Tn?Tn.value:Tn.textContent,Ra=!0)),Z=js(N,_e),0<Z.length&&(_e=new Gc(_e,e,null,a,L),H.push({event:_e,listeners:Z}),ce?_e.data=ce:(ce=Xc(a),ce!==null&&(_e.data=ce)))),(ce=qp?Hp(e,a):$p(e,a))&&(_e=js(N,"onBeforeInput"),0<_e.length&&(Z=new Gc("onBeforeInput","beforeinput",null,a,L),H.push({event:Z,listeners:_e}),Z.data=ce)),Ny(H,e,N,a,L)}zh(H,t)})}function ir(e,t,a){return{instance:e,listener:t,currentTarget:a}}function js(e,t){for(var a=t+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=xi(e,a),u!=null&&r.unshift(ir(e,u,f)),u=xi(e,t),u!=null&&r.push(ir(e,u,f))),e.tag===3)return r;e=e.return}return[]}function Ly(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mh(e,t,a,r,u){for(var f=t._reactName,m=[];a!==null&&a!==r;){var y=a,w=y.alternate,N=y.stateNode;if(y=y.tag,w!==null&&w===r)break;y!==5&&y!==26&&y!==27||N===null||(w=N,u?(N=xi(a,f),N!=null&&m.unshift(ir(a,N,w))):u||(N=xi(a,f),N!=null&&m.push(ir(a,N,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var My=/\r\n?/g,By=/\u0000|\uFFFD/g;function Bh(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(By,"")}function qh(e,t){return t=Bh(t),Bh(e)===t}function je(e,t,a,r,u,f){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Aa(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Aa(e,""+r);break;case"className":zr(e,"class",r);break;case"tabIndex":zr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(e,a,r);break;case"style":Bc(e,r,f);break;case"data":if(t!=="object"){zr(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Mr(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&je(e,t,"name",u.name,u,null),je(e,t,"formEncType",u.formEncType,u,null),je(e,t,"formMethod",u.formMethod,u,null),je(e,t,"formTarget",u.formTarget,u,null)):(je(e,t,"encType",u.encType,u,null),je(e,t,"method",u.method,u,null),je(e,t,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Mr(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=nn);break;case"onScroll":r!=null&&pe("scroll",e);break;case"onScrollEnd":r!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Mr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Ur(e,"popover",r);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ur(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dp.get(a)||a,Ur(e,a,r))}}function uu(e,t,a,r,u,f){switch(a){case"style":Bc(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?Aa(e,r):(typeof r=="number"||typeof r=="bigint")&&Aa(e,""+r);break;case"onScroll":r!=null&&pe("scroll",e);break;case"onScrollEnd":r!=null&&pe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,u);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Ur(e,a,r)}}}function st(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var r=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:je(e,t,f,m,a,null)}}u&&je(e,t,"srcSet",a.srcSet,a,null),r&&je(e,t,"src",a.src,a,null);return;case"input":pe("invalid",e);var y=f=m=u=null,w=null,N=null;for(r in a)if(a.hasOwnProperty(r)){var L=a[r];if(L!=null)switch(r){case"name":u=L;break;case"type":m=L;break;case"checked":w=L;break;case"defaultChecked":N=L;break;case"value":f=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:je(e,t,r,L,a,null)}}Uc(e,f,y,w,N,m,u,!1);return;case"select":pe("invalid",e),r=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":f=y;break;case"defaultValue":m=y;break;case"multiple":r=y;default:je(e,t,u,y,a,null)}t=f,a=m,e.multiple=!!r,t!=null?Oa(e,!!r,t,!1):a!=null&&Oa(e,!!r,a,!0);return;case"textarea":pe("invalid",e),f=u=r=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":r=y;break;case"defaultValue":u=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:je(e,t,m,y,a,null)}Lc(e,r,u,f);return;case"option":for(w in a)a.hasOwnProperty(w)&&(r=a[w],r!=null)&&(w==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":je(e,t,w,r,a,null));return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(r=0;r<ar.length;r++)pe(ar[r],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(r=a[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:je(e,t,N,r,a,null)}return;default:if(wl(t)){for(L in a)a.hasOwnProperty(L)&&(r=a[L],r!==void 0&&uu(e,t,L,r,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(r=a[y],r!=null&&je(e,t,y,r,a,null))}function qy(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,y=null,w=null,N=null,L=null;for(U in a){var H=a[U];if(a.hasOwnProperty(U)&&H!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=H;default:r.hasOwnProperty(U)||je(e,t,U,null,r,H)}}for(var D in r){var U=r[D];if(H=a[D],r.hasOwnProperty(D)&&(U!=null||H!=null))switch(D){case"type":f=U;break;case"name":u=U;break;case"checked":N=U;break;case"defaultChecked":L=U;break;case"value":m=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==H&&je(e,t,D,U,r,H)}}_l(e,m,y,w,N,L,f,u);return;case"select":U=m=y=D=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":U=w;default:r.hasOwnProperty(f)||je(e,t,f,null,r,w)}for(u in r)if(f=r[u],w=a[u],r.hasOwnProperty(u)&&(f!=null||w!=null))switch(u){case"value":D=f;break;case"defaultValue":y=f;break;case"multiple":m=f;default:f!==w&&je(e,t,u,f,r,w)}t=y,a=m,r=U,D!=null?Oa(e,!!a,D,!1):!!r!=!!a&&(t!=null?Oa(e,!!a,t,!0):Oa(e,!!a,a?[]:"",!1));return;case"textarea":U=D=null;for(y in a)if(u=a[y],a.hasOwnProperty(y)&&u!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:je(e,t,y,null,r,u)}for(m in r)if(u=r[m],f=a[m],r.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":D=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&je(e,t,m,u,r,f)}zc(e,D,U);return;case"option":for(var X in a)D=a[X],a.hasOwnProperty(X)&&D!=null&&!r.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:je(e,t,X,null,r,D));for(w in r)D=r[w],U=a[w],r.hasOwnProperty(w)&&D!==U&&(D!=null||U!=null)&&(w==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":je(e,t,w,D,r,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)D=a[ne],a.hasOwnProperty(ne)&&D!=null&&!r.hasOwnProperty(ne)&&je(e,t,ne,null,r,D);for(N in r)if(D=r[N],U=a[N],r.hasOwnProperty(N)&&D!==U&&(D!=null||U!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:je(e,t,N,D,r,U)}return;default:if(wl(t)){for(var Ne in a)D=a[Ne],a.hasOwnProperty(Ne)&&D!==void 0&&!r.hasOwnProperty(Ne)&&uu(e,t,Ne,void 0,r,D);for(L in r)D=r[L],U=a[L],!r.hasOwnProperty(L)||D===U||D===void 0&&U===void 0||uu(e,t,L,D,r,U);return}}for(var C in a)D=a[C],a.hasOwnProperty(C)&&D!=null&&!r.hasOwnProperty(C)&&je(e,t,C,null,r,D);for(H in r)D=r[H],U=a[H],!r.hasOwnProperty(H)||D===U||D==null&&U==null||je(e,t,H,D,r,U)}function Hh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var u=a[r],f=u.transferSize,m=u.initiatorType,y=u.duration;if(f&&y&&Hh(m)){for(m=0,y=u.responseEnd,r+=1;r<a.length;r++){var w=a[r],N=w.startTime;if(N>y)break;var L=w.transferSize,H=w.initiatorType;L&&Hh(H)&&(w=w.responseEnd,m+=L*(w<y?1:(y-N)/(w-N)))}if(--r,t+=8*(f+m)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cu=null,fu=null;function Ns(e){return e.nodeType===9?e:e.ownerDocument}function $h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hu=null;function $y(){var e=window.event;return e&&e.type==="popstate"?e===hu?!1:(hu=e,!0):(hu=null,!1)}var Kh=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,Gh=typeof Promise=="function"?Promise:void 0,Ky=typeof queueMicrotask=="function"?queueMicrotask:typeof Gh<"u"?function(e){return Gh.resolve(null).then(e).catch(Gy)}:Kh;function Gy(e){setTimeout(function(){throw e})}function $n(e){return e==="head"}function Ih(e,t){var a=t,r=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(u),ii(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")rr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,rr(a);for(var f=a.firstChild;f;){var m=f.nextSibling,y=f.nodeName;f[Ei]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=m}}else a==="body"&&rr(e.ownerDocument.body);a=u}while(a);ii(t)}function Yh(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function gu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gu(a),vl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Iy(e,t,a,r){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ei])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function Yy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$t(e.nextSibling),e===null))return null;return e}function Ph(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$t(e.nextSibling),e===null))return null;return e}function mu(e){return e.data==="$?"||e.data==="$~"}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Py(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yu=null;function Jh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return $t(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Xh(e,t,a){switch(t=Ns(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function rr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vl(e)}var Vt=new Map,Zh=new Set;function Ds(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bn=V.d;V.d={f:Jy,r:Qy,D:Xy,C:Zy,L:Fy,m:Wy,X:tv,S:ev,M:nv};function Jy(){var e=bn.f(),t=Ts();return e||t}function Qy(e){var t=Ea(e);t!==null&&t.tag===5&&t.type==="form"?gd(t):bn.r(e)}var ti=typeof document>"u"?null:document;function Fh(e,t,a){var r=ti;if(r&&typeof t=="string"&&t){var u=Ut(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Zh.has(u)||(Zh.add(u),e={rel:e,crossOrigin:a,href:t},r.querySelector(u)===null&&(t=r.createElement("link"),st(t,"link",e),et(t),r.head.appendChild(t)))}}function Xy(e){bn.D(e),Fh("dns-prefetch",e,null)}function Zy(e,t){bn.C(e,t),Fh("preconnect",e,t)}function Fy(e,t,a){bn.L(e,t,a);var r=ti;if(r&&e&&t){var u='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ut(a.imageSizes)+'"]')):u+='[href="'+Ut(e)+'"]';var f=u;switch(t){case"style":f=ni(e);break;case"script":f=ai(e)}Vt.has(f)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Vt.set(f,e),r.querySelector(u)!==null||t==="style"&&r.querySelector(sr(f))||t==="script"&&r.querySelector(lr(f))||(t=r.createElement("link"),st(t,"link",e),et(t),r.head.appendChild(t)))}}function Wy(e,t){bn.m(e,t);var a=ti;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ut(r)+'"][href="'+Ut(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ai(e)}if(!Vt.has(f)&&(e=v({rel:"modulepreload",href:e},t),Vt.set(f,e),a.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(lr(f)))return}r=a.createElement("link"),st(r,"link",e),et(r),a.head.appendChild(r)}}}function ev(e,t,a){bn.S(e,t,a);var r=ti;if(r&&e){var u=Ta(r).hoistableStyles,f=ni(e);t=t||"default";var m=u.get(f);if(!m){var y={loading:0,preload:null};if(m=r.querySelector(sr(f)))y.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Vt.get(f))&&vu(e,a);var w=m=r.createElement("link");et(w),st(w,"link",e),w._p=new Promise(function(N,L){w.onload=N,w.onerror=L}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Us(m,t,r)}m={type:"stylesheet",instance:m,count:1,state:y},u.set(f,m)}}}function tv(e,t){bn.X(e,t);var a=ti;if(a&&e){var r=Ta(a).hoistableScripts,u=ai(e),f=r.get(u);f||(f=a.querySelector(lr(u)),f||(e=v({src:e,async:!0},t),(t=Vt.get(u))&&bu(e,t),f=a.createElement("script"),et(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function nv(e,t){bn.M(e,t);var a=ti;if(a&&e){var r=Ta(a).hoistableScripts,u=ai(e),f=r.get(u);f||(f=a.querySelector(lr(u)),f||(e=v({src:e,async:!0,type:"module"},t),(t=Vt.get(u))&&bu(e,t),f=a.createElement("script"),et(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function Wh(e,t,a,r){var u=(u=ge.current)?Ds(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ni(a.href),a=Ta(u).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ni(a.href);var f=Ta(u).hoistableStyles,m=f.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=u.querySelector(sr(e)))&&!f._p&&(m.instance=f,m.state.loading=5),Vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(e,a),f||av(u,e,a,m.state))),t&&r===null)throw Error(l(528,""));return m}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(a),a=Ta(u).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ni(e){return'href="'+Ut(e)+'"'}function sr(e){return'link[rel="stylesheet"]['+e+"]"}function eg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function av(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),st(t,"link",a),et(t),e.head.appendChild(t))}function ai(e){return'[src="'+Ut(e)+'"]'}function lr(e){return"script[async]"+e}function tg(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(r)return t.instance=r,et(r),r;var u=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),et(r),st(r,"style",u),Us(r,a.precedence,e),t.instance=r;case"stylesheet":u=ni(a.href);var f=e.querySelector(sr(u));if(f)return t.state.loading|=4,t.instance=f,et(f),f;r=eg(a),(u=Vt.get(u))&&vu(r,u),f=(e.ownerDocument||e).createElement("link"),et(f);var m=f;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),st(f,"link",r),t.state.loading|=4,Us(f,a.precedence,e),t.instance=f;case"script":return f=ai(a.src),(u=e.querySelector(lr(f)))?(t.instance=u,et(u),u):(r=a,(u=Vt.get(f))&&(r=v({},a),bu(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),st(u,"link",r),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Us(r,a.precedence,e));return t.instance}function Us(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,m=0;m<r.length;m++){var y=r[m];if(y.dataset.precedence===t)f=y;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zs=null;function ng(e,t,a){if(zs===null){var r=new Map,u=zs=new Map;u.set(a,r)}else u=zs,r=u.get(a),r||(r=new Map,u.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Ei]||f[nt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(t)||"";m=e+m;var y=r.get(m);y?y.push(f):r.set(m,[f])}}return r}function ag(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function iv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ig(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rv(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=ni(r.href),f=t.querySelector(sr(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ls.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=f,et(f);return}f=t.ownerDocument||t,r=eg(r),(u=Vt.get(u))&&vu(r,u),f=f.createElement("link"),et(f);var m=f;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),st(f,"link",r),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ls.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var _u=0;function sv(e,t){return e.stylesheets&&e.count===0&&Bs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&_u===0&&(_u=62500*Hy());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_u?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function Ls(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ms=null;function Bs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ms=new Map,t.forEach(lv,e),Ms=null,Ls.call(e))}function lv(e,t){if(!(t.state.loading&4)){var a=Ms.get(e);if(a)var r=a.get(null);else{a=new Map,Ms.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),r=m)}r&&a.set(null,r)}u=t.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||r,f===r&&a.set(null,u),a.set(m,u),this.count++,r=Ls.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var or={$$typeof:$,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function ov(e,t,a,r,u,f,m,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.hiddenUpdates=gl(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function rg(e,t,a,r,u,f,m,y,w,N,L,H){return e=new ov(e,t,a,m,w,N,L,H,y),t=1,f===!0&&(t|=24),f=Tt(3,null,null,t),e.current=f,f.stateNode=e,t=Fl(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:a,cache:t},no(f),e}function sg(e){return e?(e=Ua,e):Ua}function lg(e,t,a,r,u,f){u=sg(u),r.context===null?r.context=u:r.pendingContext=u,r=Rn(t),r.payload={element:a},f=f===void 0?null:f,f!==null&&(r.callback=f),a=jn(e,r,t),a!==null&&(bt(a,e,t),Hi(a,e,t))}function og(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Su(e,t){og(e,t),(e=e.alternate)&&og(e,t)}function ug(e){if(e.tag===13||e.tag===31){var t=ta(e,67108864);t!==null&&bt(t,e,67108864),Su(e,67108864)}}function cg(e){if(e.tag===13||e.tag===31){var t=Ct();t=ml(t);var a=ta(e,t);a!==null&&bt(a,e,t),Su(e,t)}}var qs=!0;function uv(e,t,a,r){var u=k.T;k.T=null;var f=V.p;try{V.p=2,wu(e,t,a,r)}finally{V.p=f,k.T=u}}function cv(e,t,a,r){var u=k.T;k.T=null;var f=V.p;try{V.p=8,wu(e,t,a,r)}finally{V.p=f,k.T=u}}function wu(e,t,a,r){if(qs){var u=Eu(r);if(u===null)ou(e,t,r,Hs,a),dg(e,r);else if(dv(u,e,t,a,r))r.stopPropagation();else if(dg(e,r),t&4&&-1<fv.indexOf(e)){for(;u!==null;){var f=Ea(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=Xn(f.pendingLanes);if(m!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-wt(m);y.entanglements[1]|=w,m&=~w}Ft(f),(xe&6)===0&&(ws=_t()+500,nr(0))}}break;case 31:case 13:y=ta(f,2),y!==null&&bt(y,f,2),Ts(),Su(f,2)}if(f=Eu(r),f===null&&ou(e,t,r,Hs,a),f===u)break;u=f}u!==null&&r.stopPropagation()}else ou(e,t,r,null,a)}}function Eu(e){return e=Tl(e),Tu(e)}var Hs=null;function Tu(e){if(Hs=null,e=wa(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hs=e,null}function fg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xm()){case vc:return 2;case bc:return 8;case Cr:case Zm:return 32;case _c:return 268435456;default:return 32}default:return 32}}var xu=!1,Vn=null,Kn=null,Gn=null,ur=new Map,cr=new Map,In=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dg(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(t.pointerId)}}function fr(e,t,a,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Ea(t),t!==null&&ug(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function dv(e,t,a,r,u){switch(t){case"focusin":return Vn=fr(Vn,e,t,a,r,u),!0;case"dragenter":return Kn=fr(Kn,e,t,a,r,u),!0;case"mouseover":return Gn=fr(Gn,e,t,a,r,u),!0;case"pointerover":var f=u.pointerId;return ur.set(f,fr(ur.get(f)||null,e,t,a,r,u)),!0;case"gotpointercapture":return f=u.pointerId,cr.set(f,fr(cr.get(f)||null,e,t,a,r,u)),!0}return!1}function hg(e){var t=wa(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,Oc(e.priority,function(){cg(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,Oc(e.priority,function(){cg(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Eu(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);El=r,a.target.dispatchEvent(r),El=null}else return t=Ea(a),t!==null&&ug(t),e.blockedOn=a,!1;t.shift()}return!0}function gg(e,t,a){$s(e)&&a.delete(t)}function hv(){xu=!1,Vn!==null&&$s(Vn)&&(Vn=null),Kn!==null&&$s(Kn)&&(Kn=null),Gn!==null&&$s(Gn)&&(Gn=null),ur.forEach(gg),cr.forEach(gg)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,xu||(xu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hv)))}var Ks=null;function mg(e){Ks!==e&&(Ks=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ks===e&&(Ks=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],u=e[t+2];if(typeof r!="function"){if(Tu(r||a)===null)continue;break}var f=Ea(a);f!==null&&(e.splice(t,3),t-=3,Eo(f,{pending:!0,data:u,method:a.method,action:r},r,u))}}))}function ii(e){function t(w){return Vs(w,e)}Vn!==null&&Vs(Vn,e),Kn!==null&&Vs(Kn,e),Gn!==null&&Vs(Gn,e),ur.forEach(t),cr.forEach(t);for(var a=0;a<In.length;a++){var r=In[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<In.length&&(a=In[0],a.blockedOn===null);)hg(a),a.blockedOn===null&&In.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var u=a[r],f=a[r+1],m=u[ht]||null;if(typeof f=="function")m||mg(a);else if(m){var y=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[ht]||null)y=m.formAction;else if(Tu(u)!==null)continue}else y=m.action;typeof y=="function"?a[r+1]=y:(a.splice(r,3),r-=3),mg(a)}}}function pg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(m){return u=m})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Ou(e){this._internalRoot=e}Gs.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,r=Ct();lg(a,r,e,t,null,null)},Gs.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lg(e.current,2,null,e,null,null),Ts(),t[Sa]=null}};function Gs(e){this._internalRoot=e}Gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=xc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<In.length&&t!==0&&t<In[a].priority;a++);In.splice(a,0,e),a===0&&hg(e)}};var yg=n.version;if(yg!=="19.2.3")throw Error(l(527,yg,"19.2.3"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var gv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{_i=Is.inject(gv),St=Is}catch{}}return hr.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,r="",u=Td,f=xd,m=Od;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=rg(e,1,!1,null,null,a,r,null,u,f,m,pg),e[Sa]=t.current,lu(e),new Ou(t)},hr.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var r=!1,u="",f=Td,m=xd,y=Od,w=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=rg(e,1,!0,t,a??null,r,u,w,f,m,y,pg),t.context=sg(null),a=t.current,r=Ct(),r=ml(r),u=Rn(r),u.callback=null,jn(a,u,r),a=r,t.current.lanes=a,wi(t,a),Ft(t),e[Sa]=t.current,lu(e),new Gs(t)},hr.version="19.2.3",hr}var Ag;function Tv(){if(Ag)return Cu.exports;Ag=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Cu.exports=Ev(),Cu.exports}var xv=Tv();const re=s=>typeof s=="string",gr=()=>{let s,n;const i=new Promise((l,o)=>{s=l,n=o});return i.resolve=s,i.reject=n,i},kg=s=>s==null?"":""+s,Ov=(s,n,i)=>{s.forEach(l=>{n[l]&&(i[l]=n[l])})},Av=/###/g,Cg=s=>s&&s.indexOf("###")>-1?s.replace(Av,"."):s,Rg=s=>!s||re(s),pr=(s,n,i)=>{const l=re(n)?n.split("."):n;let o=0;for(;o<l.length-1;){if(Rg(s))return{};const c=Cg(l[o]);!s[c]&&i&&(s[c]=new i),Object.prototype.hasOwnProperty.call(s,c)?s=s[c]:s={},++o}return Rg(s)?{}:{obj:s,k:Cg(l[o])}},jg=(s,n,i)=>{const{obj:l,k:o}=pr(s,n,Object);if(l!==void 0||n.length===1){l[o]=i;return}let c=n[n.length-1],d=n.slice(0,n.length-1),h=pr(s,d,Object);for(;h.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),h=pr(s,d,Object),h?.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=i},kv=(s,n,i,l)=>{const{obj:o,k:c}=pr(s,n,Object);o[c]=o[c]||[],o[c].push(i)},Zs=(s,n)=>{const{obj:i,k:l}=pr(s,n);if(i&&Object.prototype.hasOwnProperty.call(i,l))return i[l]},Cv=(s,n,i)=>{const l=Zs(s,i);return l!==void 0?l:Zs(n,i)},Sm=(s,n,i)=>{for(const l in n)l!=="__proto__"&&l!=="constructor"&&(l in s?re(s[l])||s[l]instanceof String||re(n[l])||n[l]instanceof String?i&&(s[l]=n[l]):Sm(s[l],n[l],i):s[l]=n[l]);return s},ri=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Rv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jv=s=>re(s)?s.replace(/[&<>"'\/]/g,n=>Rv[n]):s;class Nv{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const i=this.regExpMap.get(n);if(i!==void 0)return i;const l=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,l),this.regExpQueue.push(n),l}}const Dv=[" ",",","?","!",";"],Uv=new Nv(20),zv=(s,n,i)=>{n=n||"",i=i||"";const l=Dv.filter(d=>n.indexOf(d)<0&&i.indexOf(d)<0);if(l.length===0)return!0;const o=Uv.getRegExp(`(${l.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!o.test(s);if(!c){const d=s.indexOf(i);d>0&&!o.test(s.substring(0,d))&&(c=!0)}return c},Ju=(s,n,i=".")=>{if(!s)return;if(s[n])return Object.prototype.hasOwnProperty.call(s,n)?s[n]:void 0;const l=n.split(i);let o=s;for(let c=0;c<l.length;){if(!o||typeof o!="object")return;let d,h="";for(let g=c;g<l.length;++g)if(g!==c&&(h+=i),h+=l[g],d=o[h],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&g<l.length-1)continue;c+=g-c+1;break}o=d}return o},_r=s=>s?.replace("_","-"),Lv={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,n){console?.[s]?.apply?.(console,n)}};class Fs{constructor(n,i={}){this.init(n,i)}init(n,i={}){this.prefix=i.prefix||"i18next:",this.logger=n||Lv,this.options=i,this.debug=i.debug}log(...n){return this.forward(n,"log","",!0)}warn(...n){return this.forward(n,"warn","",!0)}error(...n){return this.forward(n,"error","")}deprecate(...n){return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(n,i,l,o){return o&&!this.debug?null:(re(n[0])&&(n[0]=`${l}${this.prefix} ${n[0]}`),this.logger[i](n))}create(n){return new Fs(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Fs(this.logger,n)}}var Wt=new Fs;class il{constructor(){this.observers={}}on(n,i){return n.split(" ").forEach(l=>{this.observers[l]||(this.observers[l]=new Map);const o=this.observers[l].get(i)||0;this.observers[l].set(i,o+1)}),this}off(n,i){if(this.observers[n]){if(!i){delete this.observers[n];return}this.observers[n].delete(i)}}emit(n,...i){this.observers[n]&&Array.from(this.observers[n].entries()).forEach(([o,c])=>{for(let d=0;d<c;d++)o(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,c])=>{for(let d=0;d<c;d++)o.apply(o,[n,...i])})}}class Ng extends il{constructor(n,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=n||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const i=this.options.ns.indexOf(n);i>-1&&this.options.ns.splice(i,1)}getResource(n,i,l,o={}){const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,d=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;n.indexOf(".")>-1?h=n.split("."):(h=[n,i],l&&(Array.isArray(l)?h.push(...l):re(l)&&c?h.push(...l.split(c)):h.push(l)));const g=Zs(this.data,h);return!g&&!i&&!l&&n.indexOf(".")>-1&&(n=h[0],i=h[1],l=h.slice(2).join(".")),g||!d||!re(l)?g:Ju(this.data?.[n]?.[i],l,c)}addResource(n,i,l,o,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[n,i];l&&(h=h.concat(d?l.split(d):l)),n.indexOf(".")>-1&&(h=n.split("."),o=i,i=h[1]),this.addNamespaces(i),jg(this.data,h,o),c.silent||this.emit("added",n,i,l,o)}addResources(n,i,l,o={silent:!1}){for(const c in l)(re(l[c])||Array.isArray(l[c]))&&this.addResource(n,i,c,l[c],{silent:!0});o.silent||this.emit("added",n,i,l)}addResourceBundle(n,i,l,o,c,d={silent:!1,skipCopy:!1}){let h=[n,i];n.indexOf(".")>-1&&(h=n.split("."),o=l,l=i,i=h[1]),this.addNamespaces(i);let g=Zs(this.data,h)||{};d.skipCopy||(l=JSON.parse(JSON.stringify(l))),o?Sm(g,l,c):g={...g,...l},jg(this.data,h,g),d.silent||this.emit("added",n,i,l)}removeResourceBundle(n,i){this.hasResourceBundle(n,i)&&delete this.data[n][i],this.removeNamespaces(i),this.emit("removed",n,i)}hasResourceBundle(n,i){return this.getResource(n,i)!==void 0}getResourceBundle(n,i){return i||(i=this.options.defaultNS),this.getResource(n,i)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const i=this.getDataByLanguage(n);return!!(i&&Object.keys(i)||[]).find(o=>i[o]&&Object.keys(i[o]).length>0)}toJSON(){return this.data}}var wm={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,n,i,l,o){return s.forEach(c=>{n=this.processors[c]?.process(n,i,l,o)??n}),n}};const Em=Symbol("i18next/PATH_KEY");function Mv(){const s=[],n=Object.create(null);let i;return n.get=(l,o)=>(i?.revoke?.(),o===Em?s:(s.push(o),i=Proxy.revocable(l,n),i.proxy)),Proxy.revocable(Object.create(null),n).proxy}function Qu(s,n){const{[Em]:i}=s(Mv());return i.join(n?.keySeparator??".")}const Dg={},Du=s=>!re(s)&&typeof s!="boolean"&&typeof s!="number";class Ws extends il{constructor(n,i={}){super(),Ov(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wt.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n,i={interpolation:{}}){const l={...i};if(n==null)return!1;const o=this.resolve(n,l);if(o?.res===void 0)return!1;const c=Du(o.res);return!(l.returnObjects===!1&&c)}extractFromKey(n,i){let l=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=i.ns||this.options.defaultNS||[];const d=l&&n.indexOf(l)>-1,h=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!zv(n,l,o);if(d&&!h){const g=n.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:n,namespaces:re(c)?[c]:c};const p=n.split(l);(l!==o||l===o&&this.options.ns.indexOf(p[0])>-1)&&(c=p.shift()),n=p.join(o)}return{key:n,namespaces:re(c)?[c]:c}}translate(n,i,l){let o=typeof i=="object"?{...i}:i;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),n==null)return"";typeof n=="function"&&(n=Qu(n,{...this.options,...o})),Array.isArray(n)||(n=[String(n)]);const c=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,d=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:h,namespaces:g}=this.extractFromKey(n[n.length-1],o),p=g[g.length-1];let b=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;b===void 0&&(b=":");const v=o.lng||this.language,_=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return _?c?{res:`${p}${b}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:`${p}${b}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:h;const E=this.resolve(n,o);let A=E?.res;const T=E?.usedKey||h,R=E?.exactUsedKey||h,z=["[object Number]","[object Function]","[object RegExp]"],q=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,Y=o.count!==void 0&&!re(o.count),F=Ws.hasDefaultValue(o),P=Y?this.pluralResolver.getSuffix(v,o.count,o):"",K=o.ordinal&&Y?this.pluralResolver.getSuffix(v,o.count,{ordinal:!1}):"",fe=Y&&!o.ordinal&&o.count===0,ee=fe&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${P}`]||o[`defaultValue${K}`]||o.defaultValue;let se=A;$&&!A&&F&&(se=ee);const ve=Du(se),de=Object.prototype.toString.apply(se);if($&&se&&ve&&z.indexOf(de)<0&&!(re(q)&&Array.isArray(se))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(T,se,{...o,ns:g}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(E.res=Ue,E.usedParams=this.getUsedParamsDetails(o),E):Ue}if(d){const Ue=Array.isArray(se),Ae=Ue?[]:{},Ye=Ue?R:T;for(const k in se)if(Object.prototype.hasOwnProperty.call(se,k)){const V=`${Ye}${d}${k}`;F&&!A?Ae[k]=this.translate(V,{...o,defaultValue:Du(ee)?ee[k]:void 0,joinArrays:!1,ns:g}):Ae[k]=this.translate(V,{...o,joinArrays:!1,ns:g}),Ae[k]===V&&(Ae[k]=se[k])}A=Ae}}else if($&&re(q)&&Array.isArray(A))A=A.join(q),A&&(A=this.extendTranslation(A,n,o,l));else{let Ue=!1,Ae=!1;!this.isValidLookup(A)&&F&&(Ue=!0,A=ee),this.isValidLookup(A)||(Ae=!0,A=h);const k=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ae?void 0:A,V=F&&ee!==A&&this.options.updateMissing;if(Ae||Ue||V){if(this.logger.log(V?"updateKey":"missingKey",v,p,h,V?ee:A),d){const x=this.resolve(h,{...o,keySeparator:!1});x&&x.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let x=0;x<he.length;x++)J.push(he[x]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(o.lng||this.language):J.push(o.lng||this.language);const Se=(x,M,G)=>{const Q=F&&G!==A?G:k;this.options.missingKeyHandler?this.options.missingKeyHandler(x,p,M,Q,V,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(x,p,M,Q,V,o),this.emit("missingKey",x,p,M,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Y?J.forEach(x=>{const M=this.pluralResolver.getSuffixes(x,o);fe&&o[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(G=>{Se([x],h+G,o[`defaultValue${G}`]||ee)})}):Se(J,h,ee))}A=this.extendTranslation(A,n,o,E,l),Ae&&A===h&&this.options.appendNamespaceToMissingKey&&(A=`${p}${b}${h}`),(Ae||Ue)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${b}${h}`:h,Ue?A:void 0,o))}return c?(E.res=A,E.usedParams=this.getUsedParamsDetails(o),E):A}extendTranslation(n,i,l,o,c){if(this.i18nFormat?.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...l},l.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init({...l,interpolation:{...this.options.interpolation,...l.interpolation}});const g=re(n)&&(l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(g){const v=n.match(this.interpolator.nestingRegexp);p=v&&v.length}let b=l.replace&&!re(l.replace)?l.replace:l;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),n=this.interpolator.interpolate(n,b,l.lng||this.language||o.usedLng,l),g){const v=n.match(this.interpolator.nestingRegexp),_=v&&v.length;p<_&&(l.nest=!1)}!l.lng&&o&&o.res&&(l.lng=this.language||o.usedLng),l.nest!==!1&&(n=this.interpolator.nest(n,(...v)=>c?.[0]===v[0]&&!l.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${i[0]}`),null):this.translate(...v,i),l)),l.interpolation&&this.interpolator.reset()}const d=l.postProcess||this.options.postProcess,h=re(d)?[d]:d;return n!=null&&h?.length&&l.applyPostProcessor!==!1&&(n=wm.handle(h,n,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(l)},...l}:l,this)),n}resolve(n,i={}){let l,o,c,d,h;return re(n)&&(n=[n]),n.forEach(g=>{if(this.isValidLookup(l))return;const p=this.extractFromKey(g,i),b=p.key;o=b;let v=p.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const _=i.count!==void 0&&!re(i.count),E=_&&!i.ordinal&&i.count===0,A=i.context!==void 0&&(re(i.context)||typeof i.context=="number")&&i.context!=="",T=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);v.forEach(R=>{this.isValidLookup(l)||(h=R,!Dg[`${T[0]}-${R}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(Dg[`${T[0]}-${R}`]=!0,this.logger.warn(`key "${o}" for languages "${T.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(z=>{if(this.isValidLookup(l))return;d=z;const q=[b];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(q,b,z,R,i);else{let Y;_&&(Y=this.pluralResolver.getSuffix(z,i.count,i));const F=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(i.ordinal&&Y.indexOf(P)===0&&q.push(b+Y.replace(P,this.options.pluralSeparator)),q.push(b+Y),E&&q.push(b+F)),A){const K=`${b}${this.options.contextSeparator||"_"}${i.context}`;q.push(K),_&&(i.ordinal&&Y.indexOf(P)===0&&q.push(K+Y.replace(P,this.options.pluralSeparator)),q.push(K+Y),E&&q.push(K+F))}}let $;for(;$=q.pop();)this.isValidLookup(l)||(c=$,l=this.getResource(z,R,$,i))}))})}),{res:l,usedKey:o,exactUsedKey:c,usedLng:d,usedNS:h}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,i,l,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(n,i,l,o):this.resourceStore.getResource(n,i,l,o)}getUsedParamsDetails(n={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],l=n.replace&&!re(n.replace);let o=l?n.replace:n;if(l&&typeof n.count<"u"&&(o.count=n.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!l){o={...o};for(const c of i)delete o[c]}return o}static hasDefaultValue(n){const i="defaultValue";for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)&&i===l.substring(0,i.length)&&n[l]!==void 0)return!0;return!1}}class Ug{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wt.create("languageUtils")}getScriptPartFromCode(n){if(n=_r(n),!n||n.indexOf("-")<0)return null;const i=n.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(n){if(n=_r(n),!n||n.indexOf("-")<0)return n;const i=n.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(n){if(re(n)&&n.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(n)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?n.toLowerCase():n)}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let i;return n.forEach(l=>{if(i)return;const o=this.formatLanguageCode(l);(!this.options.supportedLngs||this.isSupportedCode(o))&&(i=o)}),!i&&this.options.supportedLngs&&n.forEach(l=>{if(i)return;const o=this.getScriptPartFromCode(l);if(this.isSupportedCode(o))return i=o;const c=this.getLanguagePartFromCode(l);if(this.isSupportedCode(c))return i=c;i=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(n,i){if(!n)return[];if(typeof n=="function"&&(n=n(i)),re(n)&&(n=[n]),Array.isArray(n))return n;if(!i)return n.default||[];let l=n[i];return l||(l=n[this.getScriptPartFromCode(i)]),l||(l=n[this.formatLanguageCode(i)]),l||(l=n[this.getLanguagePartFromCode(i)]),l||(l=n.default),l||[]}toResolveHierarchy(n,i){const l=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],n),o=[],c=d=>{d&&(this.isSupportedCode(d)?o.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return re(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(n))):re(n)&&c(this.formatLanguageCode(n)),l.forEach(d=>{o.indexOf(d)<0&&c(this.formatLanguageCode(d))}),o}}const zg={zero:0,one:1,two:2,few:3,many:4,other:5},Lg={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Bv{constructor(n,i={}){this.languageUtils=n,this.options=i,this.logger=Wt.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(n,i={}){const l=_r(n==="dev"?"en":n),o=i.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:l,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(l,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Lg;if(!n.match(/-|_/))return Lg;const g=this.languageUtils.getLanguagePartFromCode(n);d=this.getRule(g,i)}return this.pluralRulesCache[c]=d,d}needsPlural(n,i={}){let l=this.getRule(n,i);return l||(l=this.getRule("dev",i)),l?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(n,i,l={}){return this.getSuffixes(n,l).map(o=>`${i}${o}`)}getSuffixes(n,i={}){let l=this.getRule(n,i);return l||(l=this.getRule("dev",i)),l?l.resolvedOptions().pluralCategories.sort((o,c)=>zg[o]-zg[c]).map(o=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(n,i,l={}){const o=this.getRule(n,l);return o?`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${o.select(i)}`:(this.logger.warn(`no plural rule found for: ${n}`),this.getSuffix("dev",i,l))}}const Mg=(s,n,i,l=".",o=!0)=>{let c=Cv(s,n,i);return!c&&o&&re(i)&&(c=Ju(s,i,l),c===void 0&&(c=Ju(n,i,l))),c},Uu=s=>s.replace(/\$/g,"$$$$");class Bg{constructor(n={}){this.logger=Wt.create("interpolator"),this.options=n,this.format=n?.interpolation?.format||(i=>i),this.init(n)}init(n={}){n.interpolation||(n.interpolation={escapeValue:!0});const{escape:i,escapeValue:l,useRawValueToEscape:o,prefix:c,prefixEscaped:d,suffix:h,suffixEscaped:g,formatSeparator:p,unescapeSuffix:b,unescapePrefix:v,nestingPrefix:_,nestingPrefixEscaped:E,nestingSuffix:A,nestingSuffixEscaped:T,nestingOptionsSeparator:R,maxReplaces:z,alwaysFormat:q}=n.interpolation;this.escape=i!==void 0?i:jv,this.escapeValue=l!==void 0?l:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?ri(c):d||"{{",this.suffix=h?ri(h):g||"}}",this.formatSeparator=p||",",this.unescapePrefix=b?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":b||"",this.nestingPrefix=_?ri(_):E||ri("$t("),this.nestingSuffix=A?ri(A):T||ri(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=z||1e3,this.alwaysFormat=q!==void 0?q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(i,l)=>i?.source===l?(i.lastIndex=0,i):new RegExp(l,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(n,i,l,o){let c,d,h;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=E=>{if(E.indexOf(this.formatSeparator)<0){const z=Mg(i,g,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(z,void 0,l,{...o,...i,interpolationkey:E}):z}const A=E.split(this.formatSeparator),T=A.shift().trim(),R=A.join(this.formatSeparator).trim();return this.format(Mg(i,g,T,this.options.keySeparator,this.options.ignoreJSONStructure),R,l,{...o,...i,interpolationkey:T})};this.resetRegExp();const b=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>Uu(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?Uu(this.escape(E)):Uu(E)}].forEach(E=>{for(h=0;c=E.regex.exec(n);){const A=c[1].trim();if(d=p(A),d===void 0)if(typeof b=="function"){const R=b(n,c,o);d=re(R)?R:""}else if(o&&Object.prototype.hasOwnProperty.call(o,A))d="";else if(v){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${n}`),d="";else!re(d)&&!this.useRawValueToEscape&&(d=kg(d));const T=E.safeValue(d);if(n=n.replace(c[0],T),v?(E.regex.lastIndex+=d.length,E.regex.lastIndex-=c[0].length):E.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),n}nest(n,i,l={}){let o,c,d;const h=(g,p)=>{const b=this.nestingOptionsSeparator;if(g.indexOf(b)<0)return g;const v=g.split(new RegExp(`${b}[ ]*{`));let _=`{${v[1]}`;g=v[0],_=this.interpolate(_,d);const E=_.match(/'/g),A=_.match(/"/g);((E?.length??0)%2===0&&!A||A.length%2!==0)&&(_=_.replace(/'/g,'"'));try{d=JSON.parse(_),p&&(d={...p,...d})}catch(T){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,T),`${g}${b}${_}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,g};for(;o=this.nestingRegexp.exec(n);){let g=[];d={...l},d=d.replace&&!re(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const p=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(p!==-1&&(g=o[1].slice(p).split(this.formatSeparator).map(b=>b.trim()).filter(Boolean),o[1]=o[1].slice(0,p)),c=i(h.call(this,o[1].trim(),d),d),c&&o[0]===n&&!re(c))return c;re(c)||(c=kg(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${n}`),c=""),g.length&&(c=g.reduce((b,v)=>this.format(b,v,l.lng,{...l,interpolationkey:o[1].trim()}),c.trim())),n=n.replace(o[0],c),this.regexp.lastIndex=0}return n}}const qv=s=>{let n=s.toLowerCase().trim();const i={};if(s.indexOf("(")>-1){const l=s.split("(");n=l[0].toLowerCase().trim();const o=l[1].substring(0,l[1].length-1);n==="currency"&&o.indexOf(":")<0?i.currency||(i.currency=o.trim()):n==="relativetime"&&o.indexOf(":")<0?i.range||(i.range=o.trim()):o.split(";").forEach(d=>{if(d){const[h,...g]=d.split(":"),p=g.join(":").trim().replace(/^'+|'+$/g,""),b=h.trim();i[b]||(i[b]=p),p==="false"&&(i[b]=!1),p==="true"&&(i[b]=!0),isNaN(p)||(i[b]=parseInt(p,10))}})}return{formatName:n,formatOptions:i}},qg=s=>{const n={};return(i,l,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const d=l+JSON.stringify(c);let h=n[d];return h||(h=s(_r(l),o),n[d]=h),h(i)}},Hv=s=>(n,i,l)=>s(_r(i),l)(n);class $v{constructor(n={}){this.logger=Wt.create("formatter"),this.options=n,this.init(n)}init(n,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const l=i.cacheInBuiltFormats?qg:Hv;this.formats={number:l((o,c)=>{const d=new Intl.NumberFormat(o,{...c});return h=>d.format(h)}),currency:l((o,c)=>{const d=new Intl.NumberFormat(o,{...c,style:"currency"});return h=>d.format(h)}),datetime:l((o,c)=>{const d=new Intl.DateTimeFormat(o,{...c});return h=>d.format(h)}),relativetime:l((o,c)=>{const d=new Intl.RelativeTimeFormat(o,{...c});return h=>d.format(h,c.range||"day")}),list:l((o,c)=>{const d=new Intl.ListFormat(o,{...c});return h=>d.format(h)})}}add(n,i){this.formats[n.toLowerCase().trim()]=i}addCached(n,i){this.formats[n.toLowerCase().trim()]=qg(i)}format(n,i,l,o={}){const c=i.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(g=>g.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,g)=>{const{formatName:p,formatOptions:b}=qv(g);if(this.formats[p]){let v=h;try{const _=o?.formatParams?.[o.interpolationkey]||{},E=_.locale||_.lng||o.locale||o.lng||l;v=this.formats[p](h,E,{...b,...o,..._})}catch(_){this.logger.warn(_)}return v}else this.logger.warn(`there was no format function for ${p}`);return h},n)}}const Vv=(s,n)=>{s.pending[n]!==void 0&&(delete s.pending[n],s.pendingCount--)};class Kv extends il{constructor(n,i,l,o={}){super(),this.backend=n,this.store=i,this.services=l,this.languageUtils=l.languageUtils,this.options=o,this.logger=Wt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(l,o.backend,o)}queueLoad(n,i,l,o){const c={},d={},h={},g={};return n.forEach(p=>{let b=!0;i.forEach(v=>{const _=`${p}|${v}`;!l.reload&&this.store.hasResourceBundle(p,v)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?d[_]===void 0&&(d[_]=!0):(this.state[_]=1,b=!1,d[_]===void 0&&(d[_]=!0),c[_]===void 0&&(c[_]=!0),g[v]===void 0&&(g[v]=!0)))}),b||(h[p]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(g)}}loaded(n,i,l){const o=n.split("|"),c=o[0],d=o[1];i&&this.emit("failedLoading",c,d,i),!i&&l&&this.store.addResourceBundle(c,d,l,void 0,void 0,{skipCopy:!0}),this.state[n]=i?-1:2,i&&l&&(this.state[n]=0);const h={};this.queue.forEach(g=>{kv(g.loaded,[c],d),Vv(g,n),i&&g.errors.push(i),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(p=>{h[p]||(h[p]={});const b=g.loaded[p];b.length&&b.forEach(v=>{h[p][v]===void 0&&(h[p][v]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(g=>!g.done)}read(n,i,l,o=0,c=this.retryTimeout,d){if(!n.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:i,fcName:l,tried:o,wait:c,callback:d});return}this.readingCalls++;const h=(p,b)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&b&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,n,i,l,o+1,c*2,d)},c);return}d(p,b)},g=this.backend[l].bind(this.backend);if(g.length===2){try{const p=g(n,i);p&&typeof p.then=="function"?p.then(b=>h(null,b)).catch(h):h(null,p)}catch(p){h(p)}return}return g(n,i,h)}prepareLoading(n,i,l={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();re(n)&&(n=this.languageUtils.toResolveHierarchy(n)),re(i)&&(i=[i]);const c=this.queueLoad(n,i,l,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(n,i,l){this.prepareLoading(n,i,{},l)}reload(n,i,l){this.prepareLoading(n,i,{reload:!0},l)}loadOne(n,i=""){const l=n.split("|"),o=l[0],c=l[1];this.read(o,c,"read",void 0,void 0,(d,h)=>{d&&this.logger.warn(`${i}loading namespace ${c} for language ${o} failed`,d),!d&&h&&this.logger.log(`${i}loaded namespace ${c} for language ${o}`,h),this.loaded(n,d,h)})}saveMissing(n,i,l,o,c,d={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${l}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if(this.backend?.create){const g={...d,isUpdate:c},p=this.backend.create.bind(this.backend);if(p.length<6)try{let b;p.length===5?b=p(n,i,l,o,g):b=p(n,i,l,o),b&&typeof b.then=="function"?b.then(v=>h(null,v)).catch(h):h(null,b)}catch(b){h(b)}else p(n,i,l,o,h,g)}!n||!n[0]||this.store.addResource(n[0],i,l,o)}}}const zu=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let n={};if(typeof s[1]=="object"&&(n=s[1]),re(s[1])&&(n.defaultValue=s[1]),re(s[2])&&(n.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const i=s[3]||s[2];Object.keys(i).forEach(l=>{n[l]=i[l]})}return n},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Hg=s=>(re(s.ns)&&(s.ns=[s.ns]),re(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),re(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),Ys=()=>{},Gv=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(i=>{typeof s[i]=="function"&&(s[i]=s[i].bind(s))})};class yr extends il{constructor(n={},i){if(super(),this.options=Hg(n),this.services={},this.logger=Wt,this.modules={external:[]},Gv(this),i&&!this.isInitialized&&!n.isClone){if(!this.options.initAsync)return this.init(n,i),this;setTimeout(()=>{this.init(n,i)},0)}}init(n={},i){this.isInitializing=!0,typeof n=="function"&&(i=n,n={}),n.defaultNS==null&&n.ns&&(re(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const l=zu();this.options={...l,...this.options,...Hg(n)},this.options.interpolation={...l.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=l.overloadTranslationOptionHandler);const o=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Wt.init(o(this.modules.logger),this.options):Wt.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=$v;const b=new Ug(this.options);this.store=new Ng(this.options.resources,this.options);const v=this.services;v.logger=Wt,v.resourceStore=this.store,v.languageUtils=b,v.pluralResolver=new Bv(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==l.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(v.formatter=o(p),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Bg(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Kv(o(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(E,...A)=>{this.emit(E,...A)}),this.modules.languageDetector&&(v.languageDetector=o(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=o(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Ws(this.services,this.options),this.translator.on("*",(E,...A)=>{this.emit(E,...A)}),this.modules.external.forEach(E=>{E.init&&E.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Ys),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...b)=>this.store[p](...b)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...b)=>(this.store[p](...b),this)});const h=gr(),g=()=>{const p=(b,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),i(b,v)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),h}loadResources(n,i=Ys){let l=i;const o=re(n)?n:this.language;if(typeof n=="function"&&(l=n),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return l();const c=[],d=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(p=>{p!=="cimode"&&c.indexOf(p)<0&&c.push(p)})};o?d(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>d(g)),this.options.preload?.forEach?.(h=>d(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),l(h)})}else l(null)}reloadResources(n,i,l){const o=gr();return typeof n=="function"&&(l=n,n=void 0),typeof i=="function"&&(l=i,i=void 0),n||(n=this.languages),i||(i=this.options.ns),l||(l=Ys),this.services.backendConnector.reload(n,i,c=>{o.resolve(),l(c)}),o}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&wm.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1)){for(let i=0;i<this.languages.length;i++){const l=this.languages[i];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}!this.resolvedLanguage&&this.languages.indexOf(n)<0&&this.store.hasLanguageSomeTranslations(n)&&(this.resolvedLanguage=n,this.languages.unshift(n))}}changeLanguage(n,i){this.isLanguageChangingTo=n;const l=gr();this.emit("languageChanging",n);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,g)=>{g?this.isLanguageChangingTo===n&&(o(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,l.resolve((...p)=>this.t(...p)),i&&i(h,(...p)=>this.t(...p))},d=h=>{!n&&!h&&this.services.languageDetector&&(h=[]);const g=re(h)?h:h&&h[0],p=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(re(h)?[h]:h);p&&(this.language||o(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,b=>{c(b,p)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(n),l}getFixedT(n,i,l){const o=(c,d,...h)=>{let g;typeof d!="object"?g=this.options.overloadTranslationOptionHandler([c,d].concat(h)):g={...d},g.lng=g.lng||o.lng,g.lngs=g.lngs||o.lngs,g.ns=g.ns||o.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||l||o.keyPrefix);const p=this.options.keySeparator||".";let b;return g.keyPrefix&&Array.isArray(c)?b=c.map(v=>(typeof v=="function"&&(v=Qu(v,{...this.options,...d})),`${g.keyPrefix}${p}${v}`)):(typeof c=="function"&&(c=Qu(c,{...this.options,...d})),b=g.keyPrefix?`${g.keyPrefix}${p}${c}`:c),this.t(b,g)};return re(n)?o.lng=n:o.lngs=n,o.ns=i,o.keyPrefix=l,o}t(...n){return this.translator?.translate(...n)}exists(...n){return this.translator?.exists(...n)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const l=i.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const d=(h,g)=>{const p=this.services.backendConnector.state[`${h}|${g}`];return p===-1||p===0||p===2};if(i.precheck){const h=i.precheck(this,d);if(h!==void 0)return h}return!!(this.hasResourceBundle(l,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(l,n)&&(!o||d(c,n)))}loadNamespaces(n,i){const l=gr();return this.options.ns?(re(n)&&(n=[n]),n.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{l.resolve(),i&&i(o)}),l):(i&&i(),Promise.resolve())}loadLanguages(n,i){const l=gr();re(n)&&(n=[n]);const o=this.options.preload||[],c=n.filter(d=>o.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=o.concat(c),this.loadResources(d=>{l.resolve(),i&&i(d)}),l):(i&&i(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!n)return"rtl";try{const o=new Intl.Locale(n);if(o&&o.getTextInfo){const c=o.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=this.services?.languageUtils||new Ug(zu());return n.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(l.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(n={},i){const l=new yr(n,i);return l.createInstance=yr.createInstance,l}cloneInstance(n={},i=Ys){const l=n.forkResourceStore;l&&delete n.forkResourceStore;const o={...this.options,...n,isClone:!0},c=new yr(o);if((n.debug!==void 0||n.prefix!==void 0)&&(c.logger=c.logger.clone(n)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},l){const h=Object.keys(this.store.data).reduce((g,p)=>(g[p]={...this.store.data[p]},g[p]=Object.keys(g[p]).reduce((b,v)=>(b[v]={...g[p][v]},b),g[p]),g),{});c.store=new Ng(h,o),c.services.resourceStore=c.store}if(n.interpolation){const g={...zu().interpolation,...this.options.interpolation,...n.interpolation},p={...o,interpolation:g};c.services.interpolator=new Bg(p)}return c.translator=new Ws(c.services,o),c.translator.on("*",(h,...g)=>{c.emit(h,...g)}),c.init(o,i),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ut=yr.createInstance();ut.createInstance;ut.dir;ut.init;ut.loadResources;ut.reloadResources;ut.use;ut.changeLanguage;ut.getFixedT;ut.t;ut.exists;ut.setDefaultNamespace;ut.hasLoadedNamespace;ut.loadNamespaces;ut.loadLanguages;const Iv=(s,n,i,l)=>{const o=[i,{code:n,...l||{}}];if(s?.services?.logger?.forward)return s.services.logger.forward(o,"warn","react-i18next::",!0);_a(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),s?.services?.logger?.warn?s.services.logger.warn(...o):console?.warn&&console.warn(...o)},$g={},Tm=(s,n,i,l)=>{_a(i)&&$g[i]||(_a(i)&&($g[i]=new Date),Iv(s,n,i,l))},xm=(s,n)=>()=>{if(s.isInitialized)n();else{const i=()=>{setTimeout(()=>{s.off("initialized",i)},0),n()};s.on("initialized",i)}},Xu=(s,n,i)=>{s.loadNamespaces(n,xm(s,i))},Vg=(s,n,i,l)=>{if(_a(i)&&(i=[i]),s.options.preload&&s.options.preload.indexOf(n)>-1)return Xu(s,i,l);i.forEach(o=>{s.options.ns.indexOf(o)<0&&s.options.ns.push(o)}),s.loadLanguages(n,xm(s,l))},Yv=(s,n,i={})=>!n.languages||!n.languages.length?(Tm(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(s,{lng:i.lng,precheck:(l,o)=>{if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!o(l.isLanguageChangingTo,s))return!1}}),_a=s=>typeof s=="string",Pv=s=>typeof s=="object"&&s!==null,Jv=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Qv={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Xv=s=>Qv[s],Zv=s=>s.replace(Jv,Xv);let Zu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Zv,transDefaultProps:void 0};const Fv=(s={})=>{Zu={...Zu,...s}},Wv=()=>Zu;let Om;const e0=s=>{Om=s},t0=()=>Om,n0={type:"3rdParty",init(s){Fv(s.options.react),e0(s)}},a0=I.createContext();class i0{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Lu={exports:{}},Mu={};var Kg;function r0(){if(Kg)return Mu;Kg=1;var s=al();function n(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var i=typeof Object.is=="function"?Object.is:n,l=s.useState,o=s.useEffect,c=s.useLayoutEffect,d=s.useDebugValue;function h(v,_){var E=_(),A=l({inst:{value:E,getSnapshot:_}}),T=A[0].inst,R=A[1];return c(function(){T.value=E,T.getSnapshot=_,g(T)&&R({inst:T})},[v,E,_]),o(function(){return g(T)&&R({inst:T}),v(function(){g(T)&&R({inst:T})})},[v]),d(E),E}function g(v){var _=v.getSnapshot;v=v.value;try{var E=_();return!i(v,E)}catch{return!0}}function p(v,_){return _()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Mu.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:b,Mu}var Gg;function s0(){return Gg||(Gg=1,Lu.exports=r0()),Lu.exports}var l0=s0();const o0=(s,n)=>_a(n)?n:Pv(n)&&_a(n.defaultValue)?n.defaultValue:Array.isArray(s)?s[s.length-1]:s,u0={t:o0,ready:!1},c0=()=>()=>{},en=(s,n={})=>{const{i18n:i}=n,{i18n:l,defaultNS:o}=I.useContext(a0)||{},c=i||l||t0();c&&!c.reportNamespaces&&(c.reportNamespaces=new i0),c||Tm(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=I.useMemo(()=>({...Wv(),...c?.options?.react,...n}),[c,n]),{useSuspense:h,keyPrefix:g}=d,p=o||c?.options?.defaultNS,b=_a(p)?[p]:p||["translation"],v=I.useMemo(()=>b,b);c?.reportNamespaces?.addUsedNamespaces?.(v);const _=I.useRef(0),E=I.useCallback(ee=>{if(!c)return c0;const{bindI18n:se,bindI18nStore:ve}=d,de=()=>{_.current+=1,ee()};return se&&c.on(se,de),ve&&c.store.on(ve,de),()=>{se&&se.split(" ").forEach(Ue=>c.off(Ue,de)),ve&&ve.split(" ").forEach(Ue=>c.store.off(Ue,de))}},[c,d]),A=I.useRef(),T=I.useCallback(()=>{if(!c)return u0;const ee=!!(c.isInitialized||c.initializedStoreOnce)&&v.every(Ye=>Yv(Ye,c,d)),se=n.lng||c.language,ve=_.current,de=A.current;if(de&&de.ready===ee&&de.lng===se&&de.keyPrefix===g&&de.revision===ve)return de;const Ae={t:c.getFixedT(se,d.nsMode==="fallback"?v:v[0],g),ready:ee,lng:se,keyPrefix:g,revision:ve};return A.current=Ae,Ae},[c,v,g,d,n.lng]),[R,z]=I.useState(0),{t:q,ready:$}=l0.useSyncExternalStore(E,T,T);I.useEffect(()=>{if(c&&!$&&!h){const ee=()=>z(se=>se+1);n.lng?Vg(c,n.lng,v,ee):Xu(c,v,ee)}},[c,n.lng,v,$,h,R]);const Y=c||{},F=I.useRef(null),P=I.useRef(),K=ee=>{const se=Object.getOwnPropertyDescriptors(ee);se.__original&&delete se.__original;const ve=Object.create(Object.getPrototypeOf(ee),se);if(!Object.prototype.hasOwnProperty.call(ve,"__original"))try{Object.defineProperty(ve,"__original",{value:ee,writable:!1,enumerable:!1,configurable:!1})}catch{}return ve},fe=I.useMemo(()=>{const ee=Y,se=ee?.language;let ve=ee;ee&&(F.current&&F.current.__original===ee?P.current!==se?(ve=K(ee),F.current=ve,P.current=se):ve=F.current:(ve=K(ee),F.current=ve,P.current=se));const de=[q,ve,$];return de.t=q,de.i18n=ve,de.ready=$,de},[q,Y,$,Y.resolvedLanguage,Y.language,Y.languages]);if(c&&h&&!$)throw new Promise(ee=>{const se=()=>ee();n.lng?Vg(c,n.lng,v,se):Xu(c,v,se)});return fe},{slice:f0,forEach:d0}=[];function h0(s){return d0.call(f0.call(arguments,1),n=>{if(n)for(const i in n)s[i]===void 0&&(s[i]=n[i])}),s}function g0(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(s))}const Ig=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,m0=function(s,n){const l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(n);let c=`${s}=${o}`;if(l.maxAge>0){const d=l.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(l.domain){if(!Ig.test(l.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${l.domain}`}if(l.path){if(!Ig.test(l.path))throw new TypeError("option path is invalid");c+=`; Path=${l.path}`}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${l.expires.toUTCString()}`}if(l.httpOnly&&(c+="; HttpOnly"),l.secure&&(c+="; Secure"),l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l.partitioned&&(c+="; Partitioned"),c},Yg={create(s,n,i,l){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+i*60*1e3)),l&&(o.domain=l),document.cookie=m0(s,n,o)},read(s){const n=`${s}=`,i=document.cookie.split(";");for(let l=0;l<i.length;l++){let o=i[l];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove(s,n){this.create(s,"",-1,n)}};var p0={name:"cookie",lookup(s){let{lookupCookie:n}=s;if(n&&typeof document<"u")return Yg.read(n)||void 0},cacheUserLanguage(s,n){let{lookupCookie:i,cookieMinutes:l,cookieDomain:o,cookieOptions:c}=n;i&&typeof document<"u"&&Yg.create(i,s,l,o,c)}},y0={name:"querystring",lookup(s){let{lookupQuerystring:n}=s,i;if(typeof window<"u"){let{search:l}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(l=window.location.hash.substring(window.location.hash.indexOf("?")));const c=l.substring(1).split("&");for(let d=0;d<c.length;d++){const h=c[d].indexOf("=");h>0&&c[d].substring(0,h)===n&&(i=c[d].substring(h+1))}}return i}},v0={name:"hash",lookup(s){let{lookupHash:n,lookupFromHashIndex:i}=s,l;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const c=o.substring(1);if(n){const d=c.split("&");for(let h=0;h<d.length;h++){const g=d[h].indexOf("=");g>0&&d[h].substring(0,g)===n&&(l=d[h].substring(g+1))}}if(l)return l;if(!l&&i>-1){const d=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof i=="number"?i:0]?.replace("/",""):void 0}}}return l}};let si=null;const Pg=()=>{if(si!==null)return si;try{if(si=typeof window<"u"&&window.localStorage!==null,!si)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{si=!1}return si};var b0={name:"localStorage",lookup(s){let{lookupLocalStorage:n}=s;if(n&&Pg())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupLocalStorage:i}=n;i&&Pg()&&window.localStorage.setItem(i,s)}};let li=null;const Jg=()=>{if(li!==null)return li;try{if(li=typeof window<"u"&&window.sessionStorage!==null,!li)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{li=!1}return li};var _0={name:"sessionStorage",lookup(s){let{lookupSessionStorage:n}=s;if(n&&Jg())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupSessionStorage:i}=n;i&&Jg()&&window.sessionStorage.setItem(i,s)}},S0={name:"navigator",lookup(s){const n=[];if(typeof navigator<"u"){const{languages:i,userLanguage:l,language:o}=navigator;if(i)for(let c=0;c<i.length;c++)n.push(i[c]);l&&n.push(l),o&&n.push(o)}return n.length>0?n:void 0}},w0={name:"htmlTag",lookup(s){let{htmlTag:n}=s,i;const l=n||(typeof document<"u"?document.documentElement:null);return l&&typeof l.getAttribute=="function"&&(i=l.getAttribute("lang")),i}},E0={name:"path",lookup(s){let{lookupFromPathIndex:n}=s;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?i[typeof n=="number"?n:0]?.replace("/",""):void 0}},T0={name:"subdomain",lookup(s){let{lookupFromSubdomainIndex:n}=s;const i=typeof n=="number"?n+1:1,l=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(l)return l[i]}};let Am=!1;try{document.cookie,Am=!0}catch{}const km=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Am||km.splice(1,1);const x0=()=>({order:km,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class Cm{constructor(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,i)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=h0(i,this.options||{},x0()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=l,this.addDetector(p0),this.addDetector(y0),this.addDetector(b0),this.addDetector(_0),this.addDetector(S0),this.addDetector(w0),this.addDetector(E0),this.addDetector(T0),this.addDetector(v0)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return n.forEach(l=>{if(this.detectors[l]){let o=this.detectors[l].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.filter(l=>l!=null&&!g0(l)).map(l=>this.options.convertDetectedLanguage(l)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||i.forEach(l=>{this.detectors[l]&&this.detectors[l].cacheUserLanguage(n,this.options)}))}}Cm.type="languageDetector";const Fu={en:{translation:{app:{title:"Shopping List",loading:"Loading...",connect:"Connect..."},nav:{title:"Shopping List"},settings:{language:"LANGUAGE",activeList:"ACTIVE LIST",selectList:"Select List",manageLists:" Manage Lists",appearance:"APPEARANCE",light:"Light",dark:"Dark",auto:"Auto",role:"Role: {{role}}",adminPanel:"Admin Panel",signOut:"Sign Out"},auth:{resetPassword:"Reset Password",createAccount:"Create Account",welcomeBack:"Welcome Back",email:"Email",password:"Password",language:"Language",languageHelper:"This language will be used for your starter food list",sendReset:"Send Reset Link",signUp:"Sign Up",logIn:"Log In",loading:"Loading...",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",forgotPassword:"Forgot Password?",backToLogin:"Back to Log In",checkEmailReset:"Check your email for the password reset link!",checkEmailConfirm:"Check your email for the confirmation link!"},welcome:{title:"Welcome to Shopping List App!",message:`You'll love this simple and effective tool.

We've created a first shopping list for you to get started. You can fill it with your own items and delete unused ones.

How to use:
1. Mark the items you want to buy.
2. Use the filter to show only marked items.
3. Unmark items as you place them in your basket.

Simple and effective!`},listManager:{title:"Manage Lists",close:"Close",newListName:"New List Name",placeholder:"e.g., Weekly Shopping",create:"Create",cancel:"Cancel",createButton:"+ Create New List",rename:"Rename",delete:"Delete",shared:"Shared with you",noLists:"No lists found.",confirmDelete:"Delete this list? All items will be lost."},categories:{manage:"Manage Categories",close:"Close",newPlaceholder:"New Category Name",add:"Add",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",noCategories:"No custom categories.",uncategorized:"Uncategorized",confirmDelete:"Delete category? Items will be uncategorized.",itemsCount:"({{count}} item)",itemsCount_plural:"({{count}} items)"},list:{searchPlaceholder:"Search items...",selectedItems:"Selected items",addItem:"Add Item",manageCategories:"Manage Categories",hideCategories:"Hide Categories",itemName:"Item Name",itemNamePlaceholder:"e.g. Milk",qty:"Qty",category:"Category",comment:"Comment",commentPlaceholder:"Optional note",save:"Save",delete:"Delete",cancel:"Cancel",emptyList:"This list is empty.",addFirstItem:"Add your first item",noMatches:"No items match your filters.",confirmDeleteItem:"Delete this item?",noListSelected:"No list selected!",createList:"Create New List",noListsFound:"No lists found."},titles:{showAll:"Show All items",showChecked:"Show only Checked items",viewComment:"View comment",editItem:"Edit item",decreaseQty:"Decrease quantity",increaseQty:"Increase quantity",moveUp:"Move up",moveDown:"Move down",lightMode:"Light Mode",darkMode:"Dark Mode",systemDefault:"System Default",addOrManage:"Add or Manage",cancelAction:"Cancel"}}},no:{translation:{app:{title:"Handleliste",loading:"Laster...",connect:"Kobler til..."},nav:{title:"Handleliste"},settings:{language:"SPRK",activeList:"AKTIV LISTE",selectList:"Velg liste",manageLists:" Administrer lister",appearance:"UTSEENDE",light:"Lys",dark:"Mrk",auto:"Auto",role:"Rolle: {{role}}",adminPanel:"Adminpanel",signOut:"Logg ut"},auth:{resetPassword:"Tilbakestill passord",createAccount:"Opprett konto",welcomeBack:"Velkommen tilbake",email:"E-post",password:"Passord",language:"Sprk",languageHelper:"Dette sprket vil bli brukt til din startliste med mat",sendReset:"Send tilbakestillingslenke",signUp:"Registrer deg",logIn:"Logg inn",loading:"Laster...",alreadyHaveAccount:"Har du allerede en konto?",dontHaveAccount:"Har du ikke konto?",forgotPassword:"Glemt passord?",backToLogin:"Tilbake til innlogging",checkEmailReset:"Sjekk e-posten for lenke til passordbytte!",checkEmailConfirm:"Sjekk e-posten for bekreftelseslenke!"},welcome:{title:"Velkommen til Handleliste-appen!",message:`Du kommer til  like denne enkle og effektive appen.

Vi har laget en frste handleliste for  hjelpe deg i gang. Du kan fylle den med dine egne varer og slette de du ikke bruker.

Slik bruker du den:
1. Merk varene du vil kjpe.
2. Bruk filteret for  vise kun merkede varer.
3. Avmerk varer etter hvert som du legger dem i handlekurven.

Enkelt og effektivt!`},listManager:{title:"Administrer lister",close:"Lukk",newListName:"Navn p ny liste",placeholder:"f.eks. Ukeshandel",create:"Opprett",cancel:"Avbryt",createButton:"+ Opprett ny liste",rename:"Gi nytt navn",delete:"Slett",shared:"Delt med deg",noLists:"Ingen lister funnet.",confirmDelete:"Slette denne listen? Alle varer vil g tapt."},categories:{manage:"Administrer kategorier",close:"Lukk",newPlaceholder:"Nytt kategorinavn",add:"Legg til",edit:"Rediger",delete:"Slett",save:"Lagre",cancel:"Avbryt",noCategories:"Ingen egendefinerte kategorier.",uncategorized:"Ukategorisert",confirmDelete:"Slette kategori? Varer vil bli ukategorisert.",itemsCount:"({{count}} vare)",itemsCount_plural:"({{count}} varer)"},list:{searchPlaceholder:"Sk etter varer...",selectedItems:"Valgte varer",addItem:"Legg til vare",manageCategories:"Administrer kategorier",hideCategories:"Skjul kategorier",itemName:"Varenavn",itemNamePlaceholder:"f.eks. Melk",qty:"Ant",category:"Kategori",comment:"Kommentar",commentPlaceholder:"Valgfritt notat",save:"Lagre",delete:"Slett",cancel:"Avbryt",emptyList:"Denne listen er tom.",addFirstItem:"Legg til din frste vare",noMatches:"Ingen varer passer til filtrene.",confirmDeleteItem:"Slette denne varen?",noListSelected:"Ingen liste valgt!",createList:"Opprett ny liste",noListsFound:"Ingen lister funnet."},titles:{showAll:"Vis alle varer",showChecked:"Vis kun valgte varer",viewComment:"Vis kommentar",editItem:"Rediger vare",decreaseQty:"Reduser antall",increaseQty:"k antall",moveUp:"Flytt opp",moveDown:"Flytt ned",lightMode:"Lys modus",darkMode:"Mrk modus",systemDefault:"Systemstandard",addOrManage:"Legg til eller administrer",cancelAction:"Avbryt"}}},lt:{translation:{app:{title:"Pirkini sraas",loading:"Kraunama...",connect:"Jungiamasi..."},nav:{title:"Pirkini sraas"},settings:{language:"KALBA",activeList:"AKTYVUS SRAAS",selectList:"Pasirinkti sra",manageLists:" Valdyti sraus",appearance:"IVAIZDA",light:"viesus",dark:"Tamsus",auto:"Auto",role:"Rol: {{role}}",adminPanel:"Admin skydelis",signOut:"Atsijungti"},auth:{resetPassword:"Atstatyti slaptaod",createAccount:"Sukurti paskyr",welcomeBack:"Sveiki sugr",email:"El. patas",password:"Slaptaodis",language:"Kalba",languageHelper:"i kalba bus naudojama js pradiniame maisto srae",sendReset:"Sisti atstatymo nuorod",signUp:"Registruotis",logIn:"Prisijungti",loading:"Kraunama...",alreadyHaveAccount:"Jau turite paskyr?",dontHaveAccount:"Neturite paskyros?",forgotPassword:"Pamirote slaptaod?",backToLogin:"Grti  prisijungim",checkEmailReset:"Patikrinkite el. pat dl slaptaodio atstatymo nuorodos!",checkEmailConfirm:"Patikrinkite el. pat dl patvirtinimo nuorodos!"},welcome:{title:"Sveiki prisijung prie Shopping List App!",message:`Jums tikrai patiks i paprasta ir efektyvi programl.

Mes sukrme jums pirm pirkini sra pradiai. J galite pildyti savo prekmis ir itrinti nenaudojamas.

Kaip naudotis?
1. Paymkite produktus, kuriuos norsite pirkti.
2. Paspauskite filtro mygtuk, kad rodyt tik paymtas prekes.
3. Atymkite produktus, kuriuos jau sidjote  krepel.

Paprasta ir efektyvu!`},listManager:{title:"Valdyti sraus",close:"Udaryti",newListName:"Naujo srao pavadinimas",placeholder:"pvz., Savaits pirkiniai",create:"Sukurti",cancel:"Ataukti",createButton:"+ Sukurti nauj sra",rename:"Pervadinti",delete:"Itrinti",shared:"Pasidalinta su jumis",noLists:"Sra nerasta.",confirmDelete:"Itrinti  sra? Visos preks bus prarastos."},categories:{manage:"Valdyti kategorijas",close:"Udaryti",newPlaceholder:"Naujas kategorijos pavadinimas",add:"Pridti",edit:"Redaguoti",delete:"Itrinti",save:"Isaugoti",cancel:"Ataukti",noCategories:"Nra pasirinktini kategorij.",uncategorized:"Nekategorizuota",confirmDelete:"Itrinti kategorij? Preks liks be kategorijos.",itemsCount:"({{count}} prek)",itemsCount_plural:"({{count}} preks)"},list:{searchPlaceholder:"Iekoti preki...",selectedItems:"Pasirinktos preks",addItem:"Pridti prek",manageCategories:"Valdyti kategorijas",hideCategories:"Slpti kategorijas",itemName:"Preks pavadinimas",itemNamePlaceholder:"pvz. Pienas",qty:"Kiekis",category:"Kategorija",comment:"Komentaras",commentPlaceholder:"Papildoma pastaba",save:"Isaugoti",delete:"Itrinti",cancel:"Ataukti",emptyList:"is sraas tuias.",addFirstItem:"Pridkite pirmj prek",noMatches:"Nerasta preki pagal filtrus.",confirmDeleteItem:"Itrinti i prek?",noListSelected:"Nepasirinktas sraas!",createList:"Sukurti nauj sra",noListsFound:"Nra sra."},titles:{showAll:"Rodyti visas prekes",showChecked:"Rodyti tik paymtas prekes",viewComment:"irti komentar",editItem:"Redaguoti prek",decreaseQty:"Sumainti kiek",increaseQty:"Padidinti kiek",moveUp:"Pakelti auktyn",moveDown:"Nuleisti emyn",lightMode:"viesus reimas",darkMode:"Tamsus reimas",systemDefault:"Sistemos numatytieji",addOrManage:"Pridti arba valdyti",cancelAction:"Ataukti"}}}};Fu.nb=Fu.no;ut.use(Cm).use(n0).init({resources:Fu,fallbackLng:"en",interpolation:{escapeValue:!1}});function rl(s,n){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(s);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(s,l[o])&&(i[l[o]]=s[l[o]]);return i}function O0(s,n,i,l){function o(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function h(b){try{p(l.next(b))}catch(v){d(v)}}function g(b){try{p(l.throw(b))}catch(v){d(v)}}function p(b){b.done?c(b.value):o(b.value).then(h,g)}p((l=l.apply(s,n||[])).next())})}const A0=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class fc extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class k0 extends fc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Qg extends fc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Xg extends fc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Wu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Wu||(Wu={}));class C0{constructor(n,{headers:i={},customFetch:l,region:o=Wu.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=A0(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return O0(this,arguments,void 0,function*(i,l={}){var o;let c,d;try{const{headers:h,method:g,body:p,signal:b,timeout:v}=l;let _={},{region:E}=l;E||(E=this.region);const A=new URL(`${this.url}/${i}`);E&&E!=="any"&&(_["x-region"]=E,A.searchParams.set("forceFunctionRegion",E));let T;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(_["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(_["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let R=b;v&&(d=new AbortController,c=setTimeout(()=>d.abort(),v),b?(R=d.signal,b.addEventListener("abort",()=>d.abort())):R=d.signal);const z=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:T,signal:R}).catch(F=>{throw new k0(F)}),q=z.headers.get("x-relay-error");if(q&&q==="true")throw new Qg(z);if(!z.ok)throw new Xg(z);let $=((o=z.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Y;return $==="application/json"?Y=yield z.json():$==="application/octet-stream"||$==="application/pdf"?Y=yield z.blob():$==="text/event-stream"?Y=z:$==="multipart/form-data"?Y=yield z.formData():Y=yield z.text(),{data:Y,error:null,response:z}}catch(h){return{data:null,error:h,response:h instanceof Xg||h instanceof Qg?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var R0=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},j0=class{constructor(s){var n,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,h=null,g=null,p=c.status,b=c.statusText;if(c.ok){var v,_;if(i.method!=="HEAD"){var E;const z=await c.text();z===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((E=i.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?h=z:h=JSON.parse(z))}const T=(v=i.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),R=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");T&&R&&R.length>1&&(g=parseInt(R[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,p=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var A;const T=await c.text();try{d=JSON.parse(T),Array.isArray(d)&&c.status===404&&(h=[],d=null,p=200,b="OK")}catch{c.status===404&&T===""?(p=204,b="No Content"):d={message:T}}if(d&&i.isMaybeSingle&&(!(d==null||(A=d.details)===null||A===void 0)&&A.includes("0 rows"))&&(d=null,p=200,b="OK"),d&&i.shouldThrowOnError)throw new R0(d)}return{error:d,data:h,count:g,status:p,statusText:b}});return this.shouldThrowOnError||(o=o.catch(c=>{var d;let h="";const g=c?.cause;if(g){var p,b,v,_;const A=(p=g?.message)!==null&&p!==void 0?p:"",T=(b=g?.code)!==null&&b!==void 0?b:"";h=`${(v=c?.name)!==null&&v!==void 0?v:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(_=g?.name)!==null&&_!==void 0?_:"Error"}: ${A}`,T&&(h+=` (${T})`),g?.stack&&(h+=`
${g.stack}`)}else{var E;h=(E=c?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(s,n)}returns(){return this}overrideTypes(){return this}},N0=class extends j0{select(s){let n=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${s}`),this.url.searchParams.set(c,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Zg=new RegExp("[,()]");var gi=class extends N0{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Zg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}notIn(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Zg.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${i})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:i,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${o}fts${c}.${n}`),this}match(s){return Object.entries(s).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(s,n,i){return this.url.searchParams.append(s,`not.${n}.${i}`),this}or(s,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,i){return this.url.searchParams.append(s,`${n}.${i}`),this}},D0=class{constructor(s,{headers:n={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=i,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:i=!1,count:l}=n??{},o=i?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:h,headers:g}=this.cloneRequestState();return h.searchParams.set("select",d),l&&g.append("Prefer",`count=${l}`),new gi({method:o,url:h,headers:g,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:i=!0}={}){var l;const o="POST",{url:c,headers:d}=this.cloneRequestState();if(n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(h.length>0){const g=[...new Set(h)].map(p=>`"${p}"`);c.searchParams.set("columns",g.join(","))}}return new gi({method:o,url:c,headers:d,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:o=!0}={}){var c;const d="POST",{url:h,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&h.searchParams.set("on_conflict",n),l&&g.append("Prefer",`count=${l}`),o||g.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(p.length>0){const b=[...new Set(p)].map(v=>`"${v}"`);h.searchParams.set("columns",b.join(","))}}return new gi({method:d,url:h,headers:g,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:n}={}){var i;const l="PATCH",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new gi({method:l,url:o,headers:c,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var n;const i="DELETE",{url:l,headers:o}=this.cloneRequestState();return s&&o.append("Prefer",`count=${s}`),new gi({method:i,url:l,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},U0=class Rm{constructor(n,{headers:i={},schema:l,fetch:o}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.fetch=o}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new D0(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Rm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:l=!1,get:o=!1,count:c}={}){var d;let h;const g=new URL(`${this.url}/rpc/${n}`);let p;const b=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(b)),v=l&&Object.values(i).some(b);v?(h="POST",p=i):l||o?(h=l?"HEAD":"GET",Object.entries(i).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{g.searchParams.append(E,A)})):(h="POST",p=i);const _=new Headers(this.headers);return v?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new gi({method:h,url:g,headers:_,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class z0{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const o=l.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const L0="2.90.1",M0=`realtime-js/${L0}`,jm="1.0.0",B0="2.0.0",Fg=jm,ec=1e4,q0=1e3,H0=100;var Pn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Pn||(Pn={}));var We;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(We||(We={}));var Jt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Jt||(Jt={}));var tc;(function(s){s.websocket="websocket"})(tc||(tc={}));var ya;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ya||(ya={}));class $0{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,i,l){var o,c;const d=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",g=(c=n.join_ref)!==null&&c!==void 0?c:"",p=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},v=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+d.length+p.length+v.length,E=new ArrayBuffer(this.HEADER_LENGTH+_);let A=new DataView(E),T=0;A.setUint8(T++,this.KINDS.userBroadcastPush),A.setUint8(T++,g.length),A.setUint8(T++,h.length),A.setUint8(T++,d.length),A.setUint8(T++,p.length),A.setUint8(T++,v.length),A.setUint8(T++,i),Array.from(g,z=>A.setUint8(T++,z.charCodeAt(0))),Array.from(h,z=>A.setUint8(T++,z.charCodeAt(0))),Array.from(d,z=>A.setUint8(T++,z.charCodeAt(0))),Array.from(p,z=>A.setUint8(T++,z.charCodeAt(0))),Array.from(v,z=>A.setUint8(T++,z.charCodeAt(0)));var R=new Uint8Array(E.byteLength+l.byteLength);return R.set(new Uint8Array(E),0),R.set(new Uint8Array(l),E.byteLength),R.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,c,d,h,g]=l;return i({join_ref:o,ref:c,topic:d,event:h,payload:g})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,o)}_decodeUserBroadcast(n,i,l){const o=i.getUint8(1),c=i.getUint8(2),d=i.getUint8(3),h=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(n.slice(g,g+o));g=g+o;const b=l.decode(n.slice(g,g+c));g=g+c;const v=l.decode(n.slice(g,g+d));g=g+d;const _=n.slice(g,n.byteLength),E=h===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,A={type:this.BROADCAST_EVENT,event:b,payload:E};return d>0&&(A.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class Nm{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ze||(ze={}));const Wg=(s,n,i={})=>{var l;const o=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,d)=>(c[d]=V0(d,s,n,o),c),{}):{}},V0=(s,n,i,l)=>{const o=n.find(h=>h.name===s),c=o?.type,d=i[s];return c&&!l.includes(c)?Dm(c,d):nc(d)},Dm=(s,n)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return Y0(n,i)}switch(s){case ze.bool:return K0(n);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return G0(n);case ze.json:case ze.jsonb:return I0(n);case ze.timestamp:return P0(n);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return nc(n);default:return nc(n)}},nc=s=>s,K0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},G0=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},I0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Y0=(s,n)=>{if(typeof s!="string")return s;const i=s.length-1,l=s[i];if(s[0]==="{"&&l==="}"){let c;const d=s.slice(1,i);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>Dm(n,h))}return s},P0=s=>typeof s=="string"?s.replace(" ","T"):s,Um=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Bu{constructor(n,i,l={},o=ec){this.channel=n,this.event=i,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var em;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(em||(em={}));class vr{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vr.syncState(this.state,o,c,d),this.pendingDiffs.forEach(g=>{this.state=vr.syncDiff(this.state,g,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=vr.syncDiff(this.state,o,c,d),h())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,o){const c=this.cloneDeep(n),d=this.transformState(i),h={},g={};return this.map(c,(p,b)=>{d[p]||(g[p]=b)}),this.map(d,(p,b)=>{const v=c[p];if(v){const _=b.map(R=>R.presence_ref),E=v.map(R=>R.presence_ref),A=b.filter(R=>E.indexOf(R.presence_ref)<0),T=v.filter(R=>_.indexOf(R.presence_ref)<0);A.length>0&&(h[p]=A),T.length>0&&(g[p]=T)}else h[p]=b}),this.syncDiff(c,{joins:h,leaves:g},l,o)}static syncDiff(n,i,l,o){const{joins:c,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(h,g)=>{var p;const b=(p=n[h])!==null&&p!==void 0?p:[];if(n[h]=this.cloneDeep(g),b.length>0){const v=n[h].map(E=>E.presence_ref),_=b.filter(E=>v.indexOf(E.presence_ref)<0);n[h].unshift(..._)}l(h,b,g)}),this.map(d,(h,g)=>{let p=n[h];if(!p)return;const b=g.map(v=>v.presence_ref);p=p.filter(v=>b.indexOf(v.presence_ref)<0),n[h]=p,o(h,p,g),p.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const o=n[l];return"metas"in o?i[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[l]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(tm||(tm={}));var br;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(br||(br={}));var _n;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class yi{constructor(n,i={config:{}},l){var o,c;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new vr(this),this.broadcastEndpointURL=Um(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:d,presence:h,private:g}}=this.params,p=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(E=>E.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[br.PRESENCE]&&this.bindings[br.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},_={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(_n.CHANNEL_ERROR,E)),this._onClose(()=>n?.(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n?.(_n.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,R=(A=T?.length)!==null&&A!==void 0?A:0,z=[];for(let q=0;q<R;q++){const $=T[q],{filter:{event:Y,schema:F,table:P,filter:K}}=$,fe=E&&E[q];if(fe&&fe.event===Y&&yi.isFilterValueEqual(fe.schema,F)&&yi.isFilterValueEqual(fe.table,P)&&yi.isFilterValueEqual(fe.filter,K))z.push(Object.assign(Object.assign({},$),{id:fe.id}));else{this.unsubscribe(),this.state=We.errored,n?.(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,n&&n(_n.SUBSCRIBED);return}}).receive("error",E=>{this.state=We.errored,n?.(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===We.joined&&n===br.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const p=await h.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,i={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,g;const p=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=We.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new Bu(this,Jt.leave,{},n),l.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),d=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(c),d}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bu(this,n,i,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>H0){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var o,c;const d=n.toLocaleLowerCase(),{close:h,error:g,leave:p,join:b}=Jt;if(l&&[h,g,p,b].indexOf(d)>=0&&l!==this._joinRef())return;let _=this._onMessage(d,i,l);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var A,T,R;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((R=(T=E.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===d}).map(E=>E.callback(_,l)):(c=this.bindings[d])===null||c===void 0||c.filter(E=>{var A,T,R,z,q,$,Y,F;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const P=E.id,K=(A=E.filter)===null||A===void 0?void 0:A.event;return P&&((T=i.ids)===null||T===void 0?void 0:T.includes(P))&&(K==="*"||K?.toLocaleLowerCase()===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))&&(!(!((z=E.filter)===null||z===void 0)&&z.table)||E.filter.table===((q=i.data)===null||q===void 0?void 0:q.table))}else{const P=(Y=($=E?.filter)===null||$===void 0?void 0:$.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return P==="*"||P===((F=i?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof _=="object"&&"ids"in _){const A=_.data,{schema:T,table:R,commit_timestamp:z,type:q,errors:$}=A;_=Object.assign(Object.assign({},{schema:T,table:R,commit_timestamp:z,eventType:q,new:{},old:{},errors:$}),this._getPayloadRecords(A))}E.callback(_,l)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const o=n.toLocaleLowerCase(),c={type:o,filter:i,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&yi.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Jt.close,{},n)}_onError(n){this._on(Jt.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Wg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Wg(n.columns,n.old_record)),i}}const qu=()=>{},Ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J0=[1e3,2e3,5e3,1e4],Q0=1e4,X0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z0{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ec,this.transport=null,this.heartbeatIntervalMs=Ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.reconnectTimer=null,this.vsn=Fg,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new $0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${tc.websocket}`,this.httpEndpoint=Um(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z0.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Pn.connecting:return ya.Connecting;case Pn.open:return ya.Open;case Pn.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new yi(`realtime:${n}`,i,this);return this.channels.push(c),c}}push(n){const{topic:i,event:l,payload:o,ref:c}=n,d=()=>{this.encode(n,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${l} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(q0,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:c,ref:d}=i,h=d?`(${d})`:"",g=c.status||"";this.log("receive",`${g} ${l} ${o} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(o,c,d)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Pn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pn.open||this.conn.readyState===Pn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Jt.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${l}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([X0],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:M0};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Jt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Nm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,o,c,d,h,g,p,b,v,_,E;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:ec,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ps.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:qu,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:Fg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(A=>J0[A-1]||Q0),this.vsn){case jm:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((A,T)=>T(JSON.stringify(A))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:((A,T)=>T(JSON.parse(A)));break;case B0:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Sr=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function F0(s,n,i){const l=new URL(n,s);if(i)for(const[o,c]of Object.entries(i))c!==void 0&&l.searchParams.set(o,c);return l.toString()}async function W0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function eb(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:o,body:c,headers:d}){const h=F0(s.baseUrl,l,o),g=await W0(s.auth),p=await n(h,{method:i,headers:{...c?{"Content-Type":"application/json"}:{},...g,...d},body:c?JSON.stringify(c):void 0}),b=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),_=v&&b?JSON.parse(b):b;if(!p.ok){const E=v?_:void 0,A=E?.error;throw new Sr(A?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:A?.type,icebergCode:A?.code,details:E})}return{status:p.status,headers:p.headers,data:_}}}}function Js(s){return s.join("")}var tb=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:Js(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const i={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(s.namespace)}`}),!0}catch(n){if(n instanceof Sr&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(i){if(i instanceof Sr&&i.status===409)return;throw i}}};function oi(s){return s.join("")}var nb=class{constructor(s,n="",i){this.client=s,this.prefix=n,this.accessDelegation=i}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(s.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(s,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oi(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oi(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oi(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oi(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(i){if(i instanceof Sr&&i.status===404)return!1;throw i}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(i){if(i instanceof Sr&&i.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw i}}},ab=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const i=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=eb({baseUrl:i,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new tb(this.client,n),this.tableOps=new nb(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},sl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function qe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var ib=class extends sl{constructor(s,n,i){super(s),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ac=class extends sl{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const dc=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),rb=()=>Response,ic=s=>{if(Array.isArray(s))return s.map(i=>ic(i));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([i,l])=>{const o=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=ic(l)}),n},sb=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},lb=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function wr(s){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wr(s)}function ob(s,n){if(wr(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(wr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function ub(s){var n=ob(s,"string");return wr(n)=="symbol"?n:n+""}function cb(s,n,i){return(n=ub(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function nm(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,l)}return i}function ie(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?nm(Object(i),!0).forEach(function(l){cb(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):nm(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const Hu=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},fb=async(s,n,i)=>{s instanceof await rb()&&!i?.noResolveJson?s.json().then(l=>{const o=s.status||500,c=l?.statusCode||o+"";n(new ib(Hu(l),o,c))}).catch(l=>{n(new ac(Hu(l),l))}):n(new ac(Hu(s),s))},db=(s,n,i,l)=>{const o={method:s,headers:n?.headers||{}};return s==="GET"||!l?o:(sb(l)?(o.headers=ie({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),ie(ie({},o),i))};async function Ar(s,n,i,l,o,c){return new Promise((d,h)=>{s(i,db(n,l,o,c)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>fb(g,h,l))})}async function Er(s,n,i,l){return Ar(s,"GET",n,i,l)}async function Pt(s,n,i,l,o){return Ar(s,"POST",n,l,o,i)}async function rc(s,n,i,l,o){return Ar(s,"PUT",n,l,o,i)}async function hb(s,n,i,l){return Ar(s,"HEAD",n,ie(ie({},i),{},{noResolveJson:!0}),l)}async function hc(s,n,i,l,o){return Ar(s,"DELETE",n,l,o,i)}var gb=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}};let zm;zm=Symbol.toStringTag;var mb=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[zm]="BlobDownloadBuilder",this.promise=null}asStream(){return new gb(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}};const pb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yb=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=i,this.fetch=dc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,i,l){var o=this;try{let c;const d=ie(ie({},am),l);let h=ie(ie({},o.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),g&&c.append("metadata",o.encodeMetadata(g)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),g&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(g))):(c=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,g&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(h=ie(ie({},h),l.headers));const p=o._removeEmptyFolders(n),b=o._getFinalPath(p),v=await(s=="PUT"?rc:Pt)(o.fetch,`${o.url}/object/${b}`,c,ie({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async upload(s,n,i){return this.uploadOrUpdate("POST",s,n,i)}async uploadToSignedUrl(s,n,i,l){var o=this;const c=o._removeEmptyFolders(s),d=o._getFinalPath(c),h=new URL(o.url+`/object/upload/sign/${d}`);h.searchParams.set("token",n);try{let g;const p=ie({upsert:am.upsert},l),b=ie(ie({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{data:{path:c,fullPath:(await rc(o.fetch,h.toString(),g,{headers:b})).Key},error:null}}catch(g){if(o.shouldThrowOnError)throw g;if(qe(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(s,n){var i=this;try{let l=i._getFinalPath(s);const o=ie({},i.headers);n?.upsert&&(o["x-upsert"]="true");const c=await Pt(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:o}),d=new URL(i.url+c.url),h=d.searchParams.get("token");if(!h)throw new sl("No token returned by API");return{data:{signedUrl:d.toString(),path:s,token:h},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async update(s,n,i){return this.uploadOrUpdate("PUT",s,n,i)}async move(s,n,i){var l=this;try{return{data:await Pt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async copy(s,n,i){var l=this;try{return{data:{path:(await Pt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrl(s,n,i){var l=this;try{let o=l._getFinalPath(s),c=await Pt(l.fetch,`${l.url}/object/sign/${o}`,ie({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${l.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrls(s,n,i){var l=this;try{const o=await Pt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(d=>ie(ie({},d),{},{signedUrl:d.signedURL?encodeURI(`${l.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}download(s,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),o=l?`?${l}`:"",c=this._getFinalPath(s),d=()=>Er(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new mb(d,this.shouldThrowOnError)}async info(s){var n=this;const i=n._getFinalPath(s);try{return{data:ic(await Er(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const i=n._getFinalPath(s);try{return await hb(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qe(l)&&l instanceof ac){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const i=this._getFinalPath(s),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&l.push(d);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${h}`)}}}async remove(s){var n=this;try{return{data:await hc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async list(s,n,i){var l=this;try{const o=ie(ie(ie({},pb),n),{},{prefix:s||""});return{data:await Pt(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},i),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async listV2(s,n){var i=this;try{const l=ie({},s);return{data:await Pt(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const Lm="2.90.1",Mm={"X-Client-Info":`storage-js/${Lm}`};var vb=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1;const o=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ie(ie({},Mm),n),this.fetch=dc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const i=n.listBucketOptionsToQueryString(s);return{data:await Er(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await Er(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async createBucket(s,n={public:!1}){var i=this;try{return{data:await Pt(i.fetch,`${i.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var i=this;try{return{data:await rc(i.fetch,`${i.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await hc(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},bb=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},Mm),n),this.fetch=dc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async listBuckets(s){var n=this;try{const i=new URLSearchParams;s?.limit!==void 0&&i.set("limit",s.limit.toString()),s?.offset!==void 0&&i.set("offset",s.offset.toString()),s?.sortColumn&&i.set("sortColumn",s.sortColumn),s?.sortOrder&&i.set("sortOrder",s.sortOrder),s?.search&&i.set("search",s.search);const l=i.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Er(n.fetch,o,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await hc(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}}from(s){var n=this;if(!lb(s))throw new sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new ab({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(o,c){const d=o[c];return typeof d!="function"?d:async(...h)=>{try{return{data:await d.apply(o,h),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const gc={"X-Client-Info":`storage-js/${Lm}`,"Content-Type":"application/json"};var Bm=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var $u=class extends Bm{constructor(s,n,i){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_b=class extends Bm{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const mc=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Sb=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},im=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),wb=async(s,n,i)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!i?.noResolveJson){const l=s.status||500,o=s;if(typeof o.json=="function")o.json().then(c=>{const d=c?.statusCode||c?.code||l+"";n(new $u(im(c),l,d))}).catch(()=>{const c=l+"";n(new $u(o.statusText||`HTTP ${l} error`,l,c))});else{const c=l+"";n(new $u(o.statusText||`HTTP ${l} error`,l,c))}}else n(new _b(im(s),s))},Eb=(s,n,i,l)=>{const o={method:s,headers:n?.headers||{}};return l?(Sb(l)?(o.headers=ie({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,ie(ie({},o),i)):o};async function Tb(s,n,i,l,o,c){return new Promise((d,h)=>{s(i,Eb(n,l,o,c)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>wb(g,h,l))})}async function Nt(s,n,i,l,o){return Tb(s,"POST",n,l,o,i)}var xb=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},gc),n),this.fetch=mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async getIndex(s,n){var i=this;try{return{data:await Nt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async deleteIndex(s,n){var i=this;try{return{data:await Nt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}}},Ob=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},gc),n),this.fetch=mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async getVectors(s){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Nt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async queryVectors(s){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}},Ab=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ie(ie({},gc),n),this.fetch=mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async listBuckets(s={}){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Nt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}}},kb=class extends Ab{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Cb(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,i=this;return n().call(i,s)}async getBucket(s){var n=()=>super.getBucket,i=this;return n().call(i,s)}async listBuckets(s={}){var n=()=>super.listBuckets,i=this;return n().call(i,s)}async deleteBucket(s){var n=()=>super.deleteBucket,i=this;return n().call(i,s)}},Cb=class extends xb{constructor(s,n,i,l){super(s,n,l),this.vectorBucketName=i}async createIndex(s){var n=()=>super.createIndex,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,s)}index(s){return new Rb(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Rb=class extends Ob{constructor(s,n,i,l,o){super(s,n,o),this.vectorBucketName=i,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(s){var n=()=>super.getVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,i=this;return n().call(i,ie(ie({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},jb=class extends vb{constructor(s,n={},i,l){super(s,n,i,l)}from(s){return new yb(this.url,this.headers,s,this.fetch)}get vectors(){return new kb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bb(this.url+"/iceberg",this.headers,this.fetch)}};const qm="2.90.1",mi=30*1e3,sc=3,Vu=sc*mi,Nb="http://localhost:9999",Db="supabase.auth.token",Ub={"X-Client-Info":`gotrue-js/${qm}`},lc="X-Supabase-Api-Version",Hm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lb=600*1e3;class Tr extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function W(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Mb extends Tr{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Bb(s){return W(s)&&s.name==="AuthApiError"}class va extends Tr{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class Sn extends Tr{constructor(n,i,l,o){super(n,l,o),this.name=i,this.status=l}}class Rt extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qb(s){return W(s)&&s.name==="AuthSessionMissingError"}class ui extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qs extends Sn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends Sn{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hb(s){return W(s)&&s.name==="AuthImplicitGrantRedirectError"}class rm extends Sn{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $b extends Sn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class oc extends Sn{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Ku(s){return W(s)&&s.name==="AuthRetryableFetchError"}class sm extends Sn{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class uc extends Sn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const el="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lm=` 	
\r=`.split(""),Vb=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<lm.length;n+=1)s[lm[n].charCodeAt(0)]=-2;for(let n=0;n<el.length;n+=1)s[el[n].charCodeAt(0)]=n;return s})();function om(s,n,i){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(el[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(el[l]),n.queuedBits-=6}}function $m(s,n,i){const l=Vb[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function um(s){const n=[],i=d=>{n.push(String.fromCodePoint(d))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{Ib(d,l,i)};for(let d=0;d<s.length;d+=1)$m(s.charCodeAt(d),o,c);return n.join("")}function Kb(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Gb(s,n){for(let i=0;i<s.length;i+=1){let l=s.charCodeAt(i);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(s.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}Kb(l,n)}}function Ib(s,n,i){if(n.utf8seq===0){if(s<=127){i(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function vi(s){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<s.length;o+=1)$m(s.charCodeAt(o),i,l);return new Uint8Array(n)}function Yb(s){const n=[];return Gb(s,i=>n.push(i)),new Uint8Array(n)}function ba(s){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};return s.forEach(o=>om(o,i,l)),om(null,i,l),n.join("")}function Pb(s){return Math.round(Date.now()/1e3)+s}function Jb(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",ga={tested:!1,writable:!1},Vm=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ga.tested)return ga.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ga.tested=!0,ga.writable=!0}catch{ga.tested=!0,ga.writable=!1}return ga.writable};function Qb(s){const n={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return i.searchParams.forEach((l,o)=>{n[o]=l}),n}const Km=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Xb=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",pi=async(s,n,i)=>{await s.setItem(n,JSON.stringify(i))},ma=async(s,n)=>{const i=await s.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},lt=async(s,n)=>{await s.removeItem(n)};class ll{constructor(){this.promise=new ll.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}ll.promiseConstructor=Promise;function Gu(s){const n=s.split(".");if(n.length!==3)throw new uc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!zb.test(n[l]))throw new uc("JWT not in base64url format");return{header:JSON.parse(um(n[0])),payload:JSON.parse(um(n[1])),signature:vi(n[2]),raw:{header:n[0],payload:n[1]}}}async function Zb(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function Fb(s,n){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await s(c);if(!n(c,null,d)){l(d);return}}catch(d){if(!n(c,d)){o(d);return}}})()})}function Wb(s){return("0"+s.toString(16)).substr(-2)}function e_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let o="";for(let c=0;c<56;c++)o+=i.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,Wb).join("")}async function t_(s){const i=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function n_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await t_(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ci(s,n,i=!1){const l=e_();let o=l;i&&(o+="/PASSWORD_RECOVERY"),await pi(s,`${n}-code-verifier`,o);const c=await n_(l);return[c,l===c?"plain":"s256"]}const a_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i_(s){const n=s.headers.get(lc);if(!n||!n.match(a_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function r_(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function s_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fi(s){if(!l_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Iu(){const s={};return new Proxy(s,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o_(s,n){return new Proxy(s,{get:(i,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,o)}})}function cm(s){return JSON.parse(JSON.stringify(s))}const pa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),u_=[502,503,504];async function fm(s){var n;if(!Xb(s))throw new oc(pa(s),0);if(u_.includes(s.status))throw new oc(pa(s),s.status);let i;try{i=await s.json()}catch(c){throw new va(pa(c),c)}let l;const o=i_(s);if(o&&o.getTime()>=Hm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new sm(pa(i),s.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Rt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new sm(pa(i),s.status,i.weak_password.reasons);throw new Mb(pa(i),s.status||500,l)}const c_=(s,n,i,l)=>{const o={method:s,headers:n?.headers||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),i))};async function ae(s,n,i,l){var o;const c=Object.assign({},l?.headers);c[lc]||(c[lc]=Hm["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const d=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(d.redirect_to=l.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await f_(s,n,i+h,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function f_(s,n,i,l,o,c){const d=c_(n,l,o,c);let h;try{h=await s(i,Object.assign({},d))}catch(g){throw console.error(g),new oc(pa(g),0)}if(h.ok||await fm(h),l?.noResolveJson)return h;try{return await h.json()}catch(g){await fm(g)}}function Yt(s){var n;let i=null;g_(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=Pb(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:i,user:l},error:null}}function dm(s){const n=Yt(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function Jn(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function d_(s){return{data:s,error:null}}function h_(s){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:c}=s,d=rl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:c},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function hm(s){return s}function g_(s){return s.access_token&&s.refresh_token&&s.expires_in}const Yu=["global","local","others"];class m_{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Km(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Yu[0]){if(Yu.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yu.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Jn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=rl(n,["options"]),o=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:h_,redirectTo:i?.redirectTo})}catch(i){if(W(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Jn})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,o,c,d,h,g;try{const p={nextPage:null,lastPage:0,total:0},b=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:hm});if(b.error)throw b.error;const v=await b.json(),_=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(g=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const T=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);p[`${R}Page`]=T}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(W(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){fi(n);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Jn})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){fi(n);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Jn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){fi(n);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Jn})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){fi(n.userId);try{const{data:i,error:l}=await ae(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:l}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteFactor(n){fi(n.userId),fi(n.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,o,c,d,h,g;try{const p={nextPage:null,lastPage:0,total:0},b=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:hm});if(b.error)throw b.error;const v=await b.json(),_=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(g=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const T=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);p[`${R}Page`]=T}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(W(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}}function gm(s={}){return{getItem:n=>s[n]||null,setItem:(n,i)=>{s[n]=i},removeItem:n=>{delete s[n]}}}const di={debug:!!(globalThis&&Vm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class p_ extends Gm{}async function y_(s,n,i){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await i()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(n===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new p_(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(di.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function v_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Im(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function b_(s){return parseInt(s,16)}function __(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function S_(s){var n;const{chainId:i,domain:l,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:g,resources:p,scheme:b,uri:v,version:_}=s;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const E=Im(s.address),A=b?`${b}://${l}`:l,T=s.statement?`${s.statement}
`:"",R=`${A} wants you to sign in with your Ethereum account:
${E}

${T}`;let z=`URI: ${v}
Version: ${_}
Chain ID: ${i}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(z+=`
Expiration Time: ${o.toISOString()}`),h&&(z+=`
Not Before: ${h.toISOString()}`),g&&(z+=`
Request ID: ${g}`),p){let q=`
Resources:`;for(const $ of p){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);q+=`
- ${$}`}z+=q}return`${R}
${z}`}class Ze extends Error{constructor({message:n,code:i,cause:l,name:o}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=o??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class tl extends Ze{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function w_({error:s,options:n}){var i,l,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ze({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Ym(d)){if(c.rp.id!==d)return new Ze({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function E_({error:s,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ze({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(Ym(l)){if(i.rpId!==l)return new Ze({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class T_{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const x_=new T_;function O_(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:i,excludeCredentials:l}=s,o=rl(s,["challenge","user","excludeCredentials"]),c=vi(n).buffer,d=Object.assign(Object.assign({},i),{id:vi(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:d});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];h.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:vi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function A_(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:i}=s,l=rl(s,["challenge","allowCredentials"]),o=vi(n).buffer,c=Object.assign(Object.assign({},l),{challenge:o});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:vi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function k_(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s;return{id:s.id,rawId:s.id,response:{attestationObject:ba(new Uint8Array(s.response.attestationObject)),clientDataJSON:ba(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function C_(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s,l=s.getClientExtensionResults(),o=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ba(new Uint8Array(o.authenticatorData)),clientDataJSON:ba(new Uint8Array(o.clientDataJSON)),signature:ba(new Uint8Array(o.signature)),userHandle:o.userHandle?ba(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Ym(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function mm(){var s,n;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function R_(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new tl("Browser returned unexpected credential type",n)}:{data:null,error:new tl("Empty credential response",n)}}catch(n){return{data:null,error:w_({error:n,options:s})}}}async function j_(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new tl("Browser returned unexpected credential type",n)}:{data:null,error:new tl("Empty credential response",n)}}catch(n){return{data:null,error:E_({error:n,options:s})}}}const N_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},D_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nl(...s){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of s)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))l[c]=d;else if(i(d))l[c]=d;else if(n(d)){const h=l[c];n(h)?l[c]=nl(h,d):l[c]=nl(d)}else l[c]=d}return l}function U_(s,n){return nl(N_,s,n||{})}function z_(s,n){return nl(D_,s,n||{})}class L_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:o},c){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!d)return{data:null,error:h};const g=o??x_.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=U_(d.webauthn.credential_options.publicKey,c?.create),{data:b,error:v}=await R_({publicKey:p,signal:g});return b?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const p=z_(d.webauthn.credential_options.publicKey,c?.request),{data:b,error:v}=await j_(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:g}));return b?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new va("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Tr("rpId is required for WebAuthn authentication")};try{if(!mm())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:o},{request:c});if(!d)return{data:null,error:h};const{webauthn:g}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:l,credential_response:g.credential_response}})}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new va("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Tr("rpId is required for WebAuthn registration")};try{if(!mm())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(b=>{var v;return(v=b.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:h};const{data:g,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:o},{create:c});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new va("Unexpected error in register",d)}}}}v_();const M_={url:Nb,storageKey:Db,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ub,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function pm(s,n,i){return await i()}const hi={};class xr{get jwks(){var n,i;return(i=(n=hi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=hi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},M_),n);if(this.storageKey=c.storageKey,this.instanceID=(i=xr.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,xr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&ot()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new m_({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Km(c.fetch),this.lock=c.lock||pm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&ot()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=y_:this.lock=pm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Vm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=gm(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(ot()&&(i=Qb(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),ot()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(i,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Hb(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return W(i)?this._returnResult({error:i}):this._returnResult({error:new va("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,o;try{const c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Yt}),{data:d,error:h}=c;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var i,l,o;try{let c;if("email"in n){const{email:b,password:v,options:_}=n;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await ci(this.storage,this.storageKey)),c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:b,password:v,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:E,code_challenge_method:A},xform:Yt})}else if("phone"in n){const{phone:b,password:v,options:_}=n;c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:v,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Yt})}else throw new Qs("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let i;if("email"in n){const{email:c,password:d,options:h}=n;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:dm})}else if("phone"in n){const{phone:c,password:d,options:h}=n;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:dm})}else throw new Qs("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const c=new ui;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,o,c,d,h,g,p,b,v,_;let E,A;if("message"in n)E=n.message,A=n.signature;else{const{chain:T,wallet:R,statement:z,options:q}=n;let $;if(ot())if(typeof R=="object")$=R;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")$=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=R}const Y=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href),F=await $.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Im(F[0]);let K=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const ee=await $.request({method:"eth_chainId"});K=b_(ee)}const fe={domain:Y.host,address:P,statement:z,uri:Y.href,version:"1",chainId:K,nonce:(o=q?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=q?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=q?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=q?.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=S_(fe),A=await $.request({method:"personal_sign",params:[__(E),P]})}try{const{data:T,error:R}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:A},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Yt});if(R)throw R;if(!T||!T.session||!T.user){const z=new ui;return this._returnResult({data:{user:null,session:null},error:z})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:R})}catch(T){if(W(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(n){var i,l,o,c,d,h,g,p,b,v,_,E;let A,T;if("message"in n)A=n.message,T=n.signature;else{const{chain:R,wallet:z,statement:q,options:$}=n;let Y;if(ot())if(typeof z=="object")Y=z;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))Y=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=z}const F=new URL((i=$?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Y&&Y.signIn){const P=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),q?{statement:q}:null));let K;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")K=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)K=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)A=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),T=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${F.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(l=$?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=$?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((d=$?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((h=$?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((v=(b=$?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||v===void 0)&&v.length?["Resources",...$.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const P=await Y.signMessage(new TextEncoder().encode(A),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=P}}try{const{data:R,error:z}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:ba(T)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Yt});if(z)throw z;if(!R||!R.session||!R.user){const q=new ui;return this._returnResult({data:{user:null,session:null},error:q})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:z})}catch(R){if(W(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(n){const i=await ma(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new $b;const{data:c,error:d}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Yt});if(await lt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const h=new ui;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:i,provider:l,token:o,access_token:c,nonce:d}=n,h=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Yt}),{data:g,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const b=new ui;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,o,c,d;try{if("email"in n){const{email:h,options:g}=n;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await ci(this.storage,this.storageKey));const{error:v}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in n){const{phone:h,options:g}=n,{data:p,error:b}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:b})}throw new Qs("You must provide either an email or phone number.")}catch(h){if(await lt(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,l;try{let o,c;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:h}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Yt});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,p=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,l,o,c,d;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await ci(this.storage,this.storageKey));const p=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:d_});return!((c=p.data)===null||c===void 0)&&c.url&&ot()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await lt(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Rt;const{error:o}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:c}=n,{error:d}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:l,type:o,options:c}=n,{data:d,error:h}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new Qs("You must provide either an email or phone number and a type")}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Vu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const d=await ma(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Iu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=o_(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Jn}):await this._useSession(async i=>{var l,o,c;const{data:d,error:h}=i;if(h)throw h;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Jn})})}catch(i){if(W(i))return qb(i)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new Rt;const d=o.session;let h=null,g=null;this.flowType==="pkce"&&n.email!=null&&([h,g]=await ci(this.storage,this.storageKey));const{data:p,error:b}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:g}),jwt:d.access_token,xform:Jn});if(b)throw b;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Rt;const i=Date.now()/1e3;let l=i,o=!0,c=null;const{payload:d}=Gu(n.access_token);if(d.exp&&(l=d.exp,o=l<=i),o){const{data:h,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:d,error:h}=i;if(h)throw h;n=(l=d.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Rt;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!ot())throw new Xs("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Xs(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new rm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new rm("No code detected.");const{data:q,error:$}=await this._exchangeCodeForSession(n.code);if($)throw $;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:h,expires_at:g,token_type:p}=n;if(!c||!h||!d||!p)throw new Xs("No session defined in URL");const b=Math.round(Date.now()/1e3),v=parseInt(h);let _=b+v;g&&(_=parseInt(g));const E=_-b;E*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${v}s`);const A=_-v;b-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,_,b):b-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,_,b);const{data:T,error:R}=await this._getUser(c);if(R)throw R;const z={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:v,expires_at:_,refresh_token:d,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:n.type},error:null})}catch(l){if(W(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({error:c});const d=(l=o.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(Bb(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=Jb(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,o;try{const{data:{session:c},error:d}=i;if(d)throw d;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,i={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await ci(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:o}=await this._useSession(async c=>{var d,h,g,p,b;const{data:v,error:_}=c;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return ot()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(W(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:o,data:{session:c}}=i;if(o)throw o;const{options:d,provider:h,token:g,access_token:p,nonce:b}=n,v=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:g,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Yt}),{data:_,error:E}=v;return E?this._returnResult({data:{user:null,session:null},error:E}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new ui}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:E}))}catch(o){if(await lt(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,o;const{data:c,error:d}=i;if(d)throw d;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Fb(async o=>(o>0&&await Zb(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Yt})),(o,c)=>{const d=200*Math.pow(2,o);return c&&Ku(c)&&Date.now()+d-l<mi})}catch(l){if(this._debug(i,"error",l),W(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),ot()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await ma(this.storage,this.storageKey);if(o&&this.userStorage){let d=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await pi(this.userStorage,this.storageKey+"-user",d)),o.user=(n=d?.user)!==null&&n!==void 0?n:Iu()}else if(o&&!o.user&&!o.user){const d=await ma(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await lt(this.storage,this.storageKey+"-user"),await pi(this.storage,this.storageKey,o)):o.user=Iu()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Vu;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Vu}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Ku(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(o.access_token);!h&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(l,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ll;const{data:c,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!c.session)throw new Rt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),W(c)){const d={data:null,error:c};return Ku(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(g){c.push(g)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await pi(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const c=cm(o);await pi(this.storage,this.storageKey,c)}else{const o=cm(i);await pi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${mi}ms, refresh threshold is ${sc} ticks`),o<=sc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Gm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const o=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,d]=await ci(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;return c?this._returnResult({data:null,error:c}):await ae(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,o;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?k_(n.webauthn.credential_response):C_(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:g}=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const d=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:O_(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:A_(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Gu(l.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const p=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Rt});const d=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&ot()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Rt});const d=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&ot()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+Lb>o)return l;const{data:c,error:d}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:E,error:A}=await this.getSession();if(A||!E.session)return this._returnResult({data:null,error:A});l=E.session.access_token}const{header:o,payload:c,signature:d,raw:{header:h,payload:g}}=Gu(l);i?.allowExpired||r_(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:E}=await this.getUser(l);if(E)throw E;return{data:{claims:c,header:o,signature:d},error:null}}const b=s_(o.alg),v=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,v,d,Yb(`${h}.${g}`)))throw new uc("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}}xr.nextInstanceID={};const B_=xr,q_="2.90.1";let mr="";typeof Deno<"u"?mr="deno":typeof document<"u"?mr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mr="react-native":mr="node";const H_={"X-Client-Info":`supabase-js-${mr}/${q_}`},$_={headers:H_},V_={schema:"public"},K_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G_={};function Or(s){"@babel/helpers - typeof";return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Or(s)}function I_(s,n){if(Or(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(Or(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Y_(s){var n=I_(s,"string");return Or(n)=="symbol"?n:n+""}function P_(s,n,i){return(n=Y_(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function ym(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,l)}return i}function Ve(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?ym(Object(i),!0).forEach(function(l){P_(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ym(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const J_=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Q_=()=>Headers,X_=(s,n,i)=>{const l=J_(i),o=Q_();return async(c,d)=>{var h;const g=(h=await n())!==null&&h!==void 0?h:s;let p=new o(d?.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(c,Ve(Ve({},d),{},{headers:p}))}};function Z_(s){return s.endsWith("/")?s:s+"/"}function F_(s,n){var i,l;const{db:o,auth:c,realtime:d,global:h}=s,{db:g,auth:p,realtime:b,global:v}=n,_={db:Ve(Ve({},g),o),auth:Ve(Ve({},p),c),realtime:Ve(Ve({},b),d),storage:{},global:Ve(Ve(Ve({},v),h),{},{headers:Ve(Ve({},(i=v?.headers)!==null&&i!==void 0?i:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function W_(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Z_(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eS=class extends B_{constructor(s){super(s)}},tS=class{constructor(s,n,i){var l,o;this.supabaseUrl=s,this.supabaseKey=n;const c=W_(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:V_,realtime:G_,auth:Ve(Ve({},K_),{},{storageKey:d}),global:$_},g=F_(i??{},h);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=X_(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new U0(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new jb(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new C0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,i)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,i;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,storageKey:c,flowType:d,lock:h,debug:g,throwOnError:p},b,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eS({url:this.authUrl.href,headers:Ve(Ve({},_),b),storageKey:c,autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,flowType:d,lock:h,debug:g,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Z0(this.realtimeUrl.href,Ve(Ve({},s),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nS=(s,n,i)=>new tS(s,n,i);function aS(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}aS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iS="https://bdcicchyfipnetlifodc.supabase.co",rS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkY2ljY2h5ZmlwbmV0bGlmb2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NjkwNDYsImV4cCI6MjA4NDI0NTA0Nn0.8Lvs87OlpuJ_dVTDkQS_oDUJl6pjhjF5IzwSuc0-bOE",ye=nS(iS,rS),Pu=[{code:"en",label:"English",flag:""},{code:"no",label:"Norsk",flag:""},{code:"lt",label:"Lietuvi",flag:""}];function cc({value:s,onChange:n,style:i,className:l}){const{i18n:o}=en(),[c,d]=I.useState(!1),h=I.useRef(null),g=s||o.language,p=g==="nb"||g==="nb-NO"||g==="no"?"no":g,b=Pu.find(_=>_.code===p)||Pu[0];I.useEffect(()=>{function _(E){h.current&&!h.current.contains(E.target)&&d(!1)}return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const v=_=>{n?n(_):o.changeLanguage(_),d(!1)};return S.jsxs("div",{ref:h,className:l,style:{position:"relative",display:"inline-block",...i},children:[S.jsxs("button",{type:"button",onClick:()=>d(!c),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.6rem",background:"var(--color-bg-card)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"0.9rem",width:"100%",justifyContent:"space-between",minWidth:"110px"},children:[S.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[S.jsx("span",{style:{fontSize:"1.2em"},children:b.flag}),S.jsx("span",{children:b.label})]}),S.jsx("span",{style:{fontSize:"0.7em",opacity:.5},children:""})]}),c&&S.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"0.3rem",background:"hsl(var(--color-bg-card) / 0.8)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)",zIndex:50,minWidth:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:Pu.map(_=>S.jsxs("button",{type:"button",onClick:()=>v(_.code),style:{display:"flex",alignItems:"center",gap:"0.6rem",padding:"0.6rem 0.8rem",border:"none",borderBottom:"1px solid var(--color-border)",background:p===_.code?"var(--color-bg-selected)":"transparent",cursor:"pointer",textAlign:"left",width:"100%",borderRadius:0,fontSize:"0.9rem",color:"var(--color-text-main)",boxShadow:"none"},children:[S.jsx("span",{style:{fontSize:"1.4em"},children:_.flag}),S.jsx("span",{children:_.label})]},_.code))})]})}function sS(){const{t:s,i18n:n}=en(),[i,l]=I.useState(!1),[o,c]=I.useState(""),[d,h]=I.useState(""),[g,p]=I.useState(!1),[b,v]=I.useState(!1),[_,E]=I.useState(""),[A,T]=I.useState("en"),R=async z=>{z.preventDefault(),l(!0),E("");try{if(b){const{error:q}=await ye.auth.resetPasswordForEmail(o,{redirectTo:window.location.origin+"/ShoppingListApp"});if(q)throw q;E(s("auth.checkEmailReset"))}else if(g){const{error:q}=await ye.auth.signUp({email:o,password:d,options:{data:{signup_language:A}}});if(q)throw q;E(s("auth.checkEmailConfirm"))}else{const{error:q}=await ye.auth.signInWithPassword({email:o,password:d});if(q)throw q}}catch(q){E(q.message)}finally{l(!1)}};return S.jsx("div",{className:"container",style:{display:"grid",placeItems:"center",minHeight:"80vh"},children:S.jsxs("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"2rem"},children:[S.jsx("div",{style:{fontSize:"2rem"},children:""}),S.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--color-primary)"},children:"Shopping List"}),S.jsx(cc,{onChange:z=>{n.changeLanguage(z),g&&T(z)},style:{padding:"0.25rem",fontSize:"0.9rem"}})]}),S.jsx("h1",{style:{marginBottom:"1.5rem",textAlign:"center"},children:s(b?"auth.resetPassword":g?"auth.createAccount":"auth.welcomeBack")}),S.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:s("auth.email")}),S.jsx("input",{type:"email",value:o,onChange:z=>c(z.target.value),required:!0,style:{width:"100%"}})]}),!b&&S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:s("auth.password")}),S.jsx("input",{type:"password",value:d,onChange:z=>h(z.target.value),required:!0,style:{width:"100%"}})]}),g&&S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:s("auth.language")}),S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:s("auth.language")}),S.jsx(cc,{value:A,onChange:z=>T(z),style:{width:"100%"}}),S.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginTop:"0.25rem"},children:s("auth.languageHelper")})]}),_&&S.jsx("div",{style:{padding:"0.75rem",borderRadius:"var(--radius-sm)",backgroundColor:(g||b)&&!_.includes("Error")?"hsl(140 30% 90%)":"hsl(0 30% 90%)",color:(g||b)&&!_.includes("Error")?"hsl(140 100% 25%)":"hsl(0 100% 30%)",fontSize:"0.9rem"},children:_}),S.jsx("button",{type:"submit",className:"primary",disabled:i,children:s(i?"auth.loading":b?"auth.sendReset":g?"auth.signUp":"auth.logIn")})]}),S.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.9rem",color:"hsl(var(--color-text-muted))",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[!b&&S.jsxs("div",{children:[s(g?"auth.alreadyHaveAccount":"auth.dontHaveAccount")," ",S.jsx("button",{type:"button",onClick:()=>{p(!g),E("")},style:{background:"none",border:"none",padding:0,textDecoration:"underline",boxShadow:"none",color:"var(--color-primary)"},children:s(g?"auth.logIn":"auth.signUp")})]}),!g&&!b&&S.jsx("button",{type:"button",onClick:()=>{v(!0),E("")},style:{background:"none",border:"none",padding:0,fontSize:"0.85rem",color:"hsl(var(--color-text-muted))",textDecoration:"underline",boxShadow:"none"},children:s("auth.forgotPassword")}),b&&S.jsx("button",{type:"button",onClick:()=>{v(!1),E("")},style:{background:"none",border:"none",padding:0,textDecoration:"underline",boxShadow:"none",color:"var(--color-primary)"},children:s("auth.backToLogin")})]})]})})}function lS({profile:s,role:n,lists:i,selectedListId:l,onSelectList:o,onManageLists:c}){const{t:d,i18n:h}=en(),[g,p]=I.useState(!1),b=I.useRef(null),[v,_]=I.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"system");I.useEffect(()=>{const T=document.documentElement;v==="dark"?T.setAttribute("data-theme","dark"):v==="light"?T.setAttribute("data-theme","light"):T.removeAttribute("data-theme"),localStorage.setItem("theme",v)},[v]),I.useEffect(()=>{function T(R){b.current&&!b.current.contains(R.target)&&p(!1)}return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[b]);const E=async T=>{console.log(" Settings: changing language to:",T),h.changeLanguage(T);const{error:R}=await ye.from("profiles").update({language:T}).eq("id",s.id);R&&console.error("Error updating language:",R)},A=async T=>{T.preventDefault(),p(!1);const{error:R}=await ye.auth.signOut();R&&console.error("Error signing out:",R)};return S.jsxs("div",{className:"settings-menu",style:{position:"relative"},ref:b,children:[S.jsx("button",{onClick:()=>p(!g),style:{padding:"0.5rem",background:"transparent",border:"none",boxShadow:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--color-text-muted)"},children:[S.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),S.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),g&&S.jsxs("div",{className:"card",style:{position:"absolute",top:"100%",right:0,marginTop:"0.5rem",minWidth:"260px",padding:"1.25rem",zIndex:20,display:"flex",flexDirection:"column",gap:"1.25rem",boxShadow:"var(--shadow-lg)"},children:[S.jsxs("div",{style:{paddingBottom:"0.75rem",borderBottom:"1px solid var(--color-border)"},children:[S.jsx("div",{style:{fontWeight:600,marginBottom:"0.25rem",wordBreak:"break-all"},children:s?.email}),S.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)"},children:d("settings.role",{role:n})})]}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:500,marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:d("settings.language")}),S.jsx(cc,{value:h.language==="nb"||h.language==="nb-NO"||h.language==="no"?"no":h.language,onChange:T=>E(T),style:{width:"100%"}})]}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:500,marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:d("settings.activeList")}),S.jsxs("select",{value:l||"",onChange:T=>{T.target.value==="__MANAGE__"?(c&&c(),p(!1)):o(T.target.value)},style:{width:"100%"},children:[S.jsx("option",{value:"",disabled:!0,children:d("settings.selectList")}),i?.map(T=>S.jsx("option",{value:T.id,children:T.name},T.id)),S.jsx("option",{disabled:!0,children:""}),S.jsx("option",{value:"__MANAGE__",children:d("settings.manageLists")})]})]}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:500,marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:d("settings.appearance")}),S.jsxs("div",{style:{display:"flex",background:"var(--color-bg-body)",padding:"0.25rem",borderRadius:"var(--radius-md)",border:"1px solid var(--color-border)"},children:[S.jsx("button",{onClick:()=>_("light"),style:{flex:1,padding:"0.4rem",fontSize:"1.2rem",background:v==="light"?"var(--color-bg-card)":"transparent",border:"none",boxShadow:v==="light"?"var(--shadow-sm)":"none"},title:d("titles.lightMode"),children:""}),S.jsx("button",{onClick:()=>_("dark"),style:{flex:1,padding:"0.4rem",fontSize:"1.2rem",background:v==="dark"?"var(--color-bg-card)":"transparent",border:"none",boxShadow:v==="dark"?"var(--shadow-sm)":"none"},title:d("titles.darkMode"),children:""}),S.jsx("button",{onClick:()=>_("system"),style:{flex:1,padding:"0.4rem",fontSize:"1rem",background:v==="system"?"var(--color-bg-card)":"transparent",border:"none",boxShadow:v==="system"?"var(--shadow-sm)":"none",display:"flex",alignItems:"center",justifyContent:"center"},title:d("titles.systemDefault"),children:d("settings.auto")})]})]}),n==="admin"&&S.jsx("button",{style:{width:"100%",textAlign:"left"},children:d("settings.adminPanel")}),S.jsx("button",{onClick:A,style:{width:"100%",textAlign:"left",color:"hsl(0, 80%, 60%)",marginTop:"0.5rem",border:"1px solid hsl(0, 80%, 90%)",background:"hsl(0, 80%, 98%)"},children:d("settings.signOut")}),S.jsx("div",{style:{textAlign:"center",fontSize:"0.7rem",color:"var(--color-text-muted)",marginTop:"0.5rem",opacity:.7},children:"v1.2.1"})]})]})}function oS({lists:s,selectedListId:n,onSelectList:i,onManageLists:l,profile:o,role:c}){const{t:d}=en();return S.jsxs("nav",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem 1rem",borderRadius:"var(--radius-lg)",marginBottom:"1.5rem"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},onClick:()=>window.location.reload(),title:d("nav.refresh"),children:[S.jsx("div",{style:{fontSize:"1.5rem"},children:""}),S.jsx("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"var(--color-primary)",whiteSpace:"nowrap",flexShrink:0},children:d("nav.title")})]}),S.jsx("div",{style:{display:"flex",alignItems:"center"},children:S.jsx(lS,{profile:o,role:c,lists:s,selectedListId:n,onSelectList:i,onManageLists:l})})]})}function uS(s){const[n,i]=I.useState([]),[l,o]=I.useState([]),[c,d]=I.useState(!0);return I.useEffect(()=>{if(!s)return;let g=!0;(async(_=!1)=>{_||d(!0);try{const{data:E,error:A}=await ye.from("categories").select("*").order("sort_order",{ascending:!0});if(A)throw A;const{data:T,error:R}=await ye.from("items").select("*").eq("list_id",s).order("created_at",{ascending:!1});if(R)throw R;g&&(i(E),o(T))}catch(E){console.error("Error fetching list items:",E)}finally{g&&!_&&d(!1)}})();const b=ye.channel(`items-${s}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"items",filter:`list_id=eq.${s}`},_=>{g&&o(E=>[_.new,...E])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"items",filter:`list_id=eq.${s}`},_=>{g&&o(E=>E.map(A=>A.id===_.new.id?_.new:A))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"items",filter:`list_id=eq.${s}`},_=>{g&&o(E=>E.filter(A=>A.id!==_.old.id))}).subscribe(),v=ye.channel("categories-changes").on("postgres_changes",{event:"*",schema:"public",table:"categories"},async()=>{const{data:_}=await ye.from("categories").select("*").order("sort_order",{ascending:!0});g&&_&&i(_)}).subscribe();return()=>{g=!1,b.unsubscribe(),v.unsubscribe()}},[s]),{categories:n,items:l,loading:c,updateLocalItem:(g,p)=>{o(b=>b.map(v=>v.id===g?{...v,...p}:v))}}}function cS({categories:s,onClose:n}){const{t:i}=en(),[l,o]=I.useState(s),[c,d]=I.useState(""),[h,g]=I.useState(null),[p,b]=I.useState("");I.useEffect(()=>{o(s)},[s]);const v=async T=>{if(T.preventDefault(),!c.trim())return;const{data:{user:R}}=await ye.auth.getUser();if(R){const{error:z}=await ye.from("categories").insert({name:c,owner_id:R.id});z?(console.error("Error adding category:",z),alert("Could not add category. "+z.message)):d("")}},_=async T=>{if(!p.trim())return;const{error:R}=await ye.from("categories").update({name:p}).eq("id",T);R?(console.error("Error updating category:",R),alert("Could not update category. "+R.message)):g(null)},E=async T=>{if(!confirm(i("categories.confirmDelete")))return;const{error:R}=await ye.from("categories").delete().eq("id",T);R&&(console.error("Error deleting category:",R),alert("Could not delete category. "+R.message))},A=async(T,R)=>{const z=l.findIndex(ve=>ve.id===T);if(z===-1)return;const q=R==="up"?z-1:z+1;if(q<0||q>=l.length)return;const $=[...l],Y=$[z];$[z]=$[q],$[q]=Y,o($);const F=l[z],P=l[q];let K=F.sort_order??z*10,fe=P.sort_order??q*10;K===fe&&(K=z*10,fe=q*10);const{error:ee}=await ye.from("categories").update({sort_order:fe}).eq("id",F.id);if(ee){console.error("Error moving category:",ee),o(l);return}const{error:se}=await ye.from("categories").update({sort_order:K}).eq("id",P.id);se&&(console.error("Error moving category (partner):",se),o(l))};return S.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",border:"1px solid var(--color-primary)"},children:[S.jsxs("div",{className:"flex justify-between items-center",style:{marginBottom:"1rem"},children:[S.jsx("h3",{children:i("categories.manage")}),S.jsx("button",{onClick:n,style:{fontSize:"0.9rem"},children:i("categories.close")})]}),S.jsxs("form",{onSubmit:v,style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[S.jsx("input",{value:c,onChange:T=>d(T.target.value),placeholder:i("categories.newPlaceholder"),style:{flex:1}}),S.jsx("button",{type:"submit",className:"primary",children:i("categories.add")})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[l.map(T=>S.jsx("div",{className:"flex justify-between items-center",style:{padding:"0.5rem",backgroundColor:"var(--color-bg-body)",borderRadius:"var(--radius-sm)"},children:h===T.id?S.jsxs("div",{className:"flex gap-2",style:{flex:1},children:[S.jsx("input",{value:p,onChange:R=>b(R.target.value),style:{flex:1,padding:"0.25rem"},autoFocus:!0}),S.jsx("button",{onClick:()=>_(T.id),className:"primary",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:i("categories.save")}),S.jsx("button",{onClick:()=>g(null),style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:i("categories.cancel")})]}):S.jsxs(S.Fragment,{children:[S.jsx("span",{children:T.name}),S.jsxs("div",{className:"flex gap-2",style:{alignItems:"center"},children:[S.jsxs("div",{style:{display:"flex",gap:"4px"},children:[S.jsx("button",{onClick:()=>A(T.id,"up"),style:{padding:"0.4rem 0.6rem",fontSize:"1rem",lineHeight:"1",cursor:l.indexOf(T)===0?"not-allowed":"pointer",opacity:l.indexOf(T)===0?.3:1},disabled:l.indexOf(T)===0,title:i("titles.moveUp"),children:""}),S.jsx("button",{onClick:()=>A(T.id,"down"),style:{padding:"0.4rem 0.6rem",fontSize:"1rem",lineHeight:"1",cursor:l.indexOf(T)===l.length-1?"not-allowed":"pointer",opacity:l.indexOf(T)===l.length-1?.3:1},disabled:l.indexOf(T)===l.length-1,title:i("titles.moveDown"),children:""})]}),S.jsx("button",{onClick:()=>{g(T.id),b(T.name)},style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:i("categories.edit")}),S.jsx("button",{onClick:()=>E(T.id),style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",color:"red"},children:i("categories.delete")})]})]})},T.id)),l.length===0&&S.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:i("categories.noCategories")})]})]})}function fS({listId:s}){const{t:n}=en(),{categories:i,items:l,loading:o,updateLocalItem:c}=uS(s),[d,h]=I.useState(""),[g,p]=I.useState(!1),[b,v]=I.useState(!1),[_,E]=I.useState(()=>{const k=localStorage.getItem("collapsedCategories");return k?new Set(JSON.parse(k)):new Set});I.useEffect(()=>{localStorage.setItem("collapsedCategories",JSON.stringify([..._]))},[_]);const A=k=>{E(V=>{const J=new Set(V);return J.has(k)?J.delete(k):J.add(k),J})},[T,R]=I.useState(!1),[z,q]=I.useState(""),[$,Y]=I.useState(1),[F,P]=I.useState(""),[K,fe]=I.useState(""),ee=async k=>{c(k.id,{checked:!k.checked});const{error:V}=await ye.from("items").update({checked:!k.checked}).eq("id",k.id);V&&(console.error("Error toggling item:",V),c(k.id,{checked:k.checked}))},se=async(k,V)=>{c(k,V);const{error:J}=await ye.from("items").update(V).eq("id",k);J&&(console.error("Error updating item:",J),alert("Failed to update item"))},ve=async k=>{if(k.preventDefault(),!z.trim())return;if(!s){alert(n("list.noListSelected"));return}const{error:V}=await ye.from("items").insert({list_id:s,name:z,amount:$,category_id:F||null,comment:K||null,checked:!1});V?(console.error("Error adding item:",V),alert("Error adding item: "+V.message)):(q(""),Y(1),fe(""),R(!1))},de=async k=>{if(!confirm(n("list.confirmDeleteItem")))return;const{error:V}=await ye.from("items").delete().eq("id",k);V&&console.error("Error deleting item:",V)},Ue=I.useMemo(()=>l.filter(k=>{if(g&&!k.checked)return!1;if(d){const V=d.toLowerCase(),J=k.name.toLowerCase().includes(V),he=k.comment?.toLowerCase().includes(V);return J||he}return!0}),[l,g,d]),Ae={},Ye=[];return Ue.forEach(k=>{k.category_id?(Ae[k.category_id]||(Ae[k.category_id]=[]),Ae[k.category_id].push(k)):Ye.push(k)}),o?S.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:n("app.loading")}):S.jsxs("div",{className:"shopping-list",children:[S.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",padding:"1rem"},children:[S.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[S.jsxs("button",{onClick:()=>p(!g),style:{minWidth:g?"auto":"44px",minHeight:"44px",padding:g?"0 1rem":0,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",backgroundColor:g?"hsl(var(--color-primary))":"var(--color-bg-card)",color:g?"white":"var(--color-text-main)",border:"1px solid var(--color-border)",fontSize:"1.2rem",flexShrink:0},title:n(g?"titles.showAll":"titles.showChecked"),children:[S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),S.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500,display:g?"inline":"none"},children:n("list.selectedItems")})]}),S.jsxs("div",{style:{flex:1,position:"relative"},children:[S.jsx("input",{type:"text",placeholder:n("list.searchPlaceholder"),value:d,onChange:k=>h(k.target.value),style:{width:"100%",minHeight:"44px",paddingLeft:"2.5rem"}}),S.jsx("span",{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",opacity:.5},children:""})]}),S.jsx(dS,{isAdding:T,setIsAdding:R,showCatManager:b,setShowCatManager:v})]}),b&&!T&&S.jsxs("div",{style:{marginTop:"1rem",borderTop:"1px solid var(--color-border)",paddingTop:"1rem"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsx("h3",{style:{fontSize:"1rem"},children:n("categories.manage")}),S.jsx("button",{onClick:()=>v(!1),style:{fontSize:"0.8rem",padding:"0.2rem 0.6rem"},children:n("categories.close")})]}),S.jsx(cS,{categories:i,onClose:()=>{}})]}),T&&S.jsxs("form",{onSubmit:ve,style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--color-border)",display:"flex",gap:"0.5rem",flexWrap:"wrap",alignItems:"flex-end"},children:[S.jsxs("div",{style:{flex:2,minWidth:"150px"},children:[S.jsx("label",{style:{fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:n("list.itemName")}),S.jsx("input",{autoFocus:!0,type:"text",value:z,onChange:k=>q(k.target.value),placeholder:n("list.itemNamePlaceholder"),required:!0,style:{width:"100%"}})]}),S.jsxs("div",{style:{width:"80px"},children:[S.jsx("label",{style:{fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:n("list.qty")}),S.jsx("input",{type:"number",min:"1",value:$,onChange:k=>Y(k.target.value),style:{width:"100%"}})]}),S.jsxs("div",{style:{flex:1,minWidth:"120px"},children:[S.jsx("label",{style:{fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:n("list.category")}),S.jsxs("select",{value:F,onChange:k=>P(k.target.value),style:{width:"100%"},children:[S.jsx("option",{value:"",children:n("categories.uncategorized")}),i.map(k=>S.jsx("option",{value:k.id,children:k.name},k.id))]})]}),S.jsxs("div",{style:{flex:2,minWidth:"150px"},children:[S.jsx("label",{style:{fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:n("list.comment")}),S.jsx("input",{type:"text",value:K,onChange:k=>fe(k.target.value),placeholder:n("list.commentPlaceholder"),style:{width:"100%"}})]}),S.jsx("button",{type:"submit",className:"primary",style:{height:"38px",minWidth:"80px"},children:n("categories.add")})]})]}),i.map(k=>{const V=Ae[k.id]||[];if(V.length===0)return null;const J=_.has(k.id),he=V.length;return S.jsxs("div",{className:"category-group",style:{marginBottom:"1.5rem"},children:[S.jsxs("h3",{onClick:()=>A(k.id),style:{fontSize:"1.1rem",color:"var(--color-primary)",borderBottom:"2px solid var(--color-border)",paddingBottom:"0.25rem",marginBottom:"0.5rem",cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"0.8rem",opacity:.7},children:J?"":""}),k.name,J&&S.jsx("span",{style:{fontSize:"0.85rem",opacity:.6,fontWeight:"normal"},children:n("categories.itemsCount_plural",{count:he})})]}),!J&&S.jsx("div",{className:"items-grid",style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:V.map(Se=>S.jsx(vm,{item:Se,categories:i,onToggle:()=>ee(Se),onUpdate:se,onDelete:()=>de(Se.id)},Se.id))})]},k.id)}),Ye.length>0&&S.jsxs("div",{className:"category-group",style:{marginBottom:"1.5rem"},children:[S.jsx("h3",{style:{fontSize:"1.1rem",color:"var(--color-text-muted)",marginBottom:"0.5rem"},children:n("categories.uncategorized")}),S.jsx("div",{className:"items-grid",style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Ye.map(k=>S.jsx(vm,{item:k,categories:i,onToggle:()=>ee(k),onUpdate:se,onDelete:()=>de(k.id)},k.id))})]}),l.length===0&&!o&&S.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"var(--color-text-muted)"},children:[S.jsx("p",{children:n("list.emptyList")}),S.jsx("button",{style:{marginTop:"1rem"},onClick:()=>R(!0),children:n("list.addFirstItem")})]}),l.length>0&&Ue.length===0&&!o&&S.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"var(--color-text-muted)"},children:S.jsx("p",{children:n("list.noMatches")})})]})}function dS({isAdding:s,setIsAdding:n,showCatManager:i,setShowCatManager:l}){const{t:o}=en(),[c,d]=I.useState(!1),h=I.useRef(null);return I.useEffect(()=>{function g(p){h.current&&!h.current.contains(p.target)&&d(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[h]),S.jsxs("div",{style:{position:"relative"},ref:h,children:[S.jsx("button",{className:"primary",onClick:()=>{s?n(!1):d(!c)},style:{minWidth:"44px",minHeight:"44px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",lineHeight:1},title:o(s?"categories.cancel":"titles.addOrManage"),children:s?"":"+"}),c&&!s&&S.jsxs("div",{className:"card",style:{position:"absolute",top:"100%",right:0,marginTop:"0.5rem",padding:"0.5rem",zIndex:20,display:"flex",flexDirection:"column",gap:"0.5rem",minWidth:"180px",boxShadow:"var(--shadow-lg)"},children:[S.jsxs("button",{onClick:()=>{n(!0),d(!1),i&&l(!1)},style:{textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.2rem"},children:""})," ",o("list.addItem")]}),S.jsxs("button",{onClick:()=>{l(!i),d(!1)},style:{textAlign:"left",display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.2rem"},children:""})," ",o(i?"list.hideCategories":"list.manageCategories")]})]})]})}function vm({item:s,categories:n,onToggle:i,onUpdate:l,onDelete:o}){const{t:c}=en(),[d,h]=I.useState(!1),[g,p]=I.useState(!1),[b,v]=I.useState({name:s.name,amount:s.amount,comment:s.comment||"",category_id:s.category_id||""}),_=()=>{v({name:s.name,amount:s.amount,comment:s.comment||"",category_id:s.category_id||""}),h(!0)},E=()=>{b.name.trim()&&(l(s.id,{name:b.name,amount:b.amount,comment:b.comment||null,category_id:b.category_id||null}),h(!1))};if(d)return S.jsxs("div",{className:"item-row card",style:{padding:"0.75rem",display:"flex",flexDirection:"column",gap:"0.5rem",border:"1px solid var(--color-primary)"},children:[S.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[S.jsxs("div",{style:{flex:2},children:[S.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:c("list.itemName")}),S.jsx("input",{value:b.name,onChange:R=>v({...b,name:R.target.value}),style:{width:"100%"},autoFocus:!0})]}),S.jsxs("div",{style:{width:"80px"},children:[S.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:c("list.qty")}),S.jsx("input",{type:"number",min:"1",value:b.amount,onChange:R=>v({...b,amount:parseInt(R.target.value)||1}),style:{width:"100%"}})]})]}),S.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:S.jsxs("div",{style:{flex:1},children:[S.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:c("list.category")}),S.jsxs("select",{value:b.category_id,onChange:R=>v({...b,category_id:R.target.value}),style:{width:"100%"},children:[S.jsx("option",{value:"",children:c("categories.uncategorized")}),n.map(R=>S.jsx("option",{value:R.id,children:R.name},R.id))]})]})}),S.jsxs("div",{style:{width:"100%"},children:[S.jsx("label",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:c("list.comment")}),S.jsx("input",{value:b.comment,onChange:R=>v({...b,comment:R.target.value}),placeholder:c("list.commentPlaceholder"),style:{width:"100%"}})]}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[S.jsx("button",{className:"primary",onClick:E,style:{flex:1},children:c("list.save")}),S.jsx("button",{onClick:()=>h(!1),style:{flex:1},children:c("list.cancel")}),S.jsx("button",{onClick:()=>{h(!1),o()},style:{flex:1,backgroundColor:"hsl(0, 70%, 50%)",color:"white"},children:c("list.delete")})]})]});const A=()=>{l(s.id,{amount:s.amount+1})},T=()=>{s.amount>1&&l(s.id,{amount:s.amount-1})};return S.jsxs("div",{className:"item-row card",style:{padding:"0.75rem",display:"flex",alignItems:"center",gap:"0.75rem",backgroundColor:s.checked?"hsl(var(--color-bg-selected))":"var(--color-bg-card)",transition:"background-color 0.2s"},children:[S.jsx("input",{type:"checkbox",checked:s.checked,onChange:i,style:{width:"1.25rem",height:"1.25rem",accentColor:"var(--color-primary)",cursor:"pointer"}}),S.jsxs("div",{style:{flex:1},children:[" ",S.jsx("div",{style:{fontWeight:500},children:s.name})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[S.jsx("button",{onClick:T,disabled:s.amount<=1,style:{padding:"0.2rem 0.5rem",fontSize:"0.9rem",cursor:s.amount<=1?"not-allowed":"pointer",opacity:s.amount<=1?.3:1,border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",borderRadius:"var(--radius-sm)",minWidth:"28px"},title:c("titles.decreaseQty"),children:""}),S.jsx("div",{style:{fontWeight:600,color:"var(--color-text-main)",fontSize:"0.9rem",minWidth:"25px",textAlign:"center"},children:s.amount}),S.jsx("button",{onClick:A,style:{padding:"0.2rem 0.5rem",fontSize:"0.9rem",cursor:"pointer",border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",borderRadius:"var(--radius-sm)",minWidth:"28px"},title:c("titles.increaseQty"),children:"+"})]}),s.comment&&S.jsxs("div",{style:{position:"relative"},children:[S.jsx("button",{onClick:()=>p(!g),style:{cursor:"pointer",fontSize:"1.1rem",padding:"0.2rem 0.5rem",backgroundColor:"hsl(var(--color-primary) / 0.1)",borderRadius:"var(--radius-sm)",color:"var(--color-primary)",fontWeight:600,border:"none"},title:c("titles.viewComment"),children:""}),g&&S.jsxs("div",{style:{position:"absolute",bottom:"100%",right:0,marginBottom:"0.5rem",backgroundColor:"hsl(var(--color-primary) / 0.95)",border:"2px solid var(--color-primary)",borderRadius:"var(--radius-md)",padding:"0.75rem 1rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",minWidth:"200px",maxWidth:"300px",zIndex:10,fontSize:"0.95rem",color:"white",fontWeight:"500",lineHeight:"1.4"},children:[s.comment,S.jsx("button",{onClick:()=>p(!1),style:{position:"absolute",top:"0.25rem",right:"0.25rem",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer",fontSize:"0.75rem",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:""})]})]}),S.jsx("button",{onClick:_,style:{padding:"0.3rem 0.6rem",fontSize:"1rem",cursor:"pointer",border:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-card)",borderRadius:"var(--radius-sm)"},title:c("titles.editItem"),children:""})]})}function hS({lists:s,user:n,onClose:i}){const{t:l}=en(),[o,c]=I.useState(null),[d,h]=I.useState(""),[g,p]=I.useState(""),[b,v]=I.useState(!1),_=async T=>{if(!d.trim())return;const{error:R}=await ye.from("lists").update({name:d}).eq("id",T);R?(console.error("Error updating list:",R),alert("Could not update list. "+R.message)):(c(null),window.location.reload())},E=async T=>{if(!confirm(l("listManager.confirmDelete")))return;const{error:R}=await ye.from("lists").delete().eq("id",T);R?(console.error("Error deleting list:",R),alert("Could not delete list. "+R.message)):window.location.reload()},A=async T=>{if(T.preventDefault(),!g.trim())return;const{error:R}=await ye.from("lists").insert({name:g,owner_id:n.id});R?(console.error("Error creating list:",R),alert("Could not create list. "+R.message)):(p(""),v(!1),window.location.reload())};return S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:S.jsxs("div",{className:"card",style:{width:"90%",maxWidth:"500px",maxHeight:"80vh",overflowY:"auto"},children:[S.jsxs("div",{className:"flex justify-between items-center",style:{marginBottom:"1.5rem",paddingBottom:"0.5rem",borderBottom:"1px solid var(--color-border)"},children:[S.jsx("h3",{children:l("listManager.title")}),S.jsx("button",{onClick:i,children:l("listManager.close")})]}),b?S.jsxs("form",{onSubmit:A,style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:"var(--color-bg-body)",borderRadius:"var(--radius-md)"},children:[S.jsxs("div",{style:{marginBottom:"0.5rem"},children:[S.jsx("label",{style:{fontSize:"0.85rem",fontWeight:500,display:"block",marginBottom:"0.25rem"},children:l("listManager.newListName")}),S.jsx("input",{value:g,onChange:T=>p(T.target.value),placeholder:l("listManager.placeholder"),style:{width:"100%"},autoFocus:!0,required:!0})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{type:"submit",className:"primary",style:{flex:1},children:l("listManager.create")}),S.jsx("button",{type:"button",onClick:()=>{v(!1),p("")},style:{flex:1},children:l("listManager.cancel")})]})]}):S.jsx("button",{onClick:()=>v(!0),className:"primary",style:{width:"100%",marginBottom:"1.5rem"},children:l("listManager.createButton")}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[s.map(T=>S.jsx("div",{className:"flex justify-between items-center",style:{padding:"0.75rem",backgroundColor:"var(--color-bg-body)",borderRadius:"var(--radius-sm)"},children:o===T.id?S.jsxs("div",{className:"flex gap-2",style:{flex:1},children:[S.jsx("input",{value:d,onChange:R=>h(R.target.value),style:{flex:1},autoFocus:!0}),S.jsx("button",{onClick:()=>_(T.id),className:"primary",children:l("categories.save")}),S.jsx("button",{onClick:()=>c(null),children:l("categories.cancel")})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{style:{fontWeight:500},children:T.name}),S.jsx("div",{className:"flex gap-2",children:T.owner_id===n?.id?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>{c(T.id),h(T.name)},style:{fontSize:"0.85rem"},children:l("listManager.rename")}),S.jsx("button",{onClick:()=>E(T.id),style:{fontSize:"0.85rem",color:"red"},children:l("listManager.delete")})]}):S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)",fontStyle:"italic"},children:l("listManager.shared")})})]})},T.id)),s.length===0&&S.jsx("div",{style:{color:"var(--color-text-muted)"},children:l("listManager.noLists")})]})]})})}function gS(s){const[n,i]=I.useState(null),[l,o]=I.useState("user"),[c,d]=I.useState([]),[h,g]=I.useState(!0),[p,b]=I.useState(0),v=()=>b(_=>_+1);return I.useEffect(()=>{if(!s)return;async function _(){g(!0);try{const E=s.user;let A=null,T=null;const R=3,z=[500,1e3,2e3];for(let F=0;F<=R;F++){const{data:P,error:K}=await ye.from("profiles").select("*").eq("id",E.id).maybeSingle();if(P){A=P,T=null;break}if(K&&K.code!=="PGRST116"){T=K;break}F<R?(console.log(` Profile not found, retrying in ${z[F]}ms... (Attempt ${F+1}/${R})`),await new Promise(fe=>setTimeout(fe,z[F]))):console.warn(" Max retries reached for fetching profile.")}if(!A&&!T)console.error(" Profile could not be loaded after retries.");else if(T)throw T;let{data:q}=await ye.from("user_roles").select("role").eq("user_id",E.id).maybeSingle(),{data:$,error:Y}=await ye.from("lists").select("*").order("created_at",{ascending:!0});if(Y)throw Y;i(A),o(q?.role||"user"),d($)}catch(E){console.error("Error loading app data:",E)}finally{g(!1)}}_()},[s,p]),{profile:n,role:l,lists:c,loading:h,refresh:v}}const bm={en:[" Snacks"," Dairy Products"," Frozen Products"," Supplements"," Bread and Rolls"," Vegetables"," Fruits and Berries"," Nuts and Seeds"," Cheeses"," Meat and Fish"," Taco Products"," Grains and Flour"," Canned Goods"," Dry Products"," Spices and Sauces"," Beverages"," Household Items"],no:[" Snacks"," Meieriprodukter"," Frosne produkter"," Kosttilskudd"," Brd og rundstykker"," Grnnsaker"," Frukt og br"," Ntter og fr"," Oster"," Kjtt og fisk"," Taco-produkter"," Korn og mel"," Hermetikk"," Trrvarer"," Krydder og sauser"," Drikkevarer"," Husholdningsartikler"],lt:[" Ukandiai"," Pieno produktai"," aldyti produktai"," Papildai"," Duona ir bandels"," Darovs"," Vaisiai ir uogos"," Rieutai ir sklos"," Sriai"," Msa ir uvis"," Taco produktai"," Kruopos ir miltai"," Konservai"," Sausieji produktai"," Prieskoniai ir padaai"," Grimai"," Nam kio preks"]},_m={en:"Food",no:"Mat",lt:"Maistas"},mS=[{name_en:"Chips",name_no:"Chips",name_lt:"ips",category:0,amount:1},{name_en:"Popcorn ",name_no:"Popcorn ",name_lt:"Popkorn ",category:0,amount:1},{name_en:"Dried Mango",name_no:"Trket mango",name_lt:"Diovint mango",category:0,amount:1},{name_en:"Greek Yogurt",name_no:"Gresk yoghurt",name_lt:"Graikiko jogurto",category:1,amount:1},{name_en:"Cottage Cheese",name_no:"Cottage cheese",name_lt:"Varks",category:1,amount:1},{name_en:"Coffee Milk ",name_no:"Kaffemelk ",name_lt:"Kavos pieno ",category:1,amount:1},{name_en:"Almond Milk",name_no:"Mandelmelk",name_lt:"Migdol pieno",category:1,amount:1},{name_en:"Regular Milk ",name_no:"Vanlig melk ",name_lt:"Paprasto pieno ",category:1,amount:1},{name_en:"Biola",name_no:"Biola",name_lt:"Biolos",category:1,amount:1},{name_en:"Eggs ",name_no:"Egg ",name_lt:"Kiauini ",category:1,amount:1},{name_en:"Butter ",name_no:"Smr ",name_lt:"Sviesto ",category:1,amount:1},{name_en:"Mayonnaise",name_no:"Majones",name_lt:"Majonezo",category:1,amount:1},{name_en:"Melted Butter",name_no:"Smeltet smr",name_lt:"Tirpinto sviesto",category:1,amount:1},{name_en:"Condensed Milk",name_no:"Kondensert melk",name_lt:"Kondensoto pieno",category:1,amount:1},{name_en:"Yogurts",name_no:"Yoghurt",name_lt:"Jogurtuk",category:1,amount:1},{name_en:"Sour Cream Black",name_no:"Rmme svart",name_lt:"Grietins juodos",category:1,amount:1},{name_en:"Cream",name_no:"Flte",name_lt:"Grietinls",category:1,amount:1},{name_en:"Frozen Mango",name_no:"Frossen mango",name_lt:"aldyto mango",category:2,amount:1},{name_en:"Ice Cream Box ",name_no:"Isboks ",name_lt:"Dut led ",category:2,amount:1},{name_en:"Frozen Cherries",name_no:"Frosne kirsebr",name_lt:"Vini aldyt",category:2,amount:1},{name_en:"Frozen French Fries",name_no:"Frosne pommes frites",name_lt:"Bulvyi fri aldyt",category:2,amount:1},{name_en:"Vitamin C",name_no:"Vitamin C",name_lt:"Vitamino C",category:3,amount:1},{name_en:"Ginseng",name_no:"Ginseng",name_lt:"enenio",category:3,amount:1},{name_en:"Frozen Rolls",name_no:"Frosne rundstykker",name_lt:"aldyt bandeli",category:4,amount:1},{name_en:"Panini",name_no:"Panini",name_lt:"Panini",category:4,amount:1},{name_en:"Croissants ",name_no:"Croissanter ",name_lt:"Kruasan ",category:4,amount:1},{name_en:"Bread ",name_no:"Brd ",name_lt:"Duonos ",category:4,amount:1},{name_en:"Burger Buns ",name_no:"Burgerbrd ",name_lt:"Burgeri bandeli ",category:4,amount:1},{name_en:"Garlic Bread",name_no:"Hvitlksbrd",name_lt:"Duonel hvitlk kepimui",category:4,amount:1},{name_en:"Iceberg Lettuce ",name_no:"Isbergsalat ",name_lt:"Iceberg salotos ",category:5,amount:1},{name_en:"Beets",name_no:"Rdbeter",name_lt:"Burokli",category:5,amount:1},{name_en:"Cucumber ",name_no:"Agurk ",name_lt:"Agurko ",category:5,amount:1},{name_en:"Avocado ",name_no:"Avokado ",name_lt:"Avokado ",category:5,amount:1},{name_en:"Mint",name_no:"Mynte",name_lt:"Mtos",category:5,amount:1},{name_en:"Carrots ",name_no:"Gulrtter ",name_lt:"Mork ",category:5,amount:1},{name_en:"Sprouts",name_no:"Spirer",name_lt:"Daigli",category:5,amount:1},{name_en:"Salad Mix",name_no:"Salatblanding",name_lt:"Salot maielis",category:5,amount:1},{name_en:"Onions ",name_no:"Lk ",name_lt:"Svognli ",category:5,amount:1},{name_en:"Cauliflower",name_no:"Blomkl",name_lt:"iedinio kopsto",category:5,amount:1},{name_en:"Basil",name_no:"Basilikum",name_lt:"Baziliko",category:5,amount:1},{name_en:"Regular Potatoes",name_no:"Vanlige poteter",name_lt:"Bulvi paprast",category:5,amount:1},{name_en:"Sweet Potatoes",name_no:"Stpoteter",name_lt:"Bulvs saldios",category:5,amount:2},{name_en:"Bell Peppers ",name_no:"Paprika ",name_lt:"Paprikos ",category:5,amount:1},{name_en:"Cherry Tomatoes ",name_no:"Cherrytomater ",name_lt:"Pomidoriuk ",category:5,amount:1},{name_en:"Pickled Cucumbers",name_no:"Syltede agurker",name_lt:"Raugint agurk",category:5,amount:1},{name_en:"Mango ",name_no:"Mango ",name_lt:"Mango ",category:6,amount:1},{name_en:"Nectarines",name_no:"Nektariner",name_lt:"Nektarin",category:6,amount:1},{name_en:"Watermelon",name_no:"Vannmelon",name_lt:"Arbzo",category:6,amount:1},{name_en:"Berries ",name_no:"Br ",name_lt:"Uog ",category:6,amount:1},{name_en:"Oranges",name_no:"Appelsiner",name_lt:"Apelsin",category:6,amount:1},{name_en:"Apples ",name_no:"Epler ",name_lt:"Obuoli ",category:6,amount:1},{name_en:"Mandarins",name_no:"Mandariner",name_lt:"Mandarin",category:6,amount:1},{name_en:"Persimmons",name_no:"Persimmon",name_lt:"Persimon",category:6,amount:1},{name_en:"Lemons",name_no:"Sitroner",name_lt:"Citrin",category:6,amount:1},{name_en:"Strawberries ",name_no:"Jordbr ",name_lt:"Braki ",category:6,amount:1},{name_en:"Pumpkin",name_no:"Gresskar",name_lt:"Moligo",category:6,amount:1},{name_en:"Bananas ",name_no:"Bananer ",name_lt:"Banan ",category:6,amount:1},{name_en:"Kiwi",name_no:"Kiwi",name_lt:"Kiwi",category:6,amount:1},{name_en:"Mixed Nuts",name_no:"Blandede ntter",name_lt:"Rieut mix",category:7,amount:1},{name_en:"Pine Nuts",name_no:"Pinjekjerner",name_lt:"Kedro rieutli",category:7,amount:1},{name_en:"Sesame Seeds",name_no:"Sesamfr",name_lt:"Sezamo skl",category:7,amount:1},{name_en:"Pumpkin Seeds",name_no:"Gresskarfr",name_lt:"Moligo skl",category:7,amount:1},{name_en:"Grated Cheese",name_no:"Revet ost",name_lt:"Tarkuoto srio",category:8,amount:1},{name_en:"Cream Cheese",name_no:"Kremost",name_lt:"Tepamo srelio",category:8,amount:1},{name_en:"Cheese",name_no:"Ost",name_lt:"Srio",category:8,amount:1},{name_en:"Mozzarella",name_no:"Mozzarella",name_lt:"Mozzarelos",category:8,amount:1},{name_en:"Feta",name_no:"Feta",name_lt:"Fetos",category:8,amount:1},{name_en:"Meatballs",name_no:"Kjttboller",name_lt:"Msyi",category:9,amount:1},{name_en:"Ham",name_no:"Skinke",name_lt:"Kumplio",category:9,amount:1},{name_en:"Beef",name_no:"Biff",name_lt:"Jautienos",category:9,amount:1},{name_en:"Chicken Fillet",name_no:"Kyllingfilet",name_lt:"Vitienos fil",category:9,amount:1},{name_en:"Skinkeost",name_no:"Skinkeost",name_lt:"Skinkeost",category:9,amount:1},{name_en:"Salmon",name_no:"Laks",name_lt:"Laios",category:9,amount:1},{name_en:"Diced Ham",name_no:"Terninger skinke",name_lt:"inks maais gabaliukais",category:9,amount:1},{name_en:"Ground Meat",name_no:"Kjttdeig",name_lt:"Faro",category:9,amount:1},{name_en:"Bacon Strips ",name_no:"Baconstriper ",name_lt:"Bacon juosteli ",category:9,amount:1},{name_en:"Cooked Shrimp",name_no:"Kokte reker",name_lt:"Krevets keptos i Remos",category:9,amount:12},{name_en:"Taco Wraps ",name_no:"Taco-lefser ",name_lt:"Taco lavaiuk ",category:10,amount:1},{name_en:"Small Taco Wraps",name_no:"Sm taco-lefser",name_lt:"Taco lavaiuk maiuk",category:10,amount:1},{name_en:"Taco Seasoning",name_no:"Taco-krydder",name_lt:"Taco prieskoni",category:10,amount:1},{name_en:"Taco Shells ",name_no:"Taco-skjell ",name_lt:"Taco laivli ",category:10,amount:1},{name_en:"Rice",name_no:"Ris",name_lt:"Ryi",category:11,amount:1},{name_en:"Puff Pastry",name_no:"Butterdeig",name_lt:"Sluoksniuotos telos",category:11,amount:1},{name_en:"Flour",name_no:"Mel",name_lt:"Milt",category:11,amount:1},{name_en:"Semolina",name_no:"Semulegryn",name_lt:"Manai",category:11,amount:1},{name_en:"Tomato Puree ",name_no:"Tomatpur ",name_lt:"Pomidor tyrs skardins ",category:12,amount:1},{name_en:"Corn ",name_no:"Mais ",name_lt:"Kukurz ",category:12,amount:1},{name_en:"Canned Peas",name_no:"Hermetiske erter",name_lt:"Konservuot irneli 2vnt",category:12,amount:1},{name_en:"Canned Corn",name_no:"Hermetisk mais",name_lt:"Konservuot kukurz",category:12,amount:1},{name_en:"Jam",name_no:"Syltety",name_lt:"Uogien",category:12,amount:1},{name_en:"Canned Beans",name_no:"Hermetiske bnner",name_lt:"Koncerv. Pupels",category:12,amount:1},{name_en:"Crackers",name_no:"Kjeks",name_lt:"Trapui",category:13,amount:1},{name_en:"Granola",name_no:"Granola",name_lt:"Granol",category:13,amount:1},{name_en:"Bread Crumbs",name_no:"Brdsmuler",name_lt:"Duonos skrebui",category:13,amount:1},{name_en:"Powdered Sugar",name_no:"Melis",name_lt:"Cukraus pudros",category:13,amount:1},{name_en:"Sugar",name_no:"Sukker",name_lt:"Cukraus",category:13,amount:1},{name_en:"Salt",name_no:"Salt",name_lt:"Druskos",category:13,amount:1},{name_en:"Baking Powder",name_no:"Bakepulver",name_lt:"Kepimo milteli",category:13,amount:1},{name_en:"Breakfast Cereal",name_no:"Frokostblanding",name_lt:"Saus pusryi",category:13,amount:1},{name_en:"Chickpeas",name_no:"Kikerter",name_lt:"Avinirni",category:13,amount:1},{name_en:"Pesto",name_no:"Pesto",name_lt:"Pesto",category:14,amount:1},{name_en:"Soy Sauce",name_no:"Soyasaus",name_lt:"Soj",category:14,amount:1},{name_en:"Bouillon Cubes",name_no:"Buljonterninger",name_lt:"Sultinio kubeli",category:14,amount:1},{name_en:"Mustard",name_no:"Sennep",name_lt:"Garstyi",category:14,amount:1},{name_en:"Karma Spice Jar",name_no:"Karma krydderglass",name_lt:"Karma prieskoni sloviklis",category:14,amount:1},{name_en:"Lemon Concentrate",name_no:"Sitronkonsentrat",name_lt:"Citrinos koncentrato buteliukyje",category:14,amount:1},{name_en:"Sprite",name_no:"Sprite",name_lt:"Sprite",category:15,amount:1},{name_en:"Non-Alcoholic Beer",name_no:"Alkoholfritt l",name_lt:"Nealkoholinio alaus",category:15,amount:1},{name_en:"Mineral Water",name_no:"Mineralvann",name_lt:"Mineralinio",category:15,amount:1},{name_en:"Schweppes",name_no:"Schweppes",name_lt:"vepsas",category:15,amount:1},{name_en:"Toilet Paper",name_no:"Toalettpapir",name_lt:"Tualetinio popieriaus",category:16,amount:1},{name_en:"Paper Towels",name_no:"Kjkkenpapir",name_lt:"Rank popieriaus",category:16,amount:1},{name_en:"Baking Paper",name_no:"Bakepapir",name_lt:"Kepimo popieriaus",category:16,amount:1},{name_en:"Trash Bags",name_no:"Sppelposer",name_lt:"Siuksliu Maisu",category:16,amount:1},{name_en:"Shower Gel",name_no:"Dusjgel",name_lt:"Duo ele",category:16,amount:1},{name_en:"Dishwasher Tablets",name_no:"Oppvasktabletter",name_lt:"Indaploves tabletes",category:16,amount:1}];function pS(s,n){const i=I.useRef(!1);I.useEffect(()=>{if(!s)return;(async()=>{try{if(s.initial_setup_completed||i.current)return;const{data:o}=await ye.from("lists").select("id").limit(1);if(o&&o.length>0){console.log(" User already has lists, skipping auto-setup"),await ye.from("profiles").update({initial_setup_completed:!0}).eq("id",s.id);return}i.current=!0,console.log(" First time user detected, creating default list...");const{data:c}=await ye.auth.getUser(),h=c?.user?.user_metadata?.signup_language||s.language||"en";console.log(` Using language: ${h}`);const g=_m[h]||_m.en,{data:p,error:b}=await ye.from("lists").insert({name:g,owner_id:s.id}).select().single();if(b){console.error("Error creating default list:",b.message),i.current=!1;return}console.log(` Created list: ${g} (${p.id})`);const v=bm[h]||bm.en,_={};for(let R=0;R<v.length;R++){const{data:z,error:q}=await ye.from("categories").insert({name:v[R],owner_id:s.id,sort_order:R}).select().single();!q&&z?_[R]=z.id:q&&console.error(`Error creating category ${v[R]}:`,q.message)}const E=Object.keys(_).length;console.log(` Created ${E} / ${v.length} categories`);const A=mS.map((R,z)=>{const q=R[`name_${h}`]||R.name_en,$=_[R.category];return{list_id:p.id,name:q,amount:R.amount,category_id:$||null,checked:!1,sort_order:z}});console.log(` Inserting ${A.length} items...`);for(let R=0;R<A.length;R+=50){const z=A.slice(R,R+50),{error:q}=await ye.from("items").insert(z);q&&console.error(`Error creating items chunk ${R/50+1}:`,q.message)}console.log(" Default setup operations finished");const{error:T}=await ye.from("profiles").update({initial_setup_completed:!0}).eq("id",s.id);T?console.error("Error updating profile:",T.message):(console.log(" First-time setup completed successfully!"),n&&n())}catch(o){console.error("Error in first-time setup:",o),i.current=!1}})()},[s,n])}function yS(){const{t:s,i18n:n}=en(),[i,l]=I.useState(null),[o,c]=I.useState(!0),[d,h]=I.useState(null),[g,p]=I.useState(!1),[b,v]=I.useState(()=>localStorage.getItem("show_welcome")==="true"),_=I.useRef(!1),[E,A]=I.useState(n.language);I.useEffect(()=>{ye.auth.getSession().then(({data:{session:K}})=>{l(K),c(!1)});const{data:{subscription:P}}=ye.auth.onAuthStateChange((K,fe)=>{l(fe),c(!1)});return()=>P.unsubscribe()},[]),I.useEffect(()=>{const P=K=>{console.log(" App: Language changed to:",K),A(K)};return n.on("languageChanged",P),()=>n.off("languageChanged",P)},[n]);const{profile:T,role:R,lists:z,loading:q,refresh:$}=gS(i),Y=I.useCallback(()=>{console.log(" Setup complete, showing welcome message"),localStorage.setItem("show_welcome","true"),v(!0),$()},[$]);if(pS(T,Y),I.useEffect(()=>{T?.language&&!_.current&&(console.log(" App: Syncing initial language from profile:",T.language),n.changeLanguage(T.language),_.current=!0)},[T,n]),o)return S.jsx("div",{style:{display:"grid",placeItems:"center",height:"100vh"},children:s("app.connect")});if(!i)return S.jsx(sS,{});if(q)return S.jsx("div",{style:{display:"grid",placeItems:"center",height:"100vh"},children:s("app.loading")});const F=d||(z.length>0?z[0].id:null);return S.jsxs("div",{className:"container",children:[S.jsx(oS,{lists:z,selectedListId:F,onSelectList:h,onManageLists:()=>p(!0),profile:T,role:R}),g&&S.jsx(hS,{lists:z,user:i?.user,onClose:()=>p(!1)}),b&&S.jsxs("div",{style:{backgroundColor:"hsl(140 60% 95%)",color:"hsl(140 100% 25%)",padding:"1rem 1.5rem",margin:"1rem",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsxs("strong",{style:{fontSize:"1.1rem"},children:[" ",s("welcome.title")]}),S.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.9rem",whiteSpace:"pre-line"},children:s("welcome.message")})]}),S.jsx("button",{onClick:()=>{v(!1),localStorage.removeItem("show_welcome")},style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",padding:"0.25rem",opacity:.7,boxShadow:"none"},children:""})]}),S.jsx("main",{children:F?S.jsx(fS,{listId:F}):S.jsxs("div",{className:"card",style:{padding:"2rem",textAlign:"center"},children:[S.jsx("p",{style:{marginBottom:"1rem"},children:"No lists found."}),S.jsx("button",{className:"primary",onClick:async()=>{const{data:{user:P}}=await ye.auth.getUser();if(!P)return;const{error:K}=await ye.from("lists").insert({name:"My Shopping List",owner_id:P.id});K?alert("Error creating list: "+K.message):window.location.reload()},children:"Create New List"})]})},E)]})}console.log("%c Shopping List App v1.2.0 - Debug Build ","background: #222; color: #bada55");ut&&ut.on("languageChanged",s=>{console.log(" i18n: Language changed to:",s)});xv.createRoot(document.getElementById("root")).render(S.jsx(I.StrictMode,{children:S.jsx(yS,{})}));
